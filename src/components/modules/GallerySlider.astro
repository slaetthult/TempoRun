---
import '@styles/modules/_gallery-slider.scss';
import Modalbox from "@components/partials/Modalbox.astro";
import Slider from "@components/partials/Slider.astro";
import TheImage from "@components/partials/TheImage.astro";

const sliderSettings = {
    loop: true,
    speed: 500,
    slidesPerView: 1,
    autoplay: {
        delay: 6000
    },
    breakpoints: {
        768: {
            slidesPerView: 2
        }
    }
}

const sliderSettingsJSON = JSON.stringify(sliderSettings);
---

<div class="gallery-slider">
    <div class="grid-wrap">
        <div class="w12">

            <Slider sliderSettings={sliderSettingsJSON}>
                <div class="swiper-slide">
                    <figure>
                        <TheImage
                                src="https://placehold.co/1000x489"
                                width="978"
                                height="489"
                                sizes={'viewport:450, size:489 | viewport:320, size:450'}
                                loading="lazy"
                                alt="A description of my image."
                        />
                    </figure>
                </div>
                <div class="swiper-slide">
                    <figure>
                        <TheImage
                                src="https://placehold.co/1000x489"
                                width="978"
                                height="489"
                                sizes={'viewport:450, size:489 | viewport:320, size:450'}
                                loading="lazy"
                                alt="A description of my image."
                        />
                    </figure>
                </div>
                <div class="swiper-slide">
                    <figure>
                        <TheImage
                                src="https://placehold.co/1000x489"
                                width="978"
                                height="489"
                                sizes={'viewport:450, size:489 | viewport:320, size:450'}
                                loading="lazy"
                                alt="A description of my image."
                        />
                    </figure>
                </div>
                <div class="swiper-slide">
                    <figure>
                        <TheImage
                                src="https://placehold.co/1000x489"
                                width="978"
                                height="489"
                                sizes={'viewport:450, size:489 | viewport:320, size:450'}
                                loading="lazy"
                                alt="A description of my image."
                        />
                    </figure>
                </div>
                <div class="swiper-slide">
                    <figure>
                        <TheImage
                                src="https://placehold.co/1000x489"
                                width="978"
                                height="489"
                                sizes={'viewport:450, size:489 | viewport:320, size:450'}
                                loading="lazy"
                                alt="A description of my image."
                        />
                    </figure>
                </div>
            </Slider>

            <button data-open-modal="test1">Modalbox 1</button>
            <Modalbox id="test1" classes="my-modal">
                <h1>I am Modalbox 1</h1>
                <button data-close-modal>close it</button>
            </Modalbox>

            <button data-open-modal="test2">Modalbox 2</button>
            <Modalbox id="test2">
                <h1>Modalbox 2</h1>
                <button data-close-modal>close it</button>
            </Modalbox>

        </div>
    </div>
</div>