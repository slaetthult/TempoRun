/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={733:e=>{function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function n(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},t.prototype.emit=function(e){var t,o,a,s,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||n(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(i(o=this._events[e]))return!1;if(r(o))switch(arguments.length){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),o.apply(this,s)}else if(n(o))for(s=Array.prototype.slice.call(arguments,1),a=(u=o.slice()).length,c=0;c<a;c++)u[c].apply(this,s);return!0},t.prototype.addListener=function(e,o){var a;if(!r(o))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(o.listener)?o.listener:o),this._events[e]?n(this._events[e])?this._events[e].push(o):this._events[e]=[this._events[e],o]:this._events[e]=o,n(this._events[e])&&!this._events[e].warned&&(a=i(this._maxListeners)?t.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},t.prototype.removeListener=function(e,t){var i,o,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(i=this._events[e]).length,o=-1,i===t||r(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(n(i)){for(s=a;s-- >0;)if(i[s]===t||i[s].listener&&i[s].listener===t){o=s;break}if(o<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},t.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},t.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},t.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},t.listenerCount=function(e,t){return e.listenerCount(t)}},103:(e,t,r)=>{"use strict";var n=r(571),i=r(371),o=r(691);function a(e,t,r,i){return new n(e,t,r,i)}a.version=r(938),a.AlgoliaSearchHelper=n,a.SearchParameters=i,a.SearchResults=o,e.exports=a},732:(e,t,r)=>{"use strict";var n=r(733);function i(e,t){this.main=e,this.fn=t,this.lastResults=null}r(14)(i,n),i.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},i.prototype.getModifiedState=function(e){return this.fn(e)},e.exports=i},54:(e,t,r)=>{"use strict";var n=r(110),i=r(317),o=r(383),a={addRefinement:function(e,t,r){if(a.isRefined(e,t,r))return e;var i=""+r,o=e[t]?e[t].concat(i):[i],s={};return s[t]=o,n({},s,e)},removeRefinement:function(e,t,r){if(void 0===r)return a.clearRefinement(e,(function(e,r){return t===r}));var n=""+r;return a.clearRefinement(e,(function(e,r){return t===r&&n===e}))},toggleRefinement:function(e,t,r){if(void 0===r)throw new Error("toggleRefinement should be used with a value");return a.isRefined(e,t,r)?a.removeRefinement(e,t,r):a.addRefinement(e,t,r)},clearRefinement:function(e,t,r){if(void 0===t)return i(e)?{}:e;if("string"==typeof t)return o(e,[t]);if("function"==typeof t){var n=!1,a=Object.keys(e).reduce((function(i,o){var a=e[o]||[],s=a.filter((function(e){return!t(e,o,r)}));return s.length!==a.length&&(n=!0),i[o]=s,i}),{});return n?a:e}},isRefined:function(e,t,r){var n=Boolean(e[t])&&e[t].length>0;if(void 0===r||!n)return n;var i=""+r;return-1!==e[t].indexOf(i)}};e.exports=a},371:(e,t,r)=>{"use strict";var n=r(110),i=r(849),o=r(843),a=r(728),s=r(317),c=r(383),u=r(507),l=r(208),f=r(54);function h(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((function(e,r){return h(t[r],e)})):e===t}function p(e){var t=e?p._parseNumbers(e):{};void 0===t.userToken||l(t.userToken)||console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var r=this;Object.keys(t).forEach((function(e){var n=-1!==p.PARAMETERS.indexOf(e),i=void 0!==t[e];!n&&i&&(r[e]=t[e])}))}p.PARAMETERS=Object.keys(new p),p._parseNumbers=function(e){if(e instanceof p)return e;var t={};if(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach((function(r){var n=e[r];if("string"==typeof n){var i=parseFloat(n);t[r]=isNaN(i)?n:i}})),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map((function(e){return Array.isArray(e)?e.map((function(e){return parseFloat(e)})):e}))),e.numericRefinements){var r={};Object.keys(e.numericRefinements).forEach((function(t){var n=e.numericRefinements[t]||{};r[t]={},Object.keys(n).forEach((function(e){var i=n[e].map((function(e){return Array.isArray(e)?e.map((function(e){return"string"==typeof e?parseFloat(e):e})):"string"==typeof e?parseFloat(e):e}));r[t][e]=i}))})),t.numericRefinements=r}return a(e,t)},p.make=function(e){var t=new p(e);return(e.hierarchicalFacets||[]).forEach((function(e){if(e.rootPath){var r=t.getHierarchicalRefinement(e.name);r.length>0&&0!==r[0].indexOf(e.rootPath)&&(t=t.clearRefinements(e.name)),0===(r=t.getHierarchicalRefinement(e.name)).length&&(t=t.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}})),t},p.validate=function(e,t){var r=t||{};return e.tagFilters&&r.tagRefinements&&r.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&r.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&r.numericRefinements&&s(r.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):s(e.numericRefinements)&&r.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},p.prototype={constructor:p,clearRefinements:function(e){var t={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:f.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:f.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:f.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:f.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return t.numericRefinements===this.numericRefinements&&t.facetsRefinements===this.facetsRefinements&&t.facetsExcludes===this.facetsExcludes&&t.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&t.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(t)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,r){var n=u(r);if(this.isNumericRefined(e,t,n))return this;var i=a({},this.numericRefinements);return i[e]=a({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(n)):i[e][t]=[n],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)&&this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsExcludes[e]||[]},removeNumericRefinement:function(e,t,r){var n=r;return void 0!==n?this.isNumericRefined(e,t,n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(r,i){return i===e&&r.op===t&&h(r.val,u(n))}))}):this:void 0!==t?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(r,n){return n===e&&r.op===t}))}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(t,r){return r===e}))}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(e){if(void 0===e)return s(this.numericRefinements)?{}:this.numericRefinements;if("string"==typeof e)return c(this.numericRefinements,[e]);if("function"==typeof e){var t=!1,r=this.numericRefinements,n=Object.keys(r).reduce((function(n,i){var o=r[i],a={};return o=o||{},Object.keys(o).forEach((function(r){var n=o[r]||[],s=[];n.forEach((function(t){e({val:t,op:r},i,"numeric")||s.push(t)})),s.length!==n.length&&(t=!0),a[r]=s})),n[i]=a,n}),{});return t?n:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return f.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:f.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return f.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:f.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return f.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:f.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:this.facets.filter((function(t){return t!==e}))}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter((function(t){return t!==e}))}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter((function(t){return t.name!==e}))}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return f.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:f.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return f.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:f.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return f.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:f.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.filter((function(t){return t!==e}))};return this.setQueryParameters(t)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:f.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:f.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:f.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),i={};return void 0!==this.hierarchicalFacetsRefinements[e]&&this.hierarchicalFacetsRefinements[e].length>0&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+r))?-1===t.indexOf(r)?i[e]=[]:i[e]=[t.slice(0,t.lastIndexOf(r))]:i[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:n({},i,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var r={};return r[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:n({},r,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:n({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&f.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&f.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){return!!this.isDisjunctiveFacet(e)&&f.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))return!1;var r=this.getHierarchicalRefinement(e);return t?-1!==r.indexOf(t):r.length>0},isNumericRefined:function(e,t,r){if(void 0===r&&void 0===t)return Boolean(this.numericRefinements[e]);var n=this.numericRefinements[e]&&void 0!==this.numericRefinements[e][t];if(void 0===r||!n)return n;var o,a,s=u(r),c=void 0!==(o=this.numericRefinements[e][t],a=s,i(o,(function(e){return h(e,a)})));return n&&c},isTagRefined:function(e){return-1!==this.tagRefinements.indexOf(e)},getRefinedDisjunctiveFacets:function(){var e=this,t=o(Object.keys(this.numericRefinements).filter((function(t){return Object.keys(e.numericRefinements[t]).length>0})),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter((function(t){return e.disjunctiveFacetsRefinements[t].length>0})).concat(t).concat(this.getRefinedHierarchicalFacets()).sort()},getRefinedHierarchicalFacets:function(){var e=this;return o(this.hierarchicalFacets.map((function(e){return e.name})),Object.keys(this.hierarchicalFacetsRefinements).filter((function(t){return e.hierarchicalFacetsRefinements[t].length>0}))).sort()},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter((function(t){return-1===e.indexOf(t)}))},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,t={},r=this;return Object.keys(this).forEach((function(n){var i=r[n];-1===e.indexOf(n)&&void 0!==i&&(t[n]=i)})),t},setQueryParameter:function(e,t){if(this[e]===t)return this;var r={};return r[e]=t,this.setQueryParameters(r)},setQueryParameters:function(e){if(!e)return this;var t=p.validate(this,e);if(t)throw t;var r=this,n=p._parseNumbers(e),i=Object.keys(this).reduce((function(e,t){return e[t]=r[t],e}),{}),o=Object.keys(n).reduce((function(e,t){var r=void 0!==e[t],i=void 0!==n[t];return r&&!i?c(e,[t]):(i&&(e[t]=n[t]),e)}),i);return new this.constructor(o)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(e){return i(this.hierarchicalFacets,(function(t){return t.name===e}))},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e));return t.split(r).map((function(e){return e.trim()}))},toString:function(){return JSON.stringify(this,null,2)}},e.exports=p},673:(e,t,r)=>{"use strict";e.exports=function(e){return function(t,r){var n=e.hierarchicalFacets[r],u=e.hierarchicalFacetsRefinements[n.name]&&e.hierarchicalFacetsRefinements[n.name][0]||"",l=e._getHierarchicalFacetSeparator(n),f=e._getHierarchicalRootPath(n),h=e._getHierarchicalShowParentLevel(n),p=o(e._getHierarchicalFacetSortBy(n)),d=t.every((function(e){return e.exhaustive})),m=function(e,t,r,n,o){return function(u,l,f){var h=u;if(f>0){var p=0;for(h=u;p<f;){var d=h&&Array.isArray(h.data)?h.data:[];h=i(d,(function(e){return e.isRefined})),p++}}if(h){var m=Object.keys(l.data).map((function(e){return[e,l.data[e]]})).filter((function(e){return function(e,t,r,n,i,o){return(!i||0===e.indexOf(i)&&i!==e)&&(!i&&-1===e.indexOf(n)||i&&e.split(n).length-i.split(n).length==1||-1===e.indexOf(n)&&-1===r.indexOf(n)||0===r.indexOf(e)||0===e.indexOf(t+n)&&(o||0===e.indexOf(r)))}(e[0],h.path||r,o,t,r,n)}));h.data=a(m.map((function(e){var r=e[0];return function(e,t,r,n,i){var o=t.split(r);return{name:o[o.length-1].trim(),path:t,escapedValue:s(t),count:e,isRefined:n===t||0===n.indexOf(t+r),exhaustive:i,data:null}}(e[1],r,t,c(o),l.exhaustive)})),e[0],e[1])}return u}}(p,l,f,h,u),y=t;return f&&(y=t.slice(f.split(l).length)),y.reduce(m,{name:e.hierarchicalFacets[r].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:d,data:null})}};var n=r(909),i=r(849),o=r(577),a=r(601),s=n.escapeFacetValue,c=n.unescapeFacetValue},691:(e,t,r)=>{"use strict";var n=r(965),i=r(110),o=r(909),a=r(849),s=r(917),c=r(577),u=r(728),l=r(601),f=o.escapeFacetValue,h=o.unescapeFacetValue,p=r(673);function d(e){var t={};return e.forEach((function(e,r){t[e]=r})),t}function m(e,t,r){t&&t[r]&&(e.stats=t[r])}function y(e,t,r){var o=t[0];this._rawResults=t;var c=this;Object.keys(o).forEach((function(e){c[e]=o[e]}));var l=u({persistHierarchicalRootCount:!1},r);Object.keys(l).forEach((function(e){c[e]=l[e]})),this.processingTimeMS=t.reduce((function(e,t){return void 0===t.processingTimeMS?e:e+t.processingTimeMS}),0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map((function(){return[]})),this.facets=[];var f=e.getRefinedDisjunctiveFacets(),y=d(e.facets),g=d(e.disjunctiveFacets),v=1,b=o.facets||{};Object.keys(b).forEach((function(t){var r,n,i=b[t],u=(r=e.hierarchicalFacets,n=t,a(r,(function(e){return(e.attributes||[]).indexOf(n)>-1})));if(u){var l=u.attributes.indexOf(t),f=s(e.hierarchicalFacets,(function(e){return e.name===u.name}));c.hierarchicalFacets[f][l]={attribute:t,data:i,exhaustive:o.exhaustiveFacetsCount}}else{var h,p=-1!==e.disjunctiveFacets.indexOf(t),d=-1!==e.facets.indexOf(t);p&&(h=g[t],c.disjunctiveFacets[h]={name:t,data:i,exhaustive:o.exhaustiveFacetsCount},m(c.disjunctiveFacets[h],o.facets_stats,t)),d&&(h=y[t],c.facets[h]={name:t,data:i,exhaustive:o.exhaustiveFacetsCount},m(c.facets[h],o.facets_stats,t))}})),this.hierarchicalFacets=n(this.hierarchicalFacets),f.forEach((function(r){var n=t[v],a=n&&n.facets?n.facets:{},l=e.getHierarchicalFacetByName(r);Object.keys(a).forEach((function(t){var r,f=a[t];if(l){r=s(e.hierarchicalFacets,(function(e){return e.name===l.name}));var p=s(c.hierarchicalFacets[r],(function(e){return e.attribute===t}));if(-1===p)return;c.hierarchicalFacets[r][p].data=u({},c.hierarchicalFacets[r][p].data,f)}else{r=g[t];var d=o.facets&&o.facets[t]||{};c.disjunctiveFacets[r]={name:t,data:i({},f,d),exhaustive:n.exhaustiveFacetsCount},m(c.disjunctiveFacets[r],n.facets_stats,t),e.disjunctiveFacetsRefinements[t]&&e.disjunctiveFacetsRefinements[t].forEach((function(n){!c.disjunctiveFacets[r].data[n]&&e.disjunctiveFacetsRefinements[t].indexOf(h(n))>-1&&(c.disjunctiveFacets[r].data[n]=0)}))}})),v++})),e.getRefinedHierarchicalFacets().forEach((function(r){var n=e.getHierarchicalFacetByName(r),o=e._getHierarchicalFacetSeparator(n),a=e.getHierarchicalRefinement(r);0===a.length||a[0].split(o).length<2||t.slice(v).forEach((function(t){var r=t&&t.facets?t.facets:{};Object.keys(r).forEach((function(t){var u=r[t],l=s(e.hierarchicalFacets,(function(e){return e.name===n.name})),f=s(c.hierarchicalFacets[l],(function(e){return e.attribute===t}));if(-1!==f){var h={};if(a.length>0&&!c.persistHierarchicalRootCount){var p=a[0].split(o)[0];h[p]=c.hierarchicalFacets[l][f].data[p]}c.hierarchicalFacets[l][f].data=i(h,u,c.hierarchicalFacets[l][f].data)}})),v++}))})),Object.keys(e.facetsExcludes).forEach((function(t){var r=e.facetsExcludes[t],n=y[t];c.facets[n]={name:t,data:b[t],exhaustive:o.exhaustiveFacetsCount},r.forEach((function(e){c.facets[n]=c.facets[n]||{name:t},c.facets[n].data=c.facets[n].data||{},c.facets[n].data[e]=0}))})),this.hierarchicalFacets=this.hierarchicalFacets.map(p(e)),this.facets=n(this.facets),this.disjunctiveFacets=n(this.disjunctiveFacets),this._state=e}function g(e,t){function r(e){return e.name===t}if(e._state.isConjunctiveFacet(t)){var n=a(e.facets,r);return n?Object.keys(n.data).map((function(r){var i=f(r);return{name:r,escapedValue:i,count:n.data[r],isRefined:e._state.isFacetRefined(t,i),isExcluded:e._state.isExcludeRefined(t,r)}})):[]}if(e._state.isDisjunctiveFacet(t)){var i=a(e.disjunctiveFacets,r);return i?Object.keys(i.data).map((function(r){var n=f(r);return{name:r,escapedValue:n,count:i.data[r],isRefined:e._state.isDisjunctiveFacetRefined(t,n)}})):[]}if(e._state.isHierarchicalFacet(t)){var o=a(e.hierarchicalFacets,r);if(!o)return o;var s=e._state.getHierarchicalFacetByName(t),c=e._state._getHierarchicalFacetSeparator(s),u=h(e._state.getHierarchicalRefinement(t)[0]||"");0===u.indexOf(s.rootPath)&&(u=u.replace(s.rootPath+c,""));var l=u.split(c);return l.unshift(t),v(o,l,0),o}}function v(e,t,r){e.isRefined=e.name===t[r],e.data&&e.data.forEach((function(e){v(e,t,r+1)}))}function b(e,t,r,n){if(n=n||0,Array.isArray(t))return e(t,r[n]);if(!t.data||0===t.data.length)return t;var o=t.data.map((function(t){return b(e,t,r,n+1)})),a=e(o,r[n]);return i({data:a},t)}function O(e,t){var r=a(e,(function(e){return e.name===t}));return r&&r.stats}function w(e,t,r,n,i){var o=a(i,(function(e){return e.name===r})),s=o&&o.data&&o.data[n]?o.data[n]:0,c=o&&o.exhaustive||!1;return{type:t,attributeName:r,name:n,count:s,exhaustive:c}}y.prototype.getFacetByName=function(e){function t(t){return t.name===e}return a(this.facets,t)||a(this.disjunctiveFacets,t)||a(this.hierarchicalFacets,t)},y.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],y.prototype.getFacetValues=function(e,t){var r=g(this,e);if(r){var n=i({},t,{sortBy:y.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),o=this;return b((function(e,t){if(n.facetOrdering){var r=function(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}(o,t);if(r)return function(e,t){var r=[],n=[],i=(t.order||[]).reduce((function(e,t,r){return e[t]=r,e}),{});e.forEach((function(e){var t=e.path||e.name;void 0!==i[t]?r[i[t]]=e:n.push(e)})),r=r.filter((function(e){return e}));var o,a=t.sortRemainingBy;return"hidden"===a?r:(o="alpha"===a?[["path","name"],["asc","asc"]]:[["count"],["desc"]],r.concat(l(n,o[0],o[1])))}(e,r)}if(Array.isArray(n.sortBy)){var i=c(n.sortBy,y.DEFAULT_SORT);return l(e,i[0],i[1])}if("function"==typeof n.sortBy)return function(e,t){return t.sort(e)}(n.sortBy,e);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")}),r,Array.isArray(r)?[e]:o._state.getHierarchicalFacetByName(r.name).attributes)}},y.prototype.getFacetStats=function(e){return this._state.isConjunctiveFacet(e)?O(this.facets,e):this._state.isDisjunctiveFacet(e)?O(this.disjunctiveFacets,e):void 0},y.prototype.getRefinements=function(){var e=this._state,t=this,r=[];return Object.keys(e.facetsRefinements).forEach((function(n){e.facetsRefinements[n].forEach((function(e){r.push(w(0,"facet",n,e,t.facets))}))})),Object.keys(e.facetsExcludes).forEach((function(n){e.facetsExcludes[n].forEach((function(e){r.push(w(0,"exclude",n,e,t.facets))}))})),Object.keys(e.disjunctiveFacetsRefinements).forEach((function(n){e.disjunctiveFacetsRefinements[n].forEach((function(e){r.push(w(0,"disjunctive",n,e,t.disjunctiveFacets))}))})),Object.keys(e.hierarchicalFacetsRefinements).forEach((function(n){e.hierarchicalFacetsRefinements[n].forEach((function(i){r.push(function(e,t,r,n){var i=e.getHierarchicalFacetByName(t),o=e._getHierarchicalFacetSeparator(i),s=r.split(o),c=a(n,(function(e){return e.name===t})),u=s.reduce((function(e,t){var r=e&&a(e.data,(function(e){return e.name===t}));return void 0!==r?r:e}),c),l=u&&u.count||0,f=u&&u.exhaustive||!1,h=u&&u.path||"";return{type:"hierarchical",attributeName:t,name:h,count:l,exhaustive:f}}(e,n,i,t.hierarchicalFacets))}))})),Object.keys(e.numericRefinements).forEach((function(t){var n=e.numericRefinements[t];Object.keys(n).forEach((function(e){n[e].forEach((function(n){r.push({type:"numeric",attributeName:t,name:n,numericValue:n,operator:e})}))}))})),e.tagRefinements.forEach((function(e){r.push({type:"tag",attributeName:"_tags",name:e})})),r},e.exports=y},571:(e,t,r)=>{"use strict";var n=r(733),i=r(732),o=r(909).escapeFacetValue,a=r(14),s=r(728),c=r(317),u=r(383),l=r(228),f=r(371),h=r(691),p=r(938);function d(e,t,r,n){"function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+p+")"),this.setClient(e);var i=r||{};i.index=t,this.state=f.make(i),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0,this._searchResultsOptions=n}function m(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}function y(){return this.state.page}a(d,n),d.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},d.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},d.prototype.getQuery=function(){var e=this.state;return l._getHitsSearchParams(e)},d.prototype.searchOnce=function(e,t){var r=e?this.state.setQueryParameters(e):this.state,n=l._getQueries(r.index,r),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:r}),!t)return this.client.search(n).then((function(e){return i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),{content:new h(r,e.results),state:r,_originalResponse:e}}),(function(e){throw i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),e}));this.client.search(n).then((function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(null,new h(r,e.results),r)})).catch((function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(e,null,r)}))},d.prototype.findAnswers=function(e){console.warn("[algoliasearch-helper] answers is no longer supported");var t=this.state,r=this.derivedHelpers[0];if(!r)return Promise.resolve([]);var n=r.getModifiedState(t),i=s({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:u(l._getHitsSearchParams(n),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),o="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if("function"!=typeof this.client.initIndex)throw new Error(o);var a=this.client.initIndex(n.index);if("function"!=typeof a.findAnswers)throw new Error(o);return a.findAnswers(n.query,e.queryLanguages,i)},d.prototype.searchForFacetValues=function(e,t,r,n){var i="function"==typeof this.client.searchForFacetValues,a="function"==typeof this.client.initIndex;if(!i&&!a&&"function"!=typeof this.client.search)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var s=this.state.setQueryParameters(n||{}),c=s.isDisjunctiveFacet(e),u=l.getSearchForFacetQuery(e,t,r,s);this._currentNbQueries++;var f,h=this;return i?f=this.client.searchForFacetValues([{indexName:s.index,params:u}]):a?f=this.client.initIndex(s.index).searchForFacetValues(u):(delete u.facetName,f=this.client.search([{type:"facet",facet:e,indexName:s.index,params:u}]).then((function(e){return e.results[0]}))),this.emit("searchForFacetValues",{state:s,facet:e,query:t}),f.then((function(t){return h._currentNbQueries--,0===h._currentNbQueries&&h.emit("searchQueueEmpty"),(t=Array.isArray(t)?t[0]:t).facetHits.forEach((function(t){t.escapedValue=o(t.value),t.isRefined=c?s.isDisjunctiveFacetRefined(e,t.escapedValue):s.isFacetRefined(e,t.escapedValue)})),t}),(function(e){throw h._currentNbQueries--,0===h._currentNbQueries&&h.emit("searchQueueEmpty"),e}))},d.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this},d.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this},d.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},d.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},d.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},d.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this},d.prototype.addNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,r),isPageReset:!0}),this},d.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this},d.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},d.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this},d.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},d.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this},d.prototype.removeNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,r),isPageReset:!0}),this},d.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},d.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},d.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this},d.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this},d.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},d.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this},d.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},d.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this},d.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this},d.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},d.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},d.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this},d.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},d.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this},d.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)},d.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)},d.prototype.setCurrentPage=m,d.prototype.setPage=m,d.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this},d.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this},d.prototype.setState=function(e){return this._change({state:f.make(e),isPageReset:!1}),this},d.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new f(e),this},d.prototype.hasRefinements=function(e){return!!c(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},d.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},d.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},d.prototype.hasTag=function(e){return this.state.isTagRefined(e)},d.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},d.prototype.getIndex=function(){return this.state.index},d.prototype.getCurrentPage=y,d.prototype.getPage=y,d.prototype.getTags=function(){return this.state.tagRefinements},d.prototype.getRefinements=function(e){var t=[];this.state.isConjunctiveFacet(e)?(this.state.getConjunctiveRefinements(e).forEach((function(e){t.push({value:e,type:"conjunctive"})})),this.state.getExcludeRefinements(e).forEach((function(e){t.push({value:e,type:"exclude"})}))):this.state.isDisjunctiveFacet(e)&&this.state.getDisjunctiveRefinements(e).forEach((function(e){t.push({value:e,type:"disjunctive"})}));var r=this.state.getNumericRefinements(e);return Object.keys(r).forEach((function(e){var n=r[e];t.push({value:n,operator:e,type:"numeric"})})),t},d.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},d.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},d.prototype._search=function(e){var t=this.state,r=[],n=[];e.onlyWithDerivedHelpers||(n=l._getQueries(t.index,t),r.push({state:t,queriesCount:n.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map((function(e){var n=e.getModifiedState(t),i=n.index?l._getQueries(n.index,n):[];return r.push({state:n,queriesCount:i.length,helper:e}),e.emit("search",{state:n,results:e.lastResults}),i})),o=Array.prototype.concat.apply(n,i),a=this._queryId++;if(this._currentNbQueries++,!o.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,r,a));try{this.client.search(o).then(this._dispatchAlgoliaResponse.bind(this,r,a)).catch(this._dispatchAlgoliaError.bind(this,a))}catch(e){this.emit("error",{error:e})}},d.prototype._dispatchAlgoliaResponse=function(e,t,r){var n=this;if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var i=r.results.slice();e.forEach((function(e){var t=e.state,r=e.queriesCount,o=e.helper,a=i.splice(0,r);t.index?(o.lastResults=new h(t,a,n._searchResultsOptions),o.emit("result",{results:o.lastResults,state:t})):o.emit("result",{results:null,state:t})}))}},d.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},d.prototype.containsRefinement=function(e,t,r,n){return e||0!==t.length||0!==r.length||0!==n.length},d.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0},d.prototype._change=function(e){var t=e.state,r=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:r}))},d.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},d.prototype.setClient=function(e){return this.client===e||("function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+p+")"),this.client=e),this},d.prototype.getClient=function(){return this.client},d.prototype.derive=function(e){var t=new i(this,e);return this.derivedHelpers.push(t),t},d.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(-1===t)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)},d.prototype.hasPendingRequests=function(){return this._currentNbQueries>0},e.exports=d},965:e=>{"use strict";e.exports=function(e){return Array.isArray(e)?e.filter(Boolean):[]}},110:e=>{"use strict";e.exports=function(){return Array.prototype.slice.call(arguments).reduceRight((function(e,t){return Object.keys(Object(t)).forEach((function(r){void 0!==t[r]&&(void 0!==e[r]&&delete e[r],e[r]=t[r])})),e}),{})}},909:e=>{"use strict";e.exports={escapeFacetValue:function(e){return"string"!=typeof e?e:String(e).replace(/^-/,"\\-")},unescapeFacetValue:function(e){return"string"!=typeof e?e:e.replace(/^\\-/,"-")}}},849:e=>{"use strict";e.exports=function(e,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]}},917:e=>{"use strict";e.exports=function(e,t){if(!Array.isArray(e))return-1;for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}},577:(e,t,r)=>{"use strict";var n=r(849);e.exports=function(e,t){var r=(t||[]).map((function(e){return e.split(":")}));return e.reduce((function(e,t){var i=t.split(":"),o=n(r,(function(e){return e[0]===i[0]}));return i.length>1||!o?(e[0].push(i[0]),e[1].push(i[1]),e):(e[0].push(o[0]),e[1].push(o[1]),e)}),[[],[]])}},14:e=>{"use strict";e.exports=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}},843:e=>{"use strict";e.exports=function(e,t){return e.filter((function(r,n){return t.indexOf(r)>-1&&e.indexOf(r)===n}))}},728:e=>{"use strict";function t(e){return"function"==typeof e||Array.isArray(e)||"[object Object]"===Object.prototype.toString.call(e)}function r(e,n){if(e===n)return e;for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&"__proto__"!==i&&"constructor"!==i){var o=n[i],a=e[i];void 0!==a&&void 0===o||(t(a)&&t(o)?e[i]=r(a,o):e[i]="object"==typeof(s=o)&&null!==s?r(Array.isArray(s)?[]:{},s):s)}var s;return e}e.exports=function(e){t(e)||(e={});for(var n=1,i=arguments.length;n<i;n++){var o=arguments[n];t(o)&&r(e,o)}return e}},317:e=>{"use strict";e.exports=function(e){return e&&Object.keys(e).length>0}},383:e=>{"use strict";e.exports=function(e,t){if(null===e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}},601:e=>{"use strict";function t(e,t){if(e!==t){var r=void 0!==e,n=null===e,i=void 0!==t,o=null===t;if(!o&&e>t||n&&i||!r)return 1;if(!n&&e<t||o&&r||!i)return-1}return 0}e.exports=function(e,r,n){if(!Array.isArray(e))return[];Array.isArray(n)||(n=[]);var i=e.map((function(e,t){return{criteria:r.map((function(t){return e[t]})),index:t,value:e}}));return i.sort((function(e,r){for(var i=-1;++i<e.criteria.length;){var o=t(e.criteria[i],r.criteria[i]);if(o)return i>=n.length?o:"desc"===n[i]?-o:o}return e.index-r.index})),i.map((function(e){return e.value}))}},507:e=>{"use strict";e.exports=function e(t){if("number"==typeof t)return t;if("string"==typeof t)return parseFloat(t);if(Array.isArray(t))return t.map(e);throw new Error("The value should be a number, a parsable string or an array of those.")}},228:(e,t,r)=>{"use strict";var n=r(728);function i(e){return Object.keys(e).sort().reduce((function(t,r){return t[r]=e[r],t}),{})}var o={_getQueries:function(e,t){var r=[];return r.push({indexName:e,params:o._getHitsSearchParams(t)}),t.getRefinedDisjunctiveFacets().forEach((function(n){r.push({indexName:e,params:o._getDisjunctiveFacetSearchParams(t,n)})})),t.getRefinedHierarchicalFacets().forEach((function(n){var i=t.getHierarchicalFacetByName(n),a=t.getHierarchicalRefinement(n),s=t._getHierarchicalFacetSeparator(i);if(a.length>0&&a[0].split(s).length>1){var c=a[0].split(s).slice(0,-1).reduce((function(e,t,r){return e.concat({attribute:i.attributes[r],value:0===r?t:[e[e.length-1].value,t].join(s)})}),[]);c.forEach((function(n,a){var s=o._getDisjunctiveFacetSearchParams(t,n.attribute,0===a);function u(e){return i.attributes.some((function(t){return t===e.split(":")[0]}))}var l=(s.facetFilters||[]).reduce((function(e,t){if(Array.isArray(t)){var r=t.filter((function(e){return!u(e)}));r.length>0&&e.push(r)}return"string"!=typeof t||u(t)||e.push(t),e}),[]),f=c[a-1];s.facetFilters=a>0?l.concat(f.attribute+":"+f.value):l.length>0?l:void 0,r.push({indexName:e,params:s})}))}})),r},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(o._getHitsHierarchicalFacetsAttributes(e)).sort(),r=o._getFacetFilters(e),a=o._getNumericFilters(e),s=o._getTagFilters(e),c={facets:t.indexOf("*")>-1?["*"]:t,tagFilters:s};return r.length>0&&(c.facetFilters=r),a.length>0&&(c.numericFilters=a),i(n({},e.getQueryParams(),c))},_getDisjunctiveFacetSearchParams:function(e,t,r){var a=o._getFacetFilters(e,t,r),s=o._getNumericFilters(e,t),c=o._getTagFilters(e),u={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};c.length>0&&(u.tagFilters=c);var l=e.getHierarchicalFacetByName(t);return u.facets=l?o._getDisjunctiveHierarchicalFacetAttribute(e,l,r):t,s.length>0&&(u.numericFilters=s),a.length>0&&(u.facetFilters=a),i(n({},e.getQueryParams(),u))},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var r=[];return Object.keys(e.numericRefinements).forEach((function(n){var i=e.numericRefinements[n]||{};Object.keys(i).forEach((function(e){var o=i[e]||[];t!==n&&o.forEach((function(t){if(Array.isArray(t)){var i=t.map((function(t){return n+e+t}));r.push(i)}else r.push(n+e+t)}))}))})),r},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,r){var n=[],i=e.facetsRefinements||{};Object.keys(i).sort().forEach((function(e){(i[e]||[]).slice().sort().forEach((function(t){n.push(e+":"+t)}))}));var o=e.facetsExcludes||{};Object.keys(o).sort().forEach((function(e){(o[e]||[]).sort().forEach((function(t){n.push(e+":-"+t)}))}));var a=e.disjunctiveFacetsRefinements||{};Object.keys(a).sort().forEach((function(e){var r=a[e]||[];if(e!==t&&r&&0!==r.length){var i=[];r.slice().sort().forEach((function(t){i.push(e+":"+t)})),n.push(i)}}));var s=e.hierarchicalFacetsRefinements||{};return Object.keys(s).sort().forEach((function(i){var o=(s[i]||[])[0];if(void 0!==o){var a,c,u=e.getHierarchicalFacetByName(i),l=e._getHierarchicalFacetSeparator(u),f=e._getHierarchicalRootPath(u);if(t===i){if(-1===o.indexOf(l)||!f&&!0===r||f&&f.split(l).length===o.split(l).length)return;f?(c=f.split(l).length-1,o=f):(c=o.split(l).length-2,o=o.slice(0,o.lastIndexOf(l))),a=u.attributes[c]}else c=o.split(l).length-1,a=u.attributes[c];a&&n.push([a+":"+o])}})),n},_getHitsHierarchicalFacetsAttributes:function(e){return e.hierarchicalFacets.reduce((function(t,r){var n=e.getHierarchicalRefinement(r.name)[0];if(!n)return t.push(r.attributes[0]),t;var i=e._getHierarchicalFacetSeparator(r),o=n.split(i).length,a=r.attributes.slice(0,o+1);return t.concat(a)}),[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,r){var n=e._getHierarchicalFacetSeparator(t);if(!0===r){var i=e._getHierarchicalRootPath(t),o=0;return i&&(o=i.split(n).length),[t.attributes[o]]}var a=(e.getHierarchicalRefinement(t.name)[0]||"").split(n).length-1;return t.attributes.slice(0,a+1)},getSearchForFacetQuery:function(e,t,r,a){var s=a.isDisjunctiveFacet(e)?a.clearRefinements(e):a,c={facetQuery:t,facetName:e};return"number"==typeof r&&(c.maxFacetHits=r),i(n({},o._getHitsSearchParams(s),c))}};e.exports=o},208:e=>{"use strict";e.exports=function(e){return null!==e&&/^[a-zA-Z0-9_-]{1,64}$/.test(e)}},938:e=>{"use strict";e.exports="3.16.2"},557:function(e){e.exports=function(){"use strict";function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach((function(t){e(r,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))}))}return r}function n(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){var t,r="algoliasearch-client-js-".concat(e.key),n=function(){return void 0===t&&(t=e.localStorage||window.localStorage),t},o=function(){return JSON.parse(n().getItem(r)||"{}")},a=function(e){n().setItem(r,JSON.stringify(e))},s=function(){var t=e.timeToLive?1e3*e.timeToLive:null,r=o(),n=Object.fromEntries(Object.entries(r).filter((function(e){return void 0!==i(e,2)[1].timestamp})));if(a(n),t){var s=Object.fromEntries(Object.entries(n).filter((function(e){var r=i(e,2)[1],n=(new Date).getTime();return!(r.timestamp+t<n)})));a(s)}};return{get:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then((function(){s();var t=JSON.stringify(e);return o()[t]})).then((function(e){return Promise.all([e?e.value:t(),void 0!==e])})).then((function(e){var t=i(e,2),n=t[0],o=t[1];return Promise.all([n,o||r.miss(n)])})).then((function(e){return i(e,1)[0]}))},set:function(e,t){return Promise.resolve().then((function(){var i=o();return i[JSON.stringify(e)]={timestamp:(new Date).getTime(),value:t},n().setItem(r,JSON.stringify(i)),t}))},delete:function(e){return Promise.resolve().then((function(){var t=o();delete t[JSON.stringify(e)],n().setItem(r,JSON.stringify(t))}))},clear:function(){return Promise.resolve().then((function(){n().removeItem(r)}))}}}function s(e){var t=o(e.caches),r=t.shift();return void 0===r?{get:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return t().then((function(e){return Promise.all([e,r.miss(e)])})).then((function(e){return i(e,1)[0]}))},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return r.get(e,n,i).catch((function(){return s({caches:t}).get(e,n,i)}))},set:function(e,n){return r.set(e,n).catch((function(){return s({caches:t}).set(e,n)}))},delete:function(e){return r.delete(e).catch((function(){return s({caches:t}).delete(e)}))},clear:function(){return r.clear().catch((function(){return s({caches:t}).clear()}))}}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},o=JSON.stringify(r);if(o in t)return Promise.resolve(e.serializable?JSON.parse(t[o]):t[o]);var a=n(),s=i&&i.miss||function(){return Promise.resolve()};return a.then((function(e){return s(e)})).then((function(){return a}))},set:function(r,n){return t[JSON.stringify(r)]=e.serializable?JSON.stringify(n):n,Promise.resolve(n)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function u(e,t,r){var n={"x-algolia-api-key":r,"x-algolia-application-id":t};return{headers:function(){return e===m.WithinHeaders?n:{}},queryParameters:function(){return e===m.WithinQueryParameters?n:{}}}}function l(e){var t=0;return e((function r(){return t++,new Promise((function(n){setTimeout((function(){n(e(r))}),Math.min(100*t,1e3))}))}))}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return Promise.resolve()};return Object.assign(e,{wait:function(r){return f(e.then((function(e){return Promise.all([t(e,r),e])})).then((function(e){return e[1]})))}})}function h(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}function p(e,t){return t?(Object.keys(t).forEach((function(r){e[r]=t[r](e)})),e):e}function d(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=0;return e.replace(/%s/g,(function(){return encodeURIComponent(r[i++])}))}var m={WithinQueryParameters:0,WithinHeaders:1};function y(e,t){var r=e||{},n=r.data||{};return Object.keys(r).forEach((function(e){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(n[e]=r[e])})),{data:Object.entries(n).length>0?n:void 0,timeout:r.timeout||t,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var g={Read:1,Write:2,Any:3},v=1,b=2,O=3;function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;return r(r({},e),{},{status:t,lastUpdate:Date.now()})}function S(e){return"string"==typeof e?{protocol:"https",url:e,accept:g.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||g.Any}}var j="DELETE",P="GET",R="POST",_="PUT";function x(e,t,n,i){var a=[],s=function(e,t){if(e.method!==P&&(void 0!==e.data||void 0!==t.data)){var n=Array.isArray(e.data)?e.data:r(r({},e.data),t.data);return JSON.stringify(n)}}(n,i),c=function(e,t){var n=r(r({},e.headers),t.headers),i={};return Object.keys(n).forEach((function(e){var t=n[e];i[e.toLowerCase()]=t})),i}(e,i),u=n.method,l=n.method!==P?{}:r(r({},n.data),i.data),f=r(r(r({"x-algolia-agent":e.userAgent.value},e.queryParameters),l),i.queryParameters),h=0,p=function t(r,o){var l=r.pop();if(void 0===l)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:N(a)};var p={data:s,headers:c,method:u,url:T(l,n.path,f),connectTimeout:o(h,e.timeouts.connect),responseTimeout:o(h,i.timeout)},d=function(e){var t={request:p,response:e,host:l,triesLeft:r.length};return a.push(t),t},m={onSuccess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:"DeserializationError",message:e,response:t}}(t.message,e)}}(e)},onRetry:function(n){var i=d(n);return n.isTimedOut&&h++,Promise.all([e.logger.info("Retryable failure",F(i)),e.hostsCache.set(l,w(l,n.isTimedOut?O:b))]).then((function(){return t(r,o)}))},onFail:function(e){throw d(e),function(e,t){var r=e.content,n=e.status,i=r;try{i=JSON.parse(r).message}catch(e){}return function(e,t,r){return{name:"ApiError",message:e,status:t,transporterStackTrace:r}}(i,n,t)}(e,N(a))}};return e.requester.send(p).then((function(e){return function(e,t){return function(e){var t=e.status;return e.isTimedOut||function(e){var t=e.isTimedOut,r=e.status;return!t&&0==~~r}(e)||2!=~~(t/100)&&4!=~~(t/100)}(e)?t.onRetry(e):2==~~(e.status/100)?t.onSuccess(e):t.onFail(e)}(e,m)}))};return function(e,t){return Promise.all(t.map((function(t){return e.get(t,(function(){return Promise.resolve(w(t))}))}))).then((function(e){var r=e.filter((function(e){return function(e){return e.status===v||Date.now()-e.lastUpdate>12e4}(e)})),n=e.filter((function(e){return function(e){return e.status===O&&Date.now()-e.lastUpdate<=12e4}(e)})),i=[].concat(o(r),o(n));return{getTimeout:function(e,t){return(0===n.length&&0===e?1:n.length+3+e)*t},statelessHosts:i.length>0?i.map((function(e){return S(e)})):t}}))}(e.hostsCache,t).then((function(e){return p(o(e.statelessHosts).reverse(),e.getTimeout)}))}function E(e){var t=e.hostsCache,r=e.logger,n=e.requester,o=e.requestsCache,a=e.responsesCache,s=e.timeouts,c=e.userAgent,u=e.hosts,l=e.queryParameters,f={hostsCache:t,logger:r,requester:n,requestsCache:o,responsesCache:a,timeouts:s,userAgent:c,headers:e.headers,queryParameters:l,hosts:u.map((function(e){return S(e)})),read:function(e,t){var r=y(t,f.timeouts.read),n=function(){return x(f,f.hosts.filter((function(e){return 0!=(e.accept&g.Read)})),e,r)};if(!0!==(void 0!==r.cacheable?r.cacheable:e.cacheable))return n();var o={request:e,mappedRequestOptions:r,transporter:{queryParameters:f.queryParameters,headers:f.headers}};return f.responsesCache.get(o,(function(){return f.requestsCache.get(o,(function(){return f.requestsCache.set(o,n()).then((function(e){return Promise.all([f.requestsCache.delete(o),e])}),(function(e){return Promise.all([f.requestsCache.delete(o),Promise.reject(e)])})).then((function(e){var t=i(e,2);return t[0],t[1]}))}))}),{miss:function(e){return f.responsesCache.set(o,e)}})},write:function(e,t){return x(f,f.hosts.filter((function(e){return 0!=(e.accept&g.Write)})),e,y(t,f.timeouts.write))}};return f}function I(e){var t={value:"Algolia for JavaScript (".concat(e,")"),add:function(e){var r="; ".concat(e.segment).concat(void 0!==e.version?" (".concat(e.version,")"):"");return-1===t.value.indexOf(r)&&(t.value="".concat(t.value).concat(r)),t}};return t}function T(e,t,r){var n=k(r),i="".concat(e.protocol,"://").concat(e.url,"/").concat("/"===t.charAt(0)?t.substr(1):t);return n.length&&(i+="?".concat(n)),i}function k(e){return Object.keys(e).map((function(t){return d("%s=%s",t,(r=e[t],"[object Object]"===Object.prototype.toString.call(r)||"[object Array]"===Object.prototype.toString.call(r)?JSON.stringify(e[t]):e[t]));var r})).join("&")}function N(e){return e.map((function(e){return F(e)}))}function F(e){var t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return r(r({},e),{},{request:r(r({},e.request),{},{headers:r(r({},e.request.headers),t)})})}var D=function(e){return function(t,r){return e.transporter.write({method:R,path:"2/abtests",data:t},r)}},A=function(e){return function(t,r){return e.transporter.write({method:j,path:d("2/abtests/%s",t)},r)}},C=function(e){return function(t,r){return e.transporter.read({method:P,path:d("2/abtests/%s",t)},r)}},L=function(e){return function(t){return e.transporter.read({method:P,path:"2/abtests"},t)}},M=function(e){return function(t,r){return e.transporter.write({method:R,path:d("2/abtests/%s/stop",t)},r)}},H=function(e){return function(t){return e.transporter.read({method:P,path:"1/strategies/personalization"},t)}},U=function(e){return function(t,r){return e.transporter.write({method:R,path:"1/strategies/personalization",data:t},r)}};function q(e){return function t(r){return e.request(r).then((function(n){if(void 0!==e.batch&&e.batch(n.hits),!e.shouldStop(n))return n.cursor?t({cursor:n.cursor}):t({page:(r.page||0)+1})}))}({})}var B=function(e){return function(t,i){var o=i||{},a=o.queryParameters,s=n(o,["queryParameters"]),c=r({acl:t},void 0!==a?{queryParameters:a}:{});return f(e.transporter.write({method:R,path:"1/keys",data:c},s),(function(t,r){return l((function(n){return Y(e)(t.key,r).catch((function(e){if(404!==e.status)throw e;return n()}))}))}))}},W=function(e){return function(t,r,n){var i=y(n);return i.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:R,path:"1/clusters/mapping",data:{cluster:r}},i)}},$=function(e){return function(t,r,n){return e.transporter.write({method:R,path:"1/clusters/mapping/batch",data:{users:t,cluster:r}},n)}},Q=function(e){return function(t,r){return f(e.transporter.write({method:R,path:d("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},r),(function(t,r){return Pe(e)(t.taskID,r)}))}},V=function(e){return function(t,r,n){return f(e.transporter.write({method:R,path:d("1/indexes/%s/operation",t),data:{operation:"copy",destination:r}},n),(function(r,n){return ae(e)(t,{methods:{waitTask:lt}}).waitTask(r.taskID,n)}))}},K=function(e){return function(t,n,i){return V(e)(t,n,r(r({},i),{},{scope:[ht.Rules]}))}},J=function(e){return function(t,n,i){return V(e)(t,n,r(r({},i),{},{scope:[ht.Settings]}))}},z=function(e){return function(t,n,i){return V(e)(t,n,r(r({},i),{},{scope:[ht.Synonyms]}))}},X=function(e){return function(t,r){return t.method===P?e.transporter.read(t,r):e.transporter.write(t,r)}},G=function(e){return function(t,r){return f(e.transporter.write({method:j,path:d("1/keys/%s",t)},r),(function(r,n){return l((function(r){return Y(e)(t,n).then(r).catch((function(e){if(404!==e.status)throw e}))}))}))}},Z=function(e){return function(t,r,n){var i=r.map((function(e){return{action:"deleteEntry",body:{objectID:e}}}));return f(e.transporter.write({method:R,path:d("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!1,requests:i}},n),(function(t,r){return Pe(e)(t.taskID,r)}))}},Y=function(e){return function(t,r){return e.transporter.read({method:P,path:d("1/keys/%s",t)},r)}},ee=function(e){return function(t,r){return e.transporter.read({method:P,path:d("1/task/%s",t.toString())},r)}},te=function(e){return function(t){return e.transporter.read({method:P,path:"/1/dictionaries/*/settings"},t)}},re=function(e){return function(t){return e.transporter.read({method:P,path:"1/logs"},t)}},ne=function(e){return function(t){return e.transporter.read({method:P,path:"1/clusters/mapping/top"},t)}},ie=function(e){return function(t,r){return e.transporter.read({method:P,path:d("1/clusters/mapping/%s",t)},r)}},oe=function(e){return function(t){var r=t||{},i=r.retrieveMappings,o=n(r,["retrieveMappings"]);return!0===i&&(o.getClusters=!0),e.transporter.read({method:P,path:"1/clusters/mapping/pending"},o)}},ae=function(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p({transporter:e.transporter,appId:e.appId,indexName:t},r.methods)}},se=function(e){return function(t){return e.transporter.read({method:P,path:"1/keys"},t)}},ce=function(e){return function(t){return e.transporter.read({method:P,path:"1/clusters"},t)}},ue=function(e){return function(t){return e.transporter.read({method:P,path:"1/indexes"},t)}},le=function(e){return function(t){return e.transporter.read({method:P,path:"1/clusters/mapping"},t)}},fe=function(e){return function(t,r,n){return f(e.transporter.write({method:R,path:d("1/indexes/%s/operation",t),data:{operation:"move",destination:r}},n),(function(r,n){return ae(e)(t,{methods:{waitTask:lt}}).waitTask(r.taskID,n)}))}},he=function(e){return function(t,r){return f(e.transporter.write({method:R,path:"1/indexes/*/batch",data:{requests:t}},r),(function(t,r){return Promise.all(Object.keys(t.taskID).map((function(n){return ae(e)(n,{methods:{waitTask:lt}}).waitTask(t.taskID[n],r)})))}))}},pe=function(e){return function(t,r){return e.transporter.read({method:R,path:"1/indexes/*/objects",data:{requests:t}},r)}},de=function(e){return function(t,n){var i=t.map((function(e){return r(r({},e),{},{params:k(e.params||{})})}));return e.transporter.read({method:R,path:"1/indexes/*/queries",data:{requests:i},cacheable:!0},n)}},me=function(e){return function(t,i){return Promise.all(t.map((function(t){var o=t.params,a=o.facetName,s=o.facetQuery,c=n(o,["facetName","facetQuery"]);return ae(e)(t.indexName,{methods:{searchForFacetValues:at}}).searchForFacetValues(a,s,r(r({},i),c))})))}},ye=function(e){return function(t,r){var n=y(r);return n.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:j,path:"1/clusters/mapping"},n)}},ge=function(e){return function(t,r,n){var i=r.map((function(e){return{action:"addEntry",body:e}}));return f(e.transporter.write({method:R,path:d("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!0,requests:i}},n),(function(t,r){return Pe(e)(t.taskID,r)}))}},ve=function(e){return function(t,r){return f(e.transporter.write({method:R,path:d("1/keys/%s/restore",t)},r),(function(r,n){return l((function(r){return Y(e)(t,n).catch((function(e){if(404!==e.status)throw e;return r()}))}))}))}},be=function(e){return function(t,r,n){var i=r.map((function(e){return{action:"addEntry",body:e}}));return f(e.transporter.write({method:R,path:d("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!1,requests:i}},n),(function(t,r){return Pe(e)(t.taskID,r)}))}},Oe=function(e){return function(t,r,n){return e.transporter.read({method:R,path:d("/1/dictionaries/%s/search",t),data:{query:r},cacheable:!0},n)}},we=function(e){return function(t,r){return e.transporter.read({method:R,path:"1/clusters/mapping/search",data:{query:t}},r)}},Se=function(e){return function(t,r){return f(e.transporter.write({method:_,path:"/1/dictionaries/*/settings",data:t},r),(function(t,r){return Pe(e)(t.taskID,r)}))}},je=function(e){return function(t,r){var i=Object.assign({},r),o=r||{},a=o.queryParameters,s=n(o,["queryParameters"]),c=a?{queryParameters:a}:{},u=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return f(e.transporter.write({method:_,path:d("1/keys/%s",t),data:c},s),(function(r,n){return l((function(r){return Y(e)(t,n).then((function(e){return function(e){return Object.keys(i).filter((function(e){return-1!==u.indexOf(e)})).every((function(t){if(Array.isArray(e[t])&&Array.isArray(i[t])){var r=e[t];return r.length===i[t].length&&r.every((function(e,r){return e===i[t][r]}))}return e[t]===i[t]}))}(e)?Promise.resolve():r()}))}))}))}},Pe=function(e){return function(t,r){return l((function(n){return ee(e)(t,r).then((function(e){return"published"!==e.status?n():void 0}))}))}},Re=function(e){return function(t,r){return f(e.transporter.write({method:R,path:d("1/indexes/%s/batch",e.indexName),data:{requests:t}},r),(function(t,r){return lt(e)(t.taskID,r)}))}},_e=function(e){return function(t){return q(r(r({shouldStop:function(e){return void 0===e.cursor}},t),{},{request:function(r){return e.transporter.read({method:R,path:d("1/indexes/%s/browse",e.indexName),data:r},t)}}))}},xe=function(e){return function(t){var n=r({hitsPerPage:1e3},t);return q(r(r({shouldStop:function(e){return e.hits.length<n.hitsPerPage}},n),{},{request:function(t){return st(e)("",r(r({},n),t)).then((function(e){return r(r({},e),{},{hits:e.hits.map((function(e){return delete e._highlightResult,e}))})}))}}))}},Ee=function(e){return function(t){var n=r({hitsPerPage:1e3},t);return q(r(r({shouldStop:function(e){return e.hits.length<n.hitsPerPage}},n),{},{request:function(t){return ct(e)("",r(r({},n),t)).then((function(e){return r(r({},e),{},{hits:e.hits.map((function(e){return delete e._highlightResult,e}))})}))}}))}},Ie=function(e){return function(t,r,i){var o=i||{},a=o.batchSize,s=n(o,["batchSize"]),c={taskIDs:[],objectIDs:[]};return f(function n(){var i,o=[];for(i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;i<t.length&&(o.push(t[i]),o.length!==(a||1e3));i++);return 0===o.length?Promise.resolve(c):Re(e)(o.map((function(e){return{action:r,body:e}})),s).then((function(e){return c.objectIDs=c.objectIDs.concat(e.objectIDs),c.taskIDs.push(e.taskID),i++,n(i)}))}(),(function(t,r){return Promise.all(t.taskIDs.map((function(t){return lt(e)(t,r)})))}))}},Te=function(e){return function(t){return f(e.transporter.write({method:R,path:d("1/indexes/%s/clear",e.indexName)},t),(function(t,r){return lt(e)(t.taskID,r)}))}},ke=function(e){return function(t){var r=t||{},i=r.forwardToReplicas,o=y(n(r,["forwardToReplicas"]));return i&&(o.queryParameters.forwardToReplicas=1),f(e.transporter.write({method:R,path:d("1/indexes/%s/rules/clear",e.indexName)},o),(function(t,r){return lt(e)(t.taskID,r)}))}},Ne=function(e){return function(t){var r=t||{},i=r.forwardToReplicas,o=y(n(r,["forwardToReplicas"]));return i&&(o.queryParameters.forwardToReplicas=1),f(e.transporter.write({method:R,path:d("1/indexes/%s/synonyms/clear",e.indexName)},o),(function(t,r){return lt(e)(t.taskID,r)}))}},Fe=function(e){return function(t,r){return f(e.transporter.write({method:R,path:d("1/indexes/%s/deleteByQuery",e.indexName),data:t},r),(function(t,r){return lt(e)(t.taskID,r)}))}},De=function(e){return function(t){return f(e.transporter.write({method:j,path:d("1/indexes/%s",e.indexName)},t),(function(t,r){return lt(e)(t.taskID,r)}))}},Ae=function(e){return function(t,r){return f(Ce(e)([t],r).then((function(e){return{taskID:e.taskIDs[0]}})),(function(t,r){return lt(e)(t.taskID,r)}))}},Ce=function(e){return function(t,r){var n=t.map((function(e){return{objectID:e}}));return Ie(e)(n,ft.DeleteObject,r)}},Le=function(e){return function(t,r){var i=r||{},o=i.forwardToReplicas,a=y(n(i,["forwardToReplicas"]));return o&&(a.queryParameters.forwardToReplicas=1),f(e.transporter.write({method:j,path:d("1/indexes/%s/rules/%s",e.indexName,t)},a),(function(t,r){return lt(e)(t.taskID,r)}))}},Me=function(e){return function(t,r){var i=r||{},o=i.forwardToReplicas,a=y(n(i,["forwardToReplicas"]));return o&&(a.queryParameters.forwardToReplicas=1),f(e.transporter.write({method:j,path:d("1/indexes/%s/synonyms/%s",e.indexName,t)},a),(function(t,r){return lt(e)(t.taskID,r)}))}},He=function(e){return function(t){return Ve(e)(t).then((function(){return!0})).catch((function(e){if(404!==e.status)throw e;return!1}))}},Ue=function(e){return function(t,r,n){return e.transporter.read({method:R,path:d("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:r},cacheable:!0},n)}},qe=function(e){return function(t,o){var a=o||{},s=a.query,c=a.paginate,u=n(a,["query","paginate"]),l=0;return function n(){return ot(e)(s||"",r(r({},u),{},{page:l})).then((function(e){for(var r=0,o=Object.entries(e.hits);r<o.length;r++){var a=i(o[r],2),s=a[0],u=a[1];if(t(u))return{object:u,position:parseInt(s,10),page:l}}if(l++,!1===c||l>=e.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return n()}))}()}},Be=function(e){return function(t,r){return e.transporter.read({method:P,path:d("1/indexes/%s/%s",e.indexName,t)},r)}},We=function(){return function(e,t){for(var r=0,n=Object.entries(e.hits);r<n.length;r++){var o=i(n[r],2),a=o[0];if(o[1].objectID===t)return parseInt(a,10)}return-1}},$e=function(e){return function(t,i){var o=i||{},a=o.attributesToRetrieve,s=n(o,["attributesToRetrieve"]),c=t.map((function(t){return r({indexName:e.indexName,objectID:t},a?{attributesToRetrieve:a}:{})}));return e.transporter.read({method:R,path:"1/indexes/*/objects",data:{requests:c}},s)}},Qe=function(e){return function(t,r){return e.transporter.read({method:P,path:d("1/indexes/%s/rules/%s",e.indexName,t)},r)}},Ve=function(e){return function(t){return e.transporter.read({method:P,path:d("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},t)}},Ke=function(e){return function(t,r){return e.transporter.read({method:P,path:d("1/indexes/%s/synonyms/%s",e.indexName,t)},r)}},Je=function(e){return function(t,r){return f(ze(e)([t],r).then((function(e){return{objectID:e.objectIDs[0],taskID:e.taskIDs[0]}})),(function(t,r){return lt(e)(t.taskID,r)}))}},ze=function(e){return function(t,r){var i=r||{},o=i.createIfNotExists,a=n(i,["createIfNotExists"]),s=o?ft.PartialUpdateObject:ft.PartialUpdateObjectNoCreate;return Ie(e)(t,s,a)}},Xe=function(e){return function(t,a){var s=a||{},c=s.safe,u=s.autoGenerateObjectIDIfNotExist,l=s.batchSize,h=n(s,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),p=function(t,r,n,i){return f(e.transporter.write({method:R,path:d("1/indexes/%s/operation",t),data:{operation:n,destination:r}},i),(function(t,r){return lt(e)(t.taskID,r)}))},m=Math.random().toString(36).substring(7),y="".concat(e.indexName,"_tmp_").concat(m),g=et({appId:e.appId,transporter:e.transporter,indexName:y}),v=[],b=p(e.indexName,y,"copy",r(r({},h),{},{scope:["settings","synonyms","rules"]}));return v.push(b),f((c?b.wait(h):b).then((function(){var e=g(t,r(r({},h),{},{autoGenerateObjectIDIfNotExist:u,batchSize:l}));return v.push(e),c?e.wait(h):e})).then((function(){var t=p(y,e.indexName,"move",h);return v.push(t),c?t.wait(h):t})).then((function(){return Promise.all(v)})).then((function(e){var t=i(e,3),r=t[0],n=t[1],a=t[2];return{objectIDs:n.objectIDs,taskIDs:[r.taskID].concat(o(n.taskIDs),[a.taskID])}})),(function(e,t){return Promise.all(v.map((function(e){return e.wait(t)})))}))}},Ge=function(e){return function(t,n){return rt(e)(t,r(r({},n),{},{clearExistingRules:!0}))}},Ze=function(e){return function(t,n){return it(e)(t,r(r({},n),{},{clearExistingSynonyms:!0}))}},Ye=function(e){return function(t,r){return f(et(e)([t],r).then((function(e){return{objectID:e.objectIDs[0],taskID:e.taskIDs[0]}})),(function(t,r){return lt(e)(t.taskID,r)}))}},et=function(e){return function(t,r){var i=r||{},o=i.autoGenerateObjectIDIfNotExist,a=n(i,["autoGenerateObjectIDIfNotExist"]),s=o?ft.AddObject:ft.UpdateObject;if(s===ft.UpdateObject){var c=!0,u=!1,l=void 0;try{for(var h,p=t[Symbol.iterator]();!(c=(h=p.next()).done);c=!0)if(void 0===h.value.objectID)return f(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(e){u=!0,l=e}finally{try{c||null==p.return||p.return()}finally{if(u)throw l}}}return Ie(e)(t,s,a)}},tt=function(e){return function(t,r){return rt(e)([t],r)}},rt=function(e){return function(t,r){var i=r||{},o=i.forwardToReplicas,a=i.clearExistingRules,s=y(n(i,["forwardToReplicas","clearExistingRules"]));return o&&(s.queryParameters.forwardToReplicas=1),a&&(s.queryParameters.clearExistingRules=1),f(e.transporter.write({method:R,path:d("1/indexes/%s/rules/batch",e.indexName),data:t},s),(function(t,r){return lt(e)(t.taskID,r)}))}},nt=function(e){return function(t,r){return it(e)([t],r)}},it=function(e){return function(t,r){var i=r||{},o=i.forwardToReplicas,a=i.clearExistingSynonyms,s=i.replaceExistingSynonyms,c=y(n(i,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return o&&(c.queryParameters.forwardToReplicas=1),(s||a)&&(c.queryParameters.replaceExistingSynonyms=1),f(e.transporter.write({method:R,path:d("1/indexes/%s/synonyms/batch",e.indexName),data:t},c),(function(t,r){return lt(e)(t.taskID,r)}))}},ot=function(e){return function(t,r){return e.transporter.read({method:R,path:d("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},r)}},at=function(e){return function(t,r,n){return e.transporter.read({method:R,path:d("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:r},cacheable:!0},n)}},st=function(e){return function(t,r){return e.transporter.read({method:R,path:d("1/indexes/%s/rules/search",e.indexName),data:{query:t}},r)}},ct=function(e){return function(t,r){return e.transporter.read({method:R,path:d("1/indexes/%s/synonyms/search",e.indexName),data:{query:t}},r)}},ut=function(e){return function(t,r){var i=r||{},o=i.forwardToReplicas,a=y(n(i,["forwardToReplicas"]));return o&&(a.queryParameters.forwardToReplicas=1),f(e.transporter.write({method:_,path:d("1/indexes/%s/settings",e.indexName),data:t},a),(function(t,r){return lt(e)(t.taskID,r)}))}},lt=function(e){return function(t,r){return l((function(n){return function(e){return function(t,r){return e.transporter.read({method:P,path:d("1/indexes/%s/task/%s",e.indexName,t.toString())},r)}}(e)(t,r).then((function(e){return"published"!==e.status?n():void 0}))}))}},ft={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},ht={Settings:"settings",Synonyms:"synonyms",Rules:"rules"};function pt(e,t,n){var i={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise((function(t){var r=new XMLHttpRequest;r.open(e.method,e.url,!0),Object.keys(e.headers).forEach((function(t){return r.setRequestHeader(t,e.headers[t])}));var n,i=function(e,n){return setTimeout((function(){r.abort(),t({status:0,content:n,isTimedOut:!0})}),1e3*e)},o=i(e.connectTimeout,"Connection timeout");r.onreadystatechange=function(){r.readyState>r.OPENED&&void 0===n&&(clearTimeout(o),n=i(e.responseTimeout,"Socket timeout"))},r.onerror=function(){0===r.status&&(clearTimeout(o),clearTimeout(n),t({content:r.responseText||"Network request failed",status:r.status,isTimedOut:!1}))},r.onload=function(){clearTimeout(o),clearTimeout(n),t({content:r.responseText,status:r.status,isTimedOut:!1})},r.send(e.data)}))}},logger:(3,{debug:function(e,t){return Promise.resolve()},info:function(e,t){return Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}}),responsesCache:c(),requestsCache:c({serializable:!1}),hostsCache:s({caches:[a({key:"".concat("4.22.1","-").concat(e)}),c()]}),userAgent:I("4.22.1").add({segment:"Browser"})},o=r(r({},i),n),l=function(){return function(e){return function(e){var t=e.region||"us",n=u(m.WithinHeaders,e.appId,e.apiKey),i=E(r(r({hosts:[{url:"personalization.".concat(t,".algolia.com")}]},e),{},{headers:r(r(r({},n.headers()),{"content-type":"application/json"}),e.headers),queryParameters:r(r({},n.queryParameters()),e.queryParameters)}));return p({appId:e.appId,transporter:i},e.methods)}(r(r(r({},i),e),{},{methods:{getPersonalizationStrategy:H,setPersonalizationStrategy:U}}))}};return function(e){var t=e.appId,n=u(void 0!==e.authMode?e.authMode:m.WithinHeaders,t,e.apiKey),i=E(r(r({hosts:[{url:"".concat(t,"-dsn.algolia.net"),accept:g.Read},{url:"".concat(t,".algolia.net"),accept:g.Write}].concat(h([{url:"".concat(t,"-1.algolianet.com")},{url:"".concat(t,"-2.algolianet.com")},{url:"".concat(t,"-3.algolianet.com")}]))},e),{},{headers:r(r(r({},n.headers()),{"content-type":"application/x-www-form-urlencoded"}),e.headers),queryParameters:r(r({},n.queryParameters()),e.queryParameters)}));return p({transporter:i,appId:t,addAlgoliaAgent:function(e,t){i.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([i.requestsCache.clear(),i.responsesCache.clear()]).then((function(){}))}},e.methods)}(r(r({},o),{},{methods:{search:de,searchForFacetValues:me,multipleBatch:he,multipleGetObjects:pe,multipleQueries:de,copyIndex:V,copySettings:J,copySynonyms:z,copyRules:K,moveIndex:fe,listIndices:ue,getLogs:re,listClusters:ce,multipleSearchForFacetValues:me,getApiKey:Y,addApiKey:B,listApiKeys:se,updateApiKey:je,deleteApiKey:G,restoreApiKey:ve,assignUserID:W,assignUserIDs:$,getUserID:ie,searchUserIDs:we,listUserIDs:le,getTopUserIDs:ne,removeUserID:ye,hasPendingMappings:oe,clearDictionaryEntries:Q,deleteDictionaryEntries:Z,getDictionarySettings:te,getAppTask:ee,replaceDictionaryEntries:ge,saveDictionaryEntries:be,searchDictionaryEntries:Oe,setDictionarySettings:Se,waitAppTask:Pe,customRequest:X,initIndex:function(e){return function(t){return ae(e)(t,{methods:{batch:Re,delete:De,findAnswers:Ue,getObject:Be,getObjects:$e,saveObject:Ye,saveObjects:et,search:ot,searchForFacetValues:at,waitTask:lt,setSettings:ut,getSettings:Ve,partialUpdateObject:Je,partialUpdateObjects:ze,deleteObject:Ae,deleteObjects:Ce,deleteBy:Fe,clearObjects:Te,browseObjects:_e,getObjectPosition:We,findObject:qe,exists:He,saveSynonym:nt,saveSynonyms:it,getSynonym:Ke,searchSynonyms:ct,browseSynonyms:Ee,deleteSynonym:Me,clearSynonyms:Ne,replaceAllObjects:Xe,replaceAllSynonyms:Ze,searchRules:st,getRule:Qe,deleteRule:Le,saveRule:tt,saveRules:rt,replaceAllRules:Ge,browseRules:xe,clearRules:ke}})}},initAnalytics:function(){return function(e){return function(e){var t=e.region||"us",n=u(m.WithinHeaders,e.appId,e.apiKey),i=E(r(r({hosts:[{url:"analytics.".concat(t,".algolia.com")}]},e),{},{headers:r(r(r({},n.headers()),{"content-type":"application/json"}),e.headers),queryParameters:r(r({},n.queryParameters()),e.queryParameters)}));return p({appId:e.appId,transporter:i},e.methods)}(r(r(r({},i),e),{},{methods:{addABTest:D,getABTest:C,getABTests:L,stopABTest:M,deleteABTest:A}}))}},initPersonalization:l,initRecommendation:function(){return function(e){return o.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),l()(e)}}}}))}return pt.version="4.22.1",pt}()},729:(e,t)=>{!function(e){var t=/\S/,r=/\"/g,n=/\n/g,i=/\r/g,o=/\\/g,a=/\u2028/,s=/\u2029/;function c(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function u(e,t,r){if(t.charAt(r)!=e.charAt(0))return!1;for(var n=1,i=e.length;n<i;n++)if(t.charAt(r+n)!=e.charAt(n))return!1;return!0}e.tags={"#":1,"^":2,"<":3,$:4,"/":5,"!":6,">":7,"=":8,_v:9,"{":10,"&":11,_t:12},e.scan=function(r,n){var i,o=r.length,a=0,s=null,l=null,f="",h=[],p=!1,d=0,m=0,y="{{",g="}}";function v(){f.length>0&&(h.push({tag:"_t",text:new String(f)}),f="")}function b(r,n){if(v(),r&&function(){for(var r=!0,n=m;n<h.length;n++)if(!(r=e.tags[h[n].tag]<e.tags._v||"_t"==h[n].tag&&null===h[n].text.match(t)))return!1;return r}())for(var i,o=m;o<h.length;o++)h[o].text&&((i=h[o+1])&&">"==i.tag&&(i.indent=h[o].text.toString()),h.splice(o,1));else n||h.push({tag:"\n"});p=!1,m=h.length}function O(e,t){var r="="+g,n=e.indexOf(r,t),i=c(e.substring(e.indexOf("=",t)+1,n)).split(" ");return y=i[0],g=i[i.length-1],n+r.length-1}for(n&&(n=n.split(" "),y=n[0],g=n[1]),d=0;d<o;d++)0==a?u(y,r,d)?(--d,v(),a=1):"\n"==r.charAt(d)?b(p):f+=r.charAt(d):1==a?(d+=y.length-1,"="==(s=(l=e.tags[r.charAt(d+1)])?r.charAt(d+1):"_v")?(d=O(r,d),a=0):(l&&d++,a=2),p=d):u(g,r,d)?(h.push({tag:s,n:c(f),otag:y,ctag:g,i:"/"==s?p-y.length:d+g.length}),f="",d+=g.length-1,a=0,"{"==s&&("}}"==g?d++:"}"===(i=h[h.length-1]).n.substr(i.n.length-1)&&(i.n=i.n.substring(0,i.n.length-1)))):f+=r.charAt(d);return b(p,!0),h};var l={_t:!0,"\n":!0,$:!0,"/":!0};function f(t,r,n,i){var o,a=[],s=null,c=null;for(o=n[n.length-1];t.length>0;){if(c=t.shift(),o&&"<"==o.tag&&!(c.tag in l))throw new Error("Illegal content in < super tag.");if(e.tags[c.tag]<=e.tags.$||h(c,i))n.push(c),c.nodes=f(t,c.tag,n,i);else{if("/"==c.tag){if(0===n.length)throw new Error("Closing tag without opener: /"+c.n);if(s=n.pop(),c.n!=s.n&&!p(c.n,s.n,i))throw new Error("Nesting error: "+s.n+" vs. "+c.n);return s.end=c.i,a}"\n"==c.tag&&(c.last=0==t.length||"\n"==t[0].tag)}a.push(c)}if(n.length>0)throw new Error("missing closing tag: "+n.pop().n);return a}function h(e,t){for(var r=0,n=t.length;r<n;r++)if(t[r].o==e.n)return e.tag="#",!0}function p(e,t,r){for(var n=0,i=r.length;n<i;n++)if(r[n].c==e&&r[n].o==t)return!0}function d(e){var t=[];for(var r in e.partials)t.push('"'+y(r)+'":{name:"'+y(e.partials[r].name)+'", '+d(e.partials[r])+"}");return"partials: {"+t.join(",")+"}, subs: "+function(e){var t=[];for(var r in e)t.push('"'+y(r)+'": function(c,p,t,i) {'+e[r]+"}");return"{ "+t.join(",")+" }"}(e.subs)}e.stringify=function(t,r,n){return"{code: function (c,p,i) { "+e.wrapMain(t.code)+" },"+d(t)+"}"};var m=0;function y(e){return e.replace(o,"\\\\").replace(r,'\\"').replace(n,"\\n").replace(i,"\\r").replace(a,"\\u2028").replace(s,"\\u2029")}function g(e){return~e.indexOf(".")?"d":"f"}function v(e,t){var r="<"+(t.prefix||"")+e.n+m++;return t.partials[r]={name:e.n,partials:{}},t.code+='t.b(t.rp("'+y(r)+'",c,p,"'+(e.indent||"")+'"));',r}function b(e,t){t.code+="t.b(t.t(t."+g(e.n)+'("'+y(e.n)+'",c,p,0)));'}function O(e){return"t.b("+e+");"}e.generate=function(t,r,n){m=0;var i={code:"",subs:{},partials:{}};return e.walk(t,i),n.asString?this.stringify(i,r,n):this.makeTemplate(i,r,n)},e.wrapMain=function(e){return'var t=this;t.b(i=i||"");'+e+"return t.fl();"},e.template=e.Template,e.makeTemplate=function(e,t,r){var n=this.makePartials(e);return n.code=new Function("c","p","i",this.wrapMain(e.code)),new this.template(n,t,this,r)},e.makePartials=function(e){var t,r={subs:{},partials:e.partials,name:e.name};for(t in r.partials)r.partials[t]=this.makePartials(r.partials[t]);for(t in e.subs)r.subs[t]=new Function("c","p","t","i",e.subs[t]);return r},e.codegen={"#":function(t,r){r.code+="if(t.s(t."+g(t.n)+'("'+y(t.n)+'",c,p,1),c,p,0,'+t.i+","+t.end+',"'+t.otag+" "+t.ctag+'")){t.rs(c,p,function(c,p,t){',e.walk(t.nodes,r),r.code+="});c.pop();}"},"^":function(t,r){r.code+="if(!t.s(t."+g(t.n)+'("'+y(t.n)+'",c,p,1),c,p,1,0,0,"")){',e.walk(t.nodes,r),r.code+="};"},">":v,"<":function(t,r){var n={partials:{},code:"",subs:{},inPartial:!0};e.walk(t.nodes,n);var i=r.partials[v(t,r)];i.subs=n.subs,i.partials=n.partials},$:function(t,r){var n={subs:{},code:"",partials:r.partials,prefix:t.n};e.walk(t.nodes,n),r.subs[t.n]=n.code,r.inPartial||(r.code+='t.sub("'+y(t.n)+'",c,p,i);')},"\n":function(e,t){t.code+=O('"\\n"'+(e.last?"":" + i"))},_v:function(e,t){t.code+="t.b(t.v(t."+g(e.n)+'("'+y(e.n)+'",c,p,0)));'},_t:function(e,t){t.code+=O('"'+y(e.text)+'"')},"{":b,"&":b},e.walk=function(t,r){for(var n,i=0,o=t.length;i<o;i++)(n=e.codegen[t[i].tag])&&n(t[i],r);return r},e.parse=function(e,t,r){return f(e,0,[],(r=r||{}).sectionTags||[])},e.cache={},e.cacheKey=function(e,t){return[e,!!t.asString,!!t.disableLambda,t.delimiters,!!t.modelGet].join("||")},e.compile=function(t,r){r=r||{};var n=e.cacheKey(t,r),i=this.cache[n];if(i){var o=i.partials;for(var a in o)delete o[a].instance;return i}return i=this.generate(this.parse(this.scan(t,r.delimiters),t,r),t,r),this.cache[n]=i}}(t)},714:(e,t,r)=>{var n=r(729);n.Template=r(549).Template,n.template=n.Template,e.exports=n},549:(e,t)=>{!function(e){function t(e,t,r){var n;return t&&"object"==typeof t&&(void 0!==t[e]?n=t[e]:r&&t.get&&"function"==typeof t.get&&(n=t.get(e))),n}e.Template=function(e,t,r,n){e=e||{},this.r=e.code||this.r,this.c=r,this.options=n||{},this.text=t||"",this.partials=e.partials||{},this.subs=e.subs||{},this.buf=""},e.Template.prototype={r:function(e,t,r){return""},v:function(e){return e=c(e),s.test(e)?e.replace(r,"&amp;").replace(n,"&lt;").replace(i,"&gt;").replace(o,"&#39;").replace(a,"&quot;"):e},t:c,render:function(e,t,r){return this.ri([e],t||{},r)},ri:function(e,t,r){return this.r(e,t,r)},ep:function(e,t){var r=this.partials[e],n=t[r.name];if(r.instance&&r.base==n)return r.instance;if("string"==typeof n){if(!this.c)throw new Error("No compiler available.");n=this.c.compile(n,this.options)}if(!n)return null;if(this.partials[e].base=n,r.subs){for(key in t.stackText||(t.stackText={}),r.subs)t.stackText[key]||(t.stackText[key]=void 0!==this.activeSub&&t.stackText[this.activeSub]?t.stackText[this.activeSub]:this.text);n=function(e,t,r,n,i,o){function a(){}function s(){}var c;a.prototype=e,s.prototype=e.subs;var u=new a;for(c in u.subs=new s,u.subsText={},u.buf="",n=n||{},u.stackSubs=n,u.subsText=o,t)n[c]||(n[c]=t[c]);for(c in n)u.subs[c]=n[c];for(c in i=i||{},u.stackPartials=i,r)i[c]||(i[c]=r[c]);for(c in i)u.partials[c]=i[c];return u}(n,r.subs,r.partials,this.stackSubs,this.stackPartials,t.stackText)}return this.partials[e].instance=n,n},rp:function(e,t,r,n){var i=this.ep(e,r);return i?i.ri(t,r,n):""},rs:function(e,t,r){var n=e[e.length-1];if(u(n))for(var i=0;i<n.length;i++)e.push(n[i]),r(e,t,this),e.pop();else r(e,t,this)},s:function(e,t,r,n,i,o,a){var s;return(!u(e)||0!==e.length)&&("function"==typeof e&&(e=this.ms(e,t,r,n,i,o,a)),s=!!e,!n&&s&&t&&t.push("object"==typeof e?e:t[t.length-1]),s)},d:function(e,r,n,i){var o,a=e.split("."),s=this.f(a[0],r,n,i),c=this.options.modelGet,l=null;if("."===e&&u(r[r.length-2]))s=r[r.length-1];else for(var f=1;f<a.length;f++)void 0!==(o=t(a[f],s,c))?(l=s,s=o):s="";return!(i&&!s)&&(i||"function"!=typeof s||(r.push(l),s=this.mv(s,r,n),r.pop()),s)},f:function(e,r,n,i){for(var o=!1,a=!1,s=this.options.modelGet,c=r.length-1;c>=0;c--)if(void 0!==(o=t(e,r[c],s))){a=!0;break}return a?(i||"function"!=typeof o||(o=this.mv(o,r,n)),o):!i&&""},ls:function(e,t,r,n,i){var o=this.options.delimiters;return this.options.delimiters=i,this.b(this.ct(c(e.call(t,n)),t,r)),this.options.delimiters=o,!1},ct:function(e,t,r){if(this.options.disableLambda)throw new Error("Lambda features disabled.");return this.c.compile(e,this.options).render(t,r)},b:function(e){this.buf+=e},fl:function(){var e=this.buf;return this.buf="",e},ms:function(e,t,r,n,i,o,a){var s,c=t[t.length-1],u=e.call(c);return"function"==typeof u?!!n||(s=this.activeSub&&this.subsText&&this.subsText[this.activeSub]?this.subsText[this.activeSub]:this.text,this.ls(u,c,r,s.substring(i,o),a)):u},mv:function(e,t,r){var n=t[t.length-1],i=e.call(n);return"function"==typeof i?this.ct(c(i.call(n)),n,r):i},sub:function(e,t,r,n){var i=this.subs[e];i&&(this.activeSub=e,i(t,r,this,n),this.activeSub=!1)}};var r=/&/g,n=/</g,i=/>/g,o=/\'/g,a=/\"/g,s=/[&<>\"\']/;function c(e){return String(null==e?"":e)}var u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}}(t)},765:e=>{"use strict";var t=String.prototype.replace,r=/%20/g,n="RFC3986";e.exports={default:n,formatters:{RFC1738:function(e){return t.call(e,r,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:n}},373:(e,t,r)=>{"use strict";var n=r(636),i=r(642),o=r(765);e.exports={formats:o,parse:i,stringify:n}},642:(e,t,r)=>{"use strict";var n=r(720),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},c=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},u=function(e,t,r,n){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,s=r.depth>0&&/(\[[^[\]]*])/.exec(o),u=s?o.slice(0,s.index):o,l=[];if(u){if(!r.plainObjects&&i.call(Object.prototype,u)&&!r.allowPrototypes)return;l.push(u)}for(var f=0;r.depth>0&&null!==(s=a.exec(o))&&f<r.depth;){if(f+=1,!r.plainObjects&&i.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(s[1])}return s&&l.push("["+o.slice(s.index)+"]"),function(e,t,r,n){for(var i=n?t:c(t,r),o=e.length-1;o>=0;--o){var a,s=e[o];if("[]"===s&&r.parseArrays)a=[].concat(i);else{a=r.plainObjects?Object.create(null):{};var u="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,l=parseInt(u,10);r.parseArrays||""!==u?!isNaN(l)&&s!==u&&String(l)===u&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(a=[])[l]=i:"__proto__"!==u&&(a[u]=i):a={0:i}}i=a}return i}(l,t,r,n)}};e.exports=function(e,t){var r=function(e){if(!e)return a;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?a.charset:e.charset;return{allowDots:void 0===e.allowDots?a.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:a.comma,decoder:"function"==typeof e.decoder?e.decoder:a.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:a.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:a.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var l="string"==typeof e?function(e,t){var r,u={},l=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,f=t.parameterLimit===1/0?void 0:t.parameterLimit,h=l.split(t.delimiter,f),p=-1,d=t.charset;if(t.charsetSentinel)for(r=0;r<h.length;++r)0===h[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===h[r]?d="utf-8":"utf8=%26%2310003%3B"===h[r]&&(d="iso-8859-1"),p=r,r=h.length);for(r=0;r<h.length;++r)if(r!==p){var m,y,g=h[r],v=g.indexOf("]="),b=-1===v?g.indexOf("="):v+1;-1===b?(m=t.decoder(g,a.decoder,d,"key"),y=t.strictNullHandling?null:""):(m=t.decoder(g.slice(0,b),a.decoder,d,"key"),y=n.maybeMap(c(g.slice(b+1),t),(function(e){return t.decoder(e,a.decoder,d,"value")}))),y&&t.interpretNumericEntities&&"iso-8859-1"===d&&(y=s(y)),g.indexOf("[]=")>-1&&(y=o(y)?[y]:y),i.call(u,m)?u[m]=n.combine(u[m],y):u[m]=y}return u}(e,r):e,f=r.plainObjects?Object.create(null):{},h=Object.keys(l),p=0;p<h.length;++p){var d=h[p],m=u(d,l[d],r,"string"==typeof e);f=n.merge(f,m,r)}return n.compact(f)}},636:(e,t,r)=>{"use strict";var n=r(720),i=r(765),o=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},s=Array.isArray,c=String.prototype.split,u=Array.prototype.push,l=function(e,t){u.apply(e,s(t)?t:[t])},f=Date.prototype.toISOString,h=i.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,format:h,formatter:i.formatters[h],indices:!1,serializeDate:function(e){return f.call(e)},skipNulls:!1,strictNullHandling:!1},d=function e(t,r,i,o,a,u,f,h,d,m,y,g,v,b){var O,w=t;if("function"==typeof f?w=f(r,w):w instanceof Date?w=m(w):"comma"===i&&s(w)&&(w=n.maybeMap(w,(function(e){return e instanceof Date?m(e):e}))),null===w){if(o)return u&&!v?u(r,p.encoder,b,"key",y):r;w=""}if("string"==typeof(O=w)||"number"==typeof O||"boolean"==typeof O||"symbol"==typeof O||"bigint"==typeof O||n.isBuffer(w)){if(u){var S=v?r:u(r,p.encoder,b,"key",y);if("comma"===i&&v){for(var j=c.call(String(w),","),P="",R=0;R<j.length;++R)P+=(0===R?"":",")+g(u(j[R],p.encoder,b,"value",y));return[g(S)+"="+P]}return[g(S)+"="+g(u(w,p.encoder,b,"value",y))]}return[g(r)+"="+g(String(w))]}var _,x=[];if(void 0===w)return x;if("comma"===i&&s(w))_=[{value:w.length>0?w.join(",")||null:void 0}];else if(s(f))_=f;else{var E=Object.keys(w);_=h?E.sort(h):E}for(var I=0;I<_.length;++I){var T=_[I],k="object"==typeof T&&void 0!==T.value?T.value:w[T];if(!a||null!==k){var N=s(w)?"function"==typeof i?i(r,T):r:r+(d?"."+T:"["+T+"]");l(x,e(k,N,i,o,a,u,f,h,d,m,y,g,v,b))}}return x};e.exports=function(e,t){var r,n=e,c=function(e){if(!e)return p;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=i.default;if(void 0!==e.format){if(!o.call(i.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=i.formatters[r],a=p.filter;return("function"==typeof e.filter||s(e.filter))&&(a=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:a,format:r,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"==typeof c.filter?n=(0,c.filter)("",n):s(c.filter)&&(r=c.filter);var u,f=[];if("object"!=typeof n||null===n)return"";u=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var h=a[u];r||(r=Object.keys(n)),c.sort&&r.sort(c.sort);for(var m=0;m<r.length;++m){var y=r[m];c.skipNulls&&null===n[y]||l(f,d(n[y],y,h,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset))}var g=f.join(c.delimiter),v=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),g.length>0?v+g:""}},720:(e,t,r)=>{"use strict";var n=r(765),i=Object.prototype.hasOwnProperty,o=Array.isArray,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],a=i.obj[i.prop],s=Object.keys(a),c=0;c<s.length;++c){var u=s[c],l=a[u];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(t.push({obj:a,prop:u}),r.push(l))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(o(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r,i,o){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===r)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var c="",u=0;u<s.length;++u){var l=s.charCodeAt(u);45===l||46===l||95===l||126===l||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||o===n.RFC1738&&(40===l||41===l)?c+=s.charAt(u):l<128?c+=a[l]:l<2048?c+=a[192|l>>6]+a[128|63&l]:l<55296||l>=57344?c+=a[224|l>>12]+a[128|l>>6&63]+a[128|63&l]:(u+=1,l=65536+((1023&l)<<10|1023&s.charCodeAt(u)),c+=a[240|l>>18]+a[128|l>>12&63]+a[128|l>>6&63]+a[128|63&l])}return c},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(o(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,n){if(!r)return t;if("object"!=typeof r){if(o(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!i.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var a=t;return o(t)&&!o(r)&&(a=s(t,n)),o(t)&&o(r)?(r.forEach((function(r,o){if(i.call(t,o)){var a=t[o];a&&"object"==typeof a&&r&&"object"==typeof r?t[o]=e(a,r,n):t.push(r)}else t[o]=r})),t):Object.keys(r).reduce((function(t,o){var a=r[o];return i.call(t,o)?t[o]=e(t[o],a,n):t[o]=a,t}),a)}}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=r(557),t=r.n(e),n=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.descendantName,n=t.modifierName,i=r?"-".concat(r):"",o=n?"--".concat(n):"";return"".concat("ais","-").concat(e).concat(i).concat(o)}};function i(e,t){return(Array.isArray(t)?t:t.split(".")).reduce((function(e,t){return e&&e[t]}),e)}var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},a=/[&<>"']/g,s=RegExp(a.source),c={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},u=/&(amp|quot|lt|gt|#39);/g,l=RegExp(u.source);function f(e){return e&&l.test(e)?e.replace(u,(function(e){return c[e]})):e}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function p(e){if(!function(e){return"object"===h(e)&&null!==e}(e)||"[object Object]"!==function(e){return null===e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m.apply(this,arguments)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==d(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===d(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},O={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function w(e){return function(e){return e&&s.test(e)?e.replace(a,(function(e){return o[e]})):e}(e).replace(new RegExp(b.highlightPreTag,"g"),O.highlightPreTag).replace(new RegExp(b.highlightPostTag,"g"),O.highlightPostTag)}function S(e){return p(e)&&"string"!=typeof e.value?Object.keys(e).reduce((function(t,r){return g(g({},t),{},v({},r,S(e[r])))}),{}):Array.isArray(e)?e.map(S):g(g({},e),{},{value:w(e.value)})}function j(e){return void 0===e.__escaped&&(e=e.map((function(e){var t=m({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return t._highlightResult&&(t._highlightResult=S(t._highlightResult)),t._snippetResult&&(t._snippetResult=S(t._snippetResult)),t})),e.__escaped=!0),e}var P=n("Highlight");function R(e){var t=e.attribute,r=e.highlightedTagName,n=void 0===r?"mark":r,o=e.hit,a=e.cssClasses,s=void 0===a?{}:a,c=(i(o._highlightResult,t)||{}).value,u=void 0===c?"":c,l=P({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return u.replace(new RegExp(O.highlightPreTag,"g"),"<".concat(n,' class="').concat(l,'">')).replace(new RegExp(O.highlightPostTag,"g"),"</".concat(n,">"))}function _(e){var t=O.highlightPreTag,r=O.highlightPostTag;return e.map((function(e){return e.isHighlighted?t+e.value+r:e.value})).join("")}var x=new RegExp(/\w/i);function E(e,t){var r,n,i=e[t],o=(null===(r=e[t+1])||void 0===r?void 0:r.isHighlighted)||!0,a=(null===(n=e[t-1])||void 0===n?void 0:n.isHighlighted)||!0;return x.test(f(i.value))||a!==o?i.isHighlighted:a}function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==I(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==I(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===I(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e){return e.some((function(e){return e.isHighlighted}))?e.map((function(t,r){return k(k({},t),{},{isHighlighted:!E(e,r)})})):e.map((function(e){return k(k({},e),{},{isHighlighted:!1})}))}function D(e){var t=O.highlightPostTag,r=O.highlightPreTag,n=e.split(r),i=n.shift(),o=i?[{value:i,isHighlighted:!1}]:[];return n.forEach((function(e){var r=e.split(t);o.push({value:r[0],isHighlighted:!0}),""!==r[1]&&o.push({value:r[1],isHighlighted:!1})})),o}var A=n("ReverseHighlight");function C(e){var t=e.attribute,r=e.highlightedTagName,n=void 0===r?"mark":r,o=e.hit,a=e.cssClasses,s=void 0===a?{}:a,c=(i(o._highlightResult,t)||{}).value,u=void 0===c?"":c,l=A({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return _(F(D(u))).replace(new RegExp(O.highlightPreTag,"g"),"<".concat(n,' class="').concat(l,'">')).replace(new RegExp(O.highlightPostTag,"g"),"</".concat(n,">"))}var L=n("Snippet");function M(e){var t=e.attribute,r=e.highlightedTagName,n=void 0===r?"mark":r,o=e.hit,a=e.cssClasses,s=void 0===a?{}:a,c=(i(o._snippetResult,t)||{}).value,u=void 0===c?"":c,l=L({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return u.replace(new RegExp(O.highlightPreTag,"g"),"<".concat(n,' class="').concat(l,'">')).replace(new RegExp(O.highlightPostTag,"g"),"</".concat(n,">"))}var H=n("ReverseSnippet");function U(e){var t=e.attribute,r=e.highlightedTagName,n=void 0===r?"mark":r,o=e.hit,a=e.cssClasses,s=void 0===a?{}:a,c=(i(o._snippetResult,t)||{}).value,u=void 0===c?"":c,l=H({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return _(F(D(u))).replace(new RegExp(O.highlightPreTag,"g"),"<".concat(n,' class="').concat(l,'">')).replace(new RegExp(O.highlightPostTag,"g"),"</".concat(n,">"))}function q(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function B(e){return JSON.parse(decodeURIComponent(atob(e)))}function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function $(e,t){return function(e){var t,r=e.method,n=e.payload;if("object"!==W(n))throw new Error("The insights helper expects the payload to be an object.");try{t=q(n)}catch(e){throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(r,'" data-insights-payload="').concat(t,'"')}({method:e,payload:t})}function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}var V="_ALGOLIA";function K(){return function(e){if("object"===("undefined"==typeof document?"undefined":Q(document))&&"string"==typeof document.cookie)for(var t="".concat(e,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}}(V)}function J(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fallback:function(){}}).fallback;return"undefined"==typeof window?t():e({window})}function z(e){return e!==Object(e)}function X(e,t){if(e===t)return!0;if(z(e)||z(t)||"function"==typeof e||"function"==typeof t)return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(!(i in t))return!1;if(!X(e[i],t[i]))return!1}return!0}var G=["page"];function Z(e){var t=e||{};return t.page,function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(t,G)}var Y="ais.infiniteHits";function ee(){return{read:function(e){var t=e.state,r=J((function(e){return e.window.sessionStorage}));if(!r)return null;try{var n=JSON.parse(r.getItem(Y));return n&&X(n.state,Z(t))?n.hits:null}catch(e){if(e instanceof SyntaxError)try{r.removeItem(Y)}catch(e){}return null}},write:function(e){var t=e.state,r=e.hits,n=J((function(e){return e.window.sessionStorage}));if(n)try{n.setItem(Y,JSON.stringify({state:Z(t),hits:r}))}catch(e){}}}}var te=r(733),re=r(103);function ne(){}function ie(e,t){for(var r,n=0;n<e.length;n++)if(t(r=e[n],n,e))return r}function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){ce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ce(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==oe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==oe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===oe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||le(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){if(e){if("string"==typeof e)return fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fe(e,t):void 0}}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var he="2.13.0",pe="https://cdn.jsdelivr.net/npm/search-insights@".concat(he,"/dist/search-insights.min.js");function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.insightsClient,r=e.insightsInitParams,n=e.onEvent,i=e.$$internal,o=void 0!==i&&i,a=e.$$automatic,s=void 0!==a&&a,c=t;t||null===t||J((function(e){var t=e.window,r=t.AlgoliaAnalyticsObject||"aa";"string"==typeof r&&(c=t[r]),c||(t.AlgoliaAnalyticsObject=r,t[r]||(t[r]=function(){t[r].queue||(t[r].queue=[]);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t[r].queue.push(n)},t[r].version=he,t[r].shouldAddScript=!0),c=t[r])}));var u=c||ne;return function(e){var t,i=e.instantSearchInstance,a=i.middleware.filter((function(e){return"ais.insights"===e.instance.$$type&&e.instance.$$internal})).map((function(e){return e.creator}));i.unuse.apply(i,function(e){if(Array.isArray(e))return fe(e)}(t=a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||le(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());var c,l,f=ue(function(e){if(e.transporter){var t=e.transporter,r=t.headers,n=t.queryParameters,i="x-algolia-application-id",o="x-algolia-api-key";return[r[i]||n[i],r[o]||n[o]]}return[e.applicationID,e.apiKey]}(i.client),2),h=f[0],p=f[1],d=void 0,m=void 0,y=void 0,g=void 0,v=u.queue;if(Array.isArray(v)){var b=["setUserToken","setAuthenticatedUserToken"].map((function(e){var t=ie(v.slice().reverse(),(function(t){return ue(t,1)[0]===e}))||[];return ue(t,2)[1]})),O=ue(b,2);d=O[0],m=O[1]}return u("getUserToken",null,(function(e,t){y=ye(t)})),u("getAuthenticatedUserToken",null,(function(e,t){g=ye(t)})),!r&&me(u)||u("init",se({appId:h,apiKey:p,partial:!0},r)),{$$type:"ais.insights",$$internal:o,$$automatic:s,onStateChange:function(){},subscribe:function(){if(u.shouldAddScript){var e="[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init";try{var t=document.createElement("script");t.async=!0,t.src=pe,t.onerror=function(){i.emit("error",new Error(e))},document.body.appendChild(t),u.shouldAddScript=!1}catch(t){u.shouldAddScript=!1,i.emit("error",new Error(e))}}},started:function(){u("addAlgoliaAgent","insights-middleware"),l=i.mainHelper,c={userToken:l.state.userToken,clickAnalytics:l.state.clickAnalytics},s||l.overrideStateWithoutTriggeringChangeEvent(se(se({},l.state),{},{clickAnalytics:!0})),o||i.scheduleSearch();var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=ye(e);if(r){var n=l.state.userToken;t?o():setTimeout(o,0)}function o(){l.overrideStateWithoutTriggeringChangeEvent(se(se({},l.state),{},{userToken:r})),n&&n!==e&&i.scheduleSearch()}},t=K();function r(t,r,n){e(t,!0),r&&u("setUserToken",r),n&&u("setAuthenticatedUserToken",n)}t&&e(t,!0);var a=g||y,f=m||d;a?r(a,y,g):f&&r(f,d,m),u("onUserTokenChange",e,{immediate:!0}),u("onAuthenticatedUserTokenChange",(function(t){t||u("getUserToken",null,(function(t,r){e(r)})),e(t)}),{immediate:!0});var v=u;me(u)&&(v=function(e,t){return u(e,t,{headers:{"X-Algolia-Application-Id":h,"X-Algolia-API-Key":p}})}),i.sendEventToInsights=function(e){n?n(e,v):e.insightsMethod&&(e.payload.algoliaSource=["instantsearch"],s&&e.payload.algoliaSource.push("instantsearch-automatic"),"internal"===e.eventModifier&&e.payload.algoliaSource.push("instantsearch-internal"),v(e.insightsMethod,e.payload))}},unsubscribe:function(){u("onUserTokenChange",void 0),u("onAuthenticatedUserTokenChange",void 0),i.sendEventToInsights=ne,l&&c&&(l.overrideStateWithoutTriggeringChangeEvent(se(se({},l.state),c)),i.scheduleSearch())}}}}function me(e){var t=ue((e.version||"").split(".").map(Number),2),r=t[0],n=t[1];return r>=3||2===r&&n>=6||1===r&&n>=10}function ye(e){if(e)return"number"==typeof e?e.toString():e}function ge(e,t,r){var n=t.getHelper();return{uiState:r,helper:n,parent:t,instantSearchInstance:e,state:n.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:"stalled"===e.status},status:e.status,error:e.error}}function ve(e,t){var r=t.getResults(),n=t.getHelper();return{helper:n,parent:t,instantSearchInstance:e,results:r,scopedResults:t.getScopedResults(),state:r?r._state:n.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:"stalled"===e.status},status:e.status,error:e.error}}function be(e,t,r){var n=ge(t,t.mainIndex,t._initialUiState);e.forEach((function(e){var i={};if(e.getWidgetRenderState){var o=e.getWidgetRenderState(n);o&&o.widgetParams&&(i=o.widgetParams)}var a=Object.keys(i).filter((function(e){return void 0!==i[e]}));r.widgets.push({type:e.$$type,widgetType:e.$$widgetType,params:a}),"ais.index"===e.$$type&&be(e.getWidgets(),t,r)}))}function Oe(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).$$internal,t=void 0!==e&&e;return function(e){var r=e.instantSearchInstance,n={widgets:[]},i=document.createElement("meta"),o=document.querySelector("head");return i.name="instantsearch:widgets",{$$type:"ais.metadata",$$internal:t,onStateChange:function(){},subscribe:function(){setTimeout((function(){var e=r.client;n.ua=e.transporter&&e.transporter.userAgent?e.transporter.userAgent.value:e._ua,be(r.mainIndex.getWidgets(),r,n),r.middleware.forEach((function(e){return n.widgets.push({middleware:!0,type:e.instance.$$type,internal:e.instance.$$internal})})),i.content=JSON.stringify(n),o.appendChild(i)}),0)},started:function(){},unsubscribe:function(){i.remove()}}}}var we=r(373);function Se(e){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Se(e)}function je(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Re(n.key),n)}}function Pe(e,t,r){return(t=Re(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Re(e){var t=function(e,t){if("object"!==Se(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Se(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Se(t)?t:String(t)}var _e=function(e){e&&(window.document.title=e)},xe=function(){function e(t){var r=this,n=t.windowTitle,i=t.writeDelay,o=void 0===i?400:i,a=t.createURL,s=t.parseURL,c=t.getLocation,u=t.start,l=t.dispose,f=t.push,h=t.cleanUrlOnDispose;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Pe(this,"$$type","ais.browser"),Pe(this,"windowTitle",void 0),Pe(this,"writeDelay",void 0),Pe(this,"_createURL",void 0),Pe(this,"parseURL",void 0),Pe(this,"getLocation",void 0),Pe(this,"writeTimer",void 0),Pe(this,"_onPopState",void 0),Pe(this,"inPopState",!1),Pe(this,"isDisposed",!1),Pe(this,"latestAcknowledgedHistory",0),Pe(this,"_start",void 0),Pe(this,"_dispose",void 0),Pe(this,"_push",void 0),Pe(this,"_cleanUrlOnDispose",void 0),this.windowTitle=n,this.writeTimer=void 0,this.writeDelay=o,this._createURL=a,this.parseURL=s,this.getLocation=c,this._start=u,this._dispose=l,this._push=f,this._cleanUrlOnDispose=void 0===h||h,J((function(e){var t=e.window,n=r.windowTitle&&r.windowTitle(r.read());_e(n),r.latestAcknowledgedHistory=t.history.length}))}var t,r;return t=e,r=[{key:"read",value:function(){return this.parseURL({qsModule:we,location:this.getLocation()})}},{key:"write",value:function(e){var t=this;J((function(r){var n=r.window,i=t.createURL(e),o=t.windowTitle&&t.windowTitle(e);t.writeTimer&&clearTimeout(t.writeTimer),t.writeTimer=setTimeout((function(){_e(o),t.shouldWrite(i)&&(t._push?t._push(i):n.history.pushState(e,o||"",i),t.latestAcknowledgedHistory=n.history.length),t.inPopState=!1,t.writeTimer=void 0}),t.writeDelay)}))}},{key:"onUpdate",value:function(e){var t=this;this._start&&this._start((function(){e(t.read())})),this._onPopState=function(){t.writeTimer&&(clearTimeout(t.writeTimer),t.writeTimer=void 0),t.inPopState=!0,e(t.read())},J((function(e){e.window.addEventListener("popstate",t._onPopState)}))}},{key:"createURL",value:function(e){return this._createURL({qsModule:we,routeState:e,location:this.getLocation()})}},{key:"dispose",value:function(){var e=this;this._dispose&&this._dispose(),this.isDisposed=!0,J((function(t){var r=t.window;e._onPopState&&r.removeEventListener("popstate",e._onPopState)})),this.writeTimer&&clearTimeout(this.writeTimer),this._cleanUrlOnDispose&&this.write({})}},{key:"start",value:function(){this.isDisposed=!1}},{key:"shouldWrite",value:function(e){var t=this;return J((function(r){var n=r.window,i=!(t.isDisposed&&t.latestAcknowledgedHistory!==n.history.length);return!t.inPopState&&i&&e!==n.location.href}))}}],r&&je(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createURL,r=void 0===t?function(e){var t=e.qsModule,r=e.routeState,n=e.location,i=n.protocol,o=n.hostname,a=n.port,s=void 0===a?"":a,c=n.pathname,u=n.hash,l=t.stringify(r),f=""===s?"":":".concat(s);return l?"".concat(i,"//").concat(o).concat(f).concat(c,"?").concat(l).concat(u):"".concat(i,"//").concat(o).concat(f).concat(c).concat(u)}:t,n=e.parseURL,i=void 0===n?function(e){var t=e.qsModule,r=e.location;return t.parse(r.search.slice(1),{arrayLimit:99})}:n,o=e.writeDelay,a=void 0===o?400:o,s=e.windowTitle,c=e.getLocation,u=void 0===c?function(){return J((function(e){return e.window.location}),{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:c,l=e.start,f=e.dispose,h=e.push,p=e.cleanUrlOnDispose;return new xe({createURL:r,parseURL:i,writeDelay:a,windowTitle:s,getLocation:u,start:l,dispose:f,push:h,cleanUrlOnDispose:p})}function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}var Te=["configure"];function ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(r),!0).forEach((function(t){Fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ie(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ie(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ie(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function De(e){return e.configure,function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,Te)}function Ae(){return{$$type:"ais.simple",stateToRoute:function(e){return Object.keys(e).reduce((function(t,r){return Ne(Ne({},t),{},Fe({},r,De(e[r])))}),{})},routeToState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,r){return Ne(Ne({},t),{},Fe({},r,De(e[r])))}),{})}}}function Ce(e){return Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ce(e)}function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(r),!0).forEach((function(t){He(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function He(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ce(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ce(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ue(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map((function(e){return function(e){var t=e.name,r=e.connector;return["https://www.algolia.com/doc/api-reference/widgets/",t,"/js/",void 0!==r&&r?"#connector":""].join("")}(e)})).join(", ");return function(e){return[e,"See documentation: ".concat(n)].filter(Boolean).join("\n\n")}}function qe(e){return"ais.index"===e.$$type}function Be(e){return e.filter((function(e,t,r){return r.indexOf(e)===t}))}function We(e){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(e)}var $e=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function Qe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach((function(t){Ke(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ke(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==We(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==We(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===We(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Je=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t){var r=function(e,t){return e.setQueryParameters({hierarchicalFacetsRefinements:Ve(Ve({},e.hierarchicalFacetsRefinements),t.hierarchicalFacetsRefinements)})}(e,t),n=function(e,t){return t.tagRefinements.reduce((function(e,t){return e.addTagRefinement(t)}),e)}(function(e,t){return e.setQueryParameters({hierarchicalFacets:t.hierarchicalFacets.reduce((function(e,t){var r=function(e,r){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(e[n].name===t.name)return n;return-1}(e);if(-1===r)return e.concat(t);var n=e.slice();return n.splice(r,1,t),n}),e.hierarchicalFacets)})}(r,t),t),i=function(e,t){return e.setQueryParameters({numericRefinements:Ve(Ve({},e.numericRefinements),t.numericRefinements)})}(n,t),o=function(e,t){return e.setQueryParameters({disjunctiveFacetsRefinements:Ve(Ve({},e.disjunctiveFacetsRefinements),t.disjunctiveFacetsRefinements)})}(i,t),a=function(e,t){return e.setQueryParameters({facetsExcludes:Ve(Ve({},e.facetsExcludes),t.facetsExcludes)})}(o,t),s=function(e,t){return e.setQueryParameters({facetsRefinements:Ve(Ve({},e.facetsRefinements),t.facetsRefinements)})}(a,t),c=function(e,t){return t.disjunctiveFacets.reduce((function(e,t){return e.addDisjunctiveFacet(t)}),e)}(s,t),u=function(e,t){var r=Be([].concat(e.ruleContexts).concat(t.ruleContexts).filter(Boolean));return r.length>0?e.setQueryParameters({ruleContexts:r}):e}(c,t),l=function(e,t){return t.facets.reduce((function(e,t){return e.addFacet(t)}),e)}(u,t);return function(e,t){t.facets,t.disjunctiveFacets,t.facetsRefinements,t.facetsExcludes,t.disjunctiveFacetsRefinements,t.numericRefinements,t.tagRefinements,t.hierarchicalFacets,t.hierarchicalFacetsRefinements,t.ruleContexts;var r=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(t,$e);return e.setQueryParameters(r)}(l,t)}))};function ze(e){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(e)}var Xe=["initialSearchParameters"];function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(r),!0).forEach((function(t){Ye(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ye(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ze(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ze(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ze(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function et(e){return function(e){if(Array.isArray(e))return tt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return tt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rt=Ue({name:"index-widget"});function nt(e,t){var r=t.state,n=t.isPageReset,i=t._uiState;r!==e.state&&(e.state=r,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:n,_uiState:i}))}function it(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.reduce((function(e,r){return qe(r)?e:r.getWidgetUiState||r.getWidgetState?r.getWidgetUiState?r.getWidgetUiState(e,t):r.getWidgetState(e,t):e}),r)}function ot(e,t){var r=t.initialSearchParameters,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(t,Xe);return e.filter((function(e){return!qe(e)})).reduce((function(e,t){return t.getWidgetSearchParameters?t.getWidgetSearchParameters(e,n):e}),r)}function at(e){var t=e.filter(qe);0!==t.length&&t.forEach((function(e){var t=e.getHelper();nt(t,{state:t.state.resetPage(),isPageReset:!0}),at(e.getWidgets())}))}function st(e){return e.filter(qe).reduce((function(e,t){return e.concat.apply(e,[{indexId:t.getIndexId(),results:t.getResults(),helper:t.getHelper()}].concat(et(st(t.getWidgets()))))}),[])}const ct=function(e){if(void 0===e||void 0===e.indexName)throw new Error(rt("The `indexName` option is required."));var t=e.indexName,r=e.indexId,n=void 0===r?t:r,i=[],o={},a=null,s=null,c=null,u=null,l=null;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return t},getIndexId:function(){return n},getHelper:function(){return c},getResults:function(){var e;return null!==(e=u)&&void 0!==e&&e.lastResults?(u.lastResults._state=c.state,u.lastResults):null},getPreviousState:function(){return l},getScopedResults:function(){var e=this.getParent();return st(e?e.getWidgets():[this])},getParent:function(){return s},createURL:function(e){return"function"==typeof e?a._createURL(Ye({},n,e(o))):a._createURL(Ye({},n,it(i,{searchParameters:e,helper:c})))},getWidgets:function(){return i},addWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(rt("The `addWidgets` method expects an array of widgets."));if(e.some((function(e){return"function"!=typeof e.init&&"function"!=typeof e.render})))throw new Error(rt("The widget definition expects a `render` and/or an `init` method."));return i=i.concat(e),a&&Boolean(e.length)&&(nt(c,{state:ot(i,{uiState:o,initialSearchParameters:c.state}),_uiState:o}),e.forEach((function(e){e.getRenderState&&ut({renderState:e.getRenderState(a.renderState[t.getIndexId()]||{},ge(a,t,a._initialUiState)),instantSearchInstance:a,parent:t})})),e.forEach((function(e){e.init&&e.init(ge(a,t,a._initialUiState))})),a.scheduleSearch()),this},removeWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(rt("The `removeWidgets` method expects an array of widgets."));if(e.some((function(e){return"function"!=typeof e.dispose})))throw new Error(rt("The widget definition expects a `dispose` method."));if(i=i.filter((function(t){return-1===e.indexOf(t)})),a&&Boolean(e.length)){var r=e.reduce((function(e,r){return r.dispose({helper:c,state:e,parent:t})||e}),c.state),n=a.future.preserveSharedStateOnUnmount?ot(i,{uiState:o,initialSearchParameters:new re.SearchParameters({index:this.getIndexName()})}):ot(i,{uiState:it(i,{searchParameters:r,helper:c}),initialSearchParameters:r});o=it(i,{searchParameters:n,helper:c}),c.setState(n),i.length&&a.scheduleSearch()}return this},init:function(e){var r,f=this,h=e.instantSearchInstance,p=e.parent,d=e.uiState;if(null===c){a=h,s=p,o=d[n]||{};var m=h.mainHelper,y=ot(i,{uiState:o,initialSearchParameters:new re.SearchParameters({index:t})});(c=re({},y.index,y)).search=function(){return h.onStateChange?(h.onStateChange({uiState:h.mainIndex.getWidgetUiState({}),setUiState:function(e){return h.setUiState(e,!1)}}),m):m.search()},c.searchWithoutTriggeringOnStateChange=function(){return m.search()},c.searchForFacetValues=function(e,t,r,n){var i=c.state.setQueryParameters(n);return m.searchForFacetValues(e,t,r,i)},u=m.derive((function(){return Je.apply(void 0,[m.state].concat(et(function(e){for(var t=e.getParent(),r=[e.getHelper().state];null!==t;)r=[t.getHelper().state].concat(r),t=t.getParent();return r}(f))))}));var g=null===(r=h._initialResults)||void 0===r?void 0:r[this.getIndexId()];if(g){var v=new re.SearchResults(new re.SearchParameters(g.state),g.results);u.lastResults=v,c.lastResults=v}c.on("change",(function(e){e.isPageReset&&at(i)})),u.on("search",(function(){h.scheduleStalledRender()})),u.on("result",(function(e){var t=e.results;h.scheduleRender(),c.lastResults=t,l=null==t?void 0:t._state})),i.forEach((function(e){e.getRenderState&&ut({renderState:e.getRenderState(h.renderState[f.getIndexId()]||{},ge(h,f,d)),instantSearchInstance:h,parent:f})})),i.forEach((function(e){e.init&&e.init(ge(h,f,d))})),c.on("change",(function(e){var t=e.state,r=e._uiState;o=it(i,{searchParameters:t,helper:c},r||{}),h.onStateChange||h.onInternalStateChange()})),g&&h.scheduleRender()}},render:function(e){var t=this,r=e.instantSearchInstance;"error"===r.status&&!r.mainHelper.hasPendingRequests()&&l&&c.setState(l);var n=this.getResults()?i:i.filter(qe);n.forEach((function(e){e.getRenderState&&ut({renderState:e.getRenderState(r.renderState[t.getIndexId()]||{},ve(r,t)),instantSearchInstance:r,parent:t})})),n.forEach((function(e){e.render&&e.render(ve(r,t))}))},dispose:function(){var e,t,r=this;i.forEach((function(e){e.dispose&&e.dispose({helper:c,state:c.state,parent:r})})),a=null,s=null,null===(e=c)||void 0===e||e.removeAllListeners(),c=null,null===(t=u)||void 0===t||t.detach(),u=null},getWidgetUiState:function(e){return i.filter(qe).reduce((function(e,t){return t.getWidgetUiState(e)}),Ze(Ze({},e),{},Ye({},n,Ze(Ze({},e[n]),o))))},getWidgetState:function(e){return this.getWidgetUiState(e)},getWidgetSearchParameters:function(e,t){var r=t.uiState;return ot(i,{uiState:r,initialSearchParameters:e})},refreshUiState:function(){o=it(i,{searchParameters:this.getHelper().state,helper:this.getHelper()},o)},setIndexUiState:function(e){var t="function"==typeof e?e(o):e;a.setUiState((function(e){return Ze(Ze({},e),{},Ye({},n,t))}))}}};function ut(e){var t=e.renderState,r=e.instantSearchInstance,n=e.parent,i=n?n.getIndexId():r.mainIndex.getIndexId();r.renderState=Ze(Ze({},r.renderState),{},Ye({},i,Ze(Ze({},r.renderState[i]),t)))}function lt(e,t){return e.toLocaleString(t)}function ft(e){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(e)}function ht(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(r),!0).forEach((function(t){dt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ht(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ft(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ft(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mt(e){var t=e.numberLocale;return{formatNumber:function(e,r){return lt(Number(r(e)),t)},highlight:function(e,t){try{return t(R(pt(pt({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\nThe highlight helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseHighlight:function(e,t){try{return t(C(pt(pt({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\n  The reverseHighlight helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},snippet:function(e,t){try{return t(M(pt(pt({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\nThe snippet helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseSnippet:function(e,t){try{return t(U(pt(pt({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\n  The reverseSnippet helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},insights:function(e,t){try{var r=JSON.parse(e),n=r.method,i=r.payload;return t($(n,pt({objectIDs:[this.objectID]},i)))}catch(e){throw new Error('\nThe insights helper expects a JSON object of the format:\n{ "method": "method-name", "payload": { "eventName": "name of the event" } }')}}}}var yt=Promise.resolve();function gt(e){var t=null,r=!1,n=function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];null===t&&(t=yt.then((function(){t=null,r?r=!1:e.apply(void 0,i)})))};return n.wait=function(){if(null===t)throw new Error("The deferred function should be called before calling `wait()`");return t},n.cancel=function(){null!==t&&(r=!0)},n}function vt(e){return vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vt(e)}function bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ot(Object(r),!0).forEach((function(t){St(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function St(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==vt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==vt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===vt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jt(e){return Object.keys(e).map((function(t){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=0;return e.replace(/%s/g,(function(){return encodeURIComponent(r[i++])}))}("%s=%s",t,(r=e[t],"[object Object]"===Object.prototype.toString.call(r)||"[object Array]"===Object.prototype.toString.call(r)?JSON.stringify(e[t]):e[t]));var r})).join("&")}function Pt(e,t){var r=e[t.getIndexId()]||{};t.getHelper().setState(t.getWidgetSearchParameters(t.getHelper().state,{uiState:r})),t.getWidgets().filter(qe).forEach((function(t){return Pt(e,t)}))}const Rt="4.65.0";function _t(e){return _t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_t(e)}function xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(r),!0).forEach((function(t){Ft(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function It(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Dt(n.key),n)}}function Tt(e,t){return Tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Tt(e,t)}function kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nt(e){return Nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Nt(e)}function Ft(e,t,r){return(t=Dt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dt(e){var t=function(e,t){if("object"!==_t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==_t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===_t(t)?t:String(t)}var At=Ue({name:"instantsearch"});function Ct(){return"#"}var Lt={preserveSharedStateOnUnmount:!1,persistHierarchicalRootCount:!1},Mt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Tt(e,t)}(a,e);var t,r,n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Nt(n);if(i){var r=Nt(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===_t(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kt(e)}(this,e)});function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Ft(kt(t=o.call(this)),"client",void 0),Ft(kt(t),"indexName",void 0),Ft(kt(t),"insightsClient",void 0),Ft(kt(t),"onStateChange",null),Ft(kt(t),"future",void 0),Ft(kt(t),"helper",void 0),Ft(kt(t),"mainHelper",void 0),Ft(kt(t),"mainIndex",void 0),Ft(kt(t),"started",void 0),Ft(kt(t),"templatesConfig",void 0),Ft(kt(t),"renderState",{}),Ft(kt(t),"_stalledSearchDelay",void 0),Ft(kt(t),"_searchStalledTimer",void 0),Ft(kt(t),"_initialUiState",void 0),Ft(kt(t),"_initialResults",void 0),Ft(kt(t),"_createURL",void 0),Ft(kt(t),"_searchFunction",void 0),Ft(kt(t),"_mainHelperSearch",void 0),Ft(kt(t),"_insights",void 0),Ft(kt(t),"middleware",[]),Ft(kt(t),"sendEventToInsights",void 0),Ft(kt(t),"status","idle"),Ft(kt(t),"error",void 0),Ft(kt(t),"scheduleSearch",gt((function(){t.started&&t.mainHelper.search()}))),Ft(kt(t),"scheduleRender",gt((function(){var e,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];null!==(e=t.mainHelper)&&void 0!==e&&e.hasPendingRequests()||(clearTimeout(t._searchStalledTimer),t._searchStalledTimer=null,r&&(t.status="idle",t.error=void 0)),t.mainIndex.render({instantSearchInstance:kt(t)}),t.emit("render")}))),Ft(kt(t),"onInternalStateChange",gt((function(){var e=t.mainIndex.getWidgetUiState({});t.middleware.forEach((function(t){t.instance.onStateChange({uiState:e})}))}))),t.setMaxListeners(100);var r=e.indexName,n=void 0===r?"":r,i=e.numberLocale,s=e.initialUiState,c=void 0===s?{}:s,u=e.routing,l=void 0===u?null:u,f=e.insights,h=void 0===f?void 0:f,p=e.searchFunction,d=e.stalledSearchDelay,m=void 0===d?200:d,y=e.searchClient,g=void 0===y?null:y,v=e.insightsClient,b=void 0===v?null:v,O=e.onStateChange,w=void 0===O?null:O,S=e.future,j=void 0===S?Et(Et({},Lt),e.future||{}):S;if(null===g)throw new Error(At("The `searchClient` option is required."));if("function"!=typeof g.search)throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if("function"==typeof g.addAlgoliaAgent&&g.addAlgoliaAgent("instantsearch.js (".concat(Rt,")")),b&&"function"!=typeof b)throw new Error(At("The `insightsClient` option should be a function."));if(t.client=g,t.future=j,t.insightsClient=b,t.indexName=n,t.helper=null,t.mainHelper=null,t.mainIndex=ct({indexName:n}),t.onStateChange=w,t.started=!1,t.templatesConfig={helpers:mt({numberLocale:i}),compileOptions:{}},t._stalledSearchDelay=m,t._searchStalledTimer=null,t._createURL=Ct,t._initialUiState=c,t._initialResults=null,t._insights=h,p&&(t._searchFunction=p),t.sendEventToInsights=ne,l){var P="boolean"==typeof l?{}:l;P.$$internal=!0,t.use(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.router,r=void 0===t?Ee():t,n=e.stateMapping,i=void 0===n?Ae():n,o=e.$$internal,a=void 0!==o&&o;return function(e){var t=e.instantSearchInstance;t._createURL=function(e){var n=0===t.mainIndex.getWidgets().length?t._initialUiState:t.mainIndex.getWidgetUiState({}),o=Object.keys(e).reduce((function(t,r){return Me(Me({},t),{},He({},r,e[r]))}),n),a=i.stateToRoute(o);return r.createURL(a)};var n=void 0,o=t._initialUiState;return{$$type:"ais.router({router:".concat(r.$$type||"__unknown__",", stateMapping:").concat(i.$$type||"__unknown__","})"),$$internal:a,onStateChange:function(e){var t=e.uiState,o=i.stateToRoute(t);void 0!==n&&X(n,o)||(r.write(o),n=o)},subscribe:function(){t._initialUiState=Me(Me({},o),i.routeToState(r.read())),r.onUpdate((function(e){t.mainIndex.getWidgets().length>0&&t.setUiState(i.routeToState(e))}))},started:function(){var e;null===(e=r.start)||void 0===e||e.call(r)},unsubscribe:function(){r.dispose()}}}}(P))}if(h){var R="boolean"==typeof h?{}:h;R.$$internal=!0,t.use(de(R))}return J((function(e){var t,r;return(null===(t=e.window.navigator)||void 0===t||null===(r=t.userAgent)||void 0===r?void 0:r.indexOf("Algolia Crawler"))>-1}),{fallback:function(){return!1}})&&t.use(Oe({$$internal:!0})),t}return t=a,r=[{key:"_isSearchStalled",get:function(){return"stalled"===this.status}},{key:"use",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.map((function(t){var r=Et({$$type:"__unknown__",$$internal:!1,subscribe:ne,started:ne,unsubscribe:ne,onStateChange:ne},t({instantSearchInstance:e}));return e.middleware.push({creator:t,instance:r}),r}));return this.started&&i.forEach((function(e){e.subscribe(),e.started()})),this}},{key:"unuse",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.middleware.filter((function(e){return t.includes(e.creator)})).forEach((function(e){return e.instance.unsubscribe()})),this.middleware=this.middleware.filter((function(e){return!t.includes(e.creator)})),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(e){return this.addWidgets([e])}},{key:"addWidgets",value:function(e){if(!Array.isArray(e))throw new Error(At("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(e.some((function(e){return"function"!=typeof e.init&&"function"!=typeof e.render})))throw new Error(At("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(e),this}},{key:"removeWidget",value:function(e){return this.removeWidgets([e])}},{key:"removeWidgets",value:function(e){if(!Array.isArray(e))throw new Error(At("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(e.some((function(e){return"function"!=typeof e.dispose})))throw new Error(At("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(e),this}},{key:"start",value:function(){var e=this;if(this.started)throw new Error(At("The `start` method has already been called once."));var t=this.mainHelper||re(this.client,this.indexName,void 0,{persistHierarchicalRootCount:this.future.persistHierarchicalRootCount});if(t.search=function(){return e.status="loading",e.scheduleRender(!1),t.searchOnlyWithDerivedHelpers()},this._searchFunction){var r={search:function(){return new Promise(ne)}};this._mainHelperSearch=t.search.bind(t),t.search=function(){var n=e.mainIndex.getHelper(),i=re(r,n.state.index,n.state);return i.once("search",(function(t){var r=t.state;n.overrideStateWithoutTriggeringChangeEvent(r),e._mainHelperSearch()})),i.on("change",(function(e){var t=e.state;n.setState(t)})),e._searchFunction(i),t}}if(t.on("error",(function(t){var r=t.error;if(!(r instanceof Error)){var n=r;r=Object.keys(n).reduce((function(e,t){return e[t]=n[t],e}),new Error(n.message))}r.error=r,e.error=r,e.status="error",e.scheduleRender(!1),e.emit("error",r)})),this.mainHelper=t,this.middleware.forEach((function(e){e.instance.subscribe()})),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){!function(e,t){if(t&&("transporter"in e&&!e._cacheHydrated||e._useCache&&"function"==typeof e.addAlgoliaAgent)){var r=Object.keys(t).map((function(e){var r=t[e],n=r.state,i=r.requestParams;return r.results.map((function(e){return wt({indexName:n.index||e.index},i||e.params?{params:jt(i||(t=e.params,t.split("&").reduce((function(e,t){var r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return bt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t.split("="),2),n=r[0],i=r[1];return e[n]=i?decodeURIComponent(i):"",e}),{})))}:{});var t}))})),n=Object.keys(t).reduce((function(e,r){return e.concat(t[r].results)}),[]);if("transporter"in e&&!e._cacheHydrated){e._cacheHydrated=!0;var i=e.search;e.search=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];var a=t.map((function(e){return wt(wt({},e),{},{params:jt(e.params)})}));return e.transporter.responsesCache.get({method:"search",args:[a].concat(n)},(function(){return i.apply(void 0,[t].concat(n))}))},e.transporter.responsesCache.set({method:"search",args:r},{results:n})}if(!("transporter"in e)){var o="/1/indexes/*/queries_body_".concat(JSON.stringify({requests:r}));e.cache=wt(wt({},e.cache),{},St({},o,JSON.stringify({results:Object.keys(t).map((function(e){return t[e].results}))})))}}}(this.client,this._initialResults);var n=this.scheduleSearch;this.scheduleSearch=gt(ne),gt((function(){e.scheduleSearch=n}))()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach((function(e){e.instance.started()})),void 0===this._insights&&t.derivedHelpers[0].once("result",(function(){e.mainIndex.getScopedResults().some((function(e){var t=e.results;return null==t?void 0:t._automaticInsights}))&&e.use(de({$$internal:!0,$$automatic:!0}))}))}},{key:"dispose",value:function(){var e;this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),null===(e=this.mainHelper)||void 0===e||e.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach((function(e){e.instance.unsubscribe()}))}},{key:"scheduleStalledRender",value:function(){var e=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout((function(){e.status="stalled",e.scheduleRender()}),this._stalledSearchDelay))}},{key:"setUiState",value:function(e){var t=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.mainHelper)throw new Error(At("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var n="function"==typeof e?e(this.mainIndex.getWidgetUiState({})):e;this.onStateChange&&r?this.onStateChange({uiState:n,setUiState:function(e){Pt("function"==typeof e?e(n):e,t.mainIndex),t.scheduleSearch(),t.onInternalStateChange()}}):(Pt(n,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.started)throw new Error(At("The `start` method needs to be called before `createURL`."));return this._createURL(e)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(At("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}],r&&It(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(te);const Ht=Mt;var Ut=function(e,t){return e},qt=function(e){return new Ht(e)};qt.version=Rt,qt.createInfiniteHitsSessionStorageCache=Ut(ee),qt.highlight=Ut(R),qt.reverseHighlight=Ut(C),qt.snippet=Ut(M),qt.reverseSnippet=Ut(U),qt.insights=$,qt.getInsightsAnonymousUserToken=function(){return K()},Object.defineProperty(qt,"widgets",{get:function(){throw new ReferenceError("\"instantsearch.widgets\" are not available from the ES build.\n\nTo import the widgets:\n\nimport { searchBox } from 'instantsearch.js/es/widgets'")}}),Object.defineProperty(qt,"connectors",{get:function(){throw new ReferenceError("\"instantsearch.connectors\" are not available from the ES build.\n\nTo import the connectors:\n\nimport { connectSearchBox } from 'instantsearch.js/es/connectors'")}});const Bt=qt;function Wt(e){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wt(e)}function $t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(r),!0).forEach((function(t){Vt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$t(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Vt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Wt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Wt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Wt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Kt=Ue({name:"configure",connector:!0});function Jt(e,t){return e.setQueryParameters(Object.keys(t.searchParameters).reduce((function(e,t){return Qt(Qt({},e),{},Vt({},t,void 0))}),{}))}function zt(e){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zt(e)}function Xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(r),!0).forEach((function(t){Zt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==zt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==zt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===zt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const Yt=function(e){return Gt(Gt({},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne;return function(r){if(!r||!p(r.searchParameters))throw new Error(Kt("The `searchParameters` option expects an object."));var n={};return{$$type:"ais.configure",init:function(t){var r=t.instantSearchInstance;e(Qt(Qt({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance;e(Qt(Qt({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},dispose:function(e){var n=e.state;return t(),Jt(n,r)},getRenderState:function(e,t){var r,n=this.getWidgetRenderState(t);return Qt(Qt({},e),{},{configure:Qt(Qt({},n),{},{widgetParams:Qt(Qt({},n.widgetParams),{},{searchParameters:Je(new re.SearchParameters(null===(r=e.configure)||void 0===r?void 0:r.widgetParams.searchParameters),new re.SearchParameters(n.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(e){var t=e.helper;return n.refine||(n.refine=function(e){return function(t){var n=Jt(e.state,r),i=Je(n,new re.SearchParameters(t));r.searchParameters=t,e.setState(i).search()}}(t)),{refine:n.refine,widgetParams:r}},getWidgetSearchParameters:function(e,t){var n=t.uiState;return Je(e,new re.SearchParameters(Qt(Qt({},n.configure),r.searchParameters)))},getWidgetUiState:function(e){return Qt(Qt({},e),{},{configure:Qt(Qt({},e.configure),r.searchParameters)})}}}}(ne)({searchParameters:e})),{},{$$widgetType:"ais.configure"})};function er(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t){return Array.isArray(t)?e.concat(t):e.concat([t])}),[]).filter(Boolean).join(" ")}var tr,rr,nr,ir,or,ar,sr,cr={},ur=[],lr=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,fr=Array.isArray;function hr(e,t){for(var r in t)e[r]=t[r];return e}function pr(e){var t=e.parentNode;t&&t.removeChild(e)}function dr(e,t,r){var n,i,o,a={};for(o in t)"key"==o?n=t[o]:"ref"==o?i=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?tr.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===a[o]&&(a[o]=e.defaultProps[o]);return mr(e,a,n,i,null)}function mr(e,t,r,n,i){var o={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==i?++nr:i,__i:-1,__u:0};return null==i&&null!=rr.vnode&&rr.vnode(o),o}function yr(e){return e.children}function gr(e,t){this.props=e,this.context=t}function vr(e,t){if(null==t)return e.__?vr(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?vr(e):null}function br(e,t,r){var n,i=e.__v,o=i.__e,a=e.__P;if(a)return(n=hr({},i)).__v=i.__v+1,rr.vnode&&rr.vnode(n),kr(a,n,i,e.__n,void 0!==a.ownerSVGElement,32&i.__u?[o]:null,t,null==o?vr(i):o,!!(32&i.__u),r),n.__v=i.__v,n.__.__k[n.__i]=n,n.__d=void 0,n.__e!=o&&Or(n),n}function Or(e){var t,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return Or(e)}}function wr(e){(!e.__d&&(e.__d=!0)&&ir.push(e)&&!Sr.__r++||or!==rr.debounceRendering)&&((or=rr.debounceRendering)||ar)(Sr)}function Sr(){var e,t,r,n=[],i=[];for(ir.sort(sr);e=ir.shift();)e.__d&&(r=ir.length,t=br(e,n,i)||t,0===r||ir.length>r?(Nr(n,t,i),i.length=n.length=0,t=void 0,ir.sort(sr)):t&&rr.__c&&rr.__c(t,ur));t&&Nr(n,t,i),Sr.__r=0}function jr(e,t,r,n,i,o,a,s,c,u,l){var f,h,p,d,m,y=n&&n.__k||ur,g=t.length;for(r.__d=c,Pr(r,t,y),c=r.__d,f=0;f<g;f++)null!=(p=r.__k[f])&&"boolean"!=typeof p&&"function"!=typeof p&&(h=-1===p.__i?cr:y[p.__i]||cr,p.__i=f,kr(e,p,h,i,o,a,s,c,u,l),d=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&Dr(h.ref,null,p),l.push(p.ref,p.__c||d,p)),null==m&&null!=d&&(m=d),65536&p.__u||h.__k===p.__k?c=Rr(p,c,e):"function"==typeof p.type&&void 0!==p.__d?c=p.__d:d&&(c=d.nextSibling),p.__d=void 0,p.__u&=-196609);r.__d=c,r.__e=m}function Pr(e,t,r){var n,i,o,a,s,c=t.length,u=r.length,l=u,f=0;for(e.__k=[],n=0;n<c;n++)null!=(i=e.__k[n]=null==(i=t[n])||"boolean"==typeof i||"function"==typeof i?null:"string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?mr(null,i,null,null,i):fr(i)?mr(yr,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?mr(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=e,i.__b=e.__b+1,s=_r(i,r,a=n+f,l),i.__i=s,o=null,-1!==s&&(l--,(o=r[s])&&(o.__u|=131072)),null==o||null===o.__v?(-1==s&&f--,"function"!=typeof i.type&&(i.__u|=65536)):s!==a&&(s===a+1?f++:s>a?l>c-a?f+=s-a:f--:f=s<a&&s==a-1?s-a:0,s!==n+f&&(i.__u|=65536))):(o=r[n])&&null==o.key&&o.__e&&0==(131072&o.__u)&&(o.__e==e.__d&&(e.__d=vr(o)),Ar(o,o,!1),r[n]=null,l--);if(l)for(n=0;n<u;n++)null!=(o=r[n])&&0==(131072&o.__u)&&(o.__e==e.__d&&(e.__d=vr(o)),Ar(o,o))}function Rr(e,t,r){var n,i;if("function"==typeof e.type){for(n=e.__k,i=0;n&&i<n.length;i++)n[i]&&(n[i].__=e,t=Rr(n[i],t,r));return t}e.__e!=t&&(r.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8===t.nodeType);return t}function _r(e,t,r,n){var i=e.key,o=e.type,a=r-1,s=r+1,c=t[r];if(null===c||c&&i==c.key&&o===c.type)return r;if(n>(null!=c&&0==(131072&c.__u)?1:0))for(;a>=0||s<t.length;){if(a>=0){if((c=t[a])&&0==(131072&c.__u)&&i==c.key&&o===c.type)return a;a--}if(s<t.length){if((c=t[s])&&0==(131072&c.__u)&&i==c.key&&o===c.type)return s;s++}}return-1}function xr(e,t,r){"-"===t[0]?e.setProperty(t,null==r?"":r):e[t]=null==r?"":"number"!=typeof r||lr.test(t)?r:r+"px"}function Er(e,t,r,n,i){var o;e:if("style"===t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||xr(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||xr(e.style,t,r[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=r,r?n?r.u=n.u:(r.u=Date.now(),e.addEventListener(t,o?Tr:Ir,o)):e.removeEventListener(t,o?Tr:Ir,o);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in e)try{e[t]=null==r?"":r;break e}catch(e){}"function"==typeof r||(null==r||!1===r&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,r))}}function Ir(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(rr.event?rr.event(e):e)}}function Tr(e){if(this.l)return this.l[e.type+!0](rr.event?rr.event(e):e)}function kr(e,t,r,n,i,o,a,s,c,u){var l,f,h,p,d,m,y,g,v,b,O,w,S,j,P,R=t.type;if(void 0!==t.constructor)return null;128&r.__u&&(c=!!(32&r.__u),o=[s=t.__e=r.__e]),(l=rr.__b)&&l(t);e:if("function"==typeof R)try{if(g=t.props,v=(l=R.contextType)&&n[l.__c],b=l?v?v.props.value:l.__:n,r.__c?y=(f=t.__c=r.__c).__=f.__E:("prototype"in R&&R.prototype.render?t.__c=f=new R(g,b):(t.__c=f=new gr(g,b),f.constructor=R,f.render=Cr),v&&v.sub(f),f.props=g,f.state||(f.state={}),f.context=b,f.__n=n,h=f.__d=!0,f.__h=[],f._sb=[]),null==f.__s&&(f.__s=f.state),null!=R.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=hr({},f.__s)),hr(f.__s,R.getDerivedStateFromProps(g,f.__s))),p=f.props,d=f.state,f.__v=t,h)null==R.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==R.getDerivedStateFromProps&&g!==p&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(g,b),!f.__e&&(null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(g,f.__s,b)||t.__v===r.__v)){for(t.__v!==r.__v&&(f.props=g,f.state=f.__s,f.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.forEach((function(e){e&&(e.__=t)})),O=0;O<f._sb.length;O++)f.__h.push(f._sb[O]);f._sb=[],f.__h.length&&a.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(g,f.__s,b),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(p,d,m)}))}if(f.context=b,f.props=g,f.__P=e,f.__e=!1,w=rr.__r,S=0,"prototype"in R&&R.prototype.render){for(f.state=f.__s,f.__d=!1,w&&w(t),l=f.render(f.props,f.state,f.context),j=0;j<f._sb.length;j++)f.__h.push(f._sb[j]);f._sb=[]}else do{f.__d=!1,w&&w(t),l=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++S<25);f.state=f.__s,null!=f.getChildContext&&(n=hr(hr({},n),f.getChildContext())),h||null==f.getSnapshotBeforeUpdate||(m=f.getSnapshotBeforeUpdate(p,d)),jr(e,fr(P=null!=l&&l.type===yr&&null==l.key?l.props.children:l)?P:[P],t,r,n,i,o,a,s,c,u),f.base=t.__e,t.__u&=-161,f.__h.length&&a.push(f),y&&(f.__E=f.__=null)}catch(e){t.__v=null,c||null!=o?(t.__e=s,t.__u|=c?160:32,o[o.indexOf(s)]=null):(t.__e=r.__e,t.__k=r.__k),rr.__e(e,t,r)}else null==o&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=Fr(r.__e,t,r,n,i,o,a,c,u);(l=rr.diffed)&&l(t)}function Nr(e,t,r){for(var n=0;n<r.length;n++)Dr(r[n],r[++n],r[++n]);rr.__c&&rr.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){rr.__e(e,t.__v)}}))}function Fr(e,t,r,n,i,o,a,s,c){var u,l,f,h,p,d,m,y=r.props,g=t.props,v=t.type;if("svg"===v&&(i=!0),null!=o)for(u=0;u<o.length;u++)if((p=o[u])&&"setAttribute"in p==!!v&&(v?p.localName===v:3===p.nodeType)){e=p,o[u]=null;break}if(null==e){if(null===v)return document.createTextNode(g);e=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,g.is&&g),o=null,s=!1}if(null===v)y===g||s&&e.data===g||(e.data=g);else{if(o=o&&tr.call(e.childNodes),y=r.props||cr,!s&&null!=o)for(y={},u=0;u<e.attributes.length;u++)y[(p=e.attributes[u]).name]=p.value;for(u in y)p=y[u],"children"==u||("dangerouslySetInnerHTML"==u?f=p:"key"===u||u in g||Er(e,u,null,p,i));for(u in g)p=g[u],"children"==u?h=p:"dangerouslySetInnerHTML"==u?l=p:"value"==u?d=p:"checked"==u?m=p:"key"===u||s&&"function"!=typeof p||y[u]===p||Er(e,u,p,y[u],i);if(l)s||f&&(l.__html===f.__html||l.__html===e.innerHTML)||(e.innerHTML=l.__html),t.__k=[];else if(f&&(e.innerHTML=""),jr(e,fr(h)?h:[h],t,r,n,i&&"foreignObject"!==v,o,a,o?o[0]:r.__k&&vr(r,0),s,c),null!=o)for(u=o.length;u--;)null!=o[u]&&pr(o[u]);s||(u="value",void 0!==d&&(d!==e[u]||"progress"===v&&!d||"option"===v&&d!==y[u])&&Er(e,u,d,y[u],!1),u="checked",void 0!==m&&m!==e[u]&&Er(e,u,m,y[u],!1))}return e}function Dr(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){rr.__e(e,r)}}function Ar(e,t,r){var n,i;if(rr.unmount&&rr.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||Dr(n,null,t)),null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){rr.__e(e,t)}n.base=n.__P=null,e.__c=void 0}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&Ar(n[i],t,r||"function"!=typeof e.type);r||null==e.__e||pr(e.__e),e.__=e.__e=e.__d=void 0}function Cr(e,t,r){return this.constructor(e,r)}function Lr(e,t,r){var n,i,o,a;rr.__&&rr.__(e,t),i=(n="function"==typeof r)?null:r&&r.__k||t.__k,o=[],a=[],kr(t,e=(!n&&r||t).__k=dr(yr,null,[e]),i||cr,cr,void 0!==t.ownerSVGElement,!n&&r?[r]:i?null:t.firstChild?tr.call(t.childNodes):null,o,!n&&r?r:i?i.__e:t.firstChild,n,a),e.__d=void 0,Nr(o,e,a)}tr=ur.slice,rr={__e:function(e,t,r,n){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,n||{}),a=i.__d),a)return i.__E=i}catch(t){e=t}throw e}},nr=0,gr.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=hr({},this.state),"function"==typeof e&&(e=e(hr({},r),this.props)),e&&hr(r,e),null!=e&&this.__v&&(t&&this._sb.push(t),wr(this))},gr.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),wr(this))},gr.prototype.render=yr,ir=[],ar="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,sr=function(e,t){return e.__v.__b-t.__v.__b},Sr.__r=0;var Mr=function(e){var t=e.insights,r=e.sendEvent;return function(e){var n=Hr(e.target,e.currentTarget,(function(e){return e.hasAttribute("data-insights-event")}));n&&function(e){var t=e.getAttribute("data-insights-event");if("string"!=typeof t)throw new Error("The insights middleware expects `data-insights-event` to be a base64-encoded JSON string.");try{return B(t)}catch(e){throw new Error("The insights middleware was unable to parse `data-insights-event`.")}}(n).forEach((function(e){return r(e)}));var i=Hr(e.target,e.currentTarget,(function(e){return e.hasAttribute("data-insights-method")&&e.hasAttribute("data-insights-payload")}));if(i){var o=function(e){var t=e.getAttribute("data-insights-method"),r=e.getAttribute("data-insights-payload");if("string"!=typeof r)throw new Error("The insights helper expects `data-insights-payload` to be a base64-encoded JSON string.");try{return{method:t,payload:B(r)}}catch(e){throw new Error("The insights helper was unable to parse `data-insights-payload`.")}}(i),a=o.method,s=o.payload;t(a,s)}}};function Hr(e,t,r){for(var n=e;n&&!r(n);){if(n===t)return null;n=n.parentElement}return n}var Ur=r(714),qr=function(e,t,r,n){var i;t[0]=0;for(var o=1;o<t.length;o++){var a=t[o++],s=t[o]?(t[0]|=a?1:2,r[t[o++]]):t[++o];3===a?n[0]=s:4===a?n[1]=Object.assign(n[1]||{},s):5===a?(n[1]=n[1]||{})[t[++o]]=s:6===a?n[1][t[++o]]+=s+"":a?(i=e.apply(s,qr(e,s,r,["",null])),n.push(i),s[0]?t[0]|=2:(t[o-2]=0,t[o]=i)):n.push(s)}return n},Br=new Map,Wr=function(e){var t=Br.get(this);return t||(t=new Map,Br.set(this,t)),(t=qr(this,t.get(e)||(t.set(e,t=function(e){for(var t,r,n=1,i="",o="",a=[0],s=function(e){1===n&&(e||(i=i.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?a.push(0,e,i):3===n&&(e||i)?(a.push(3,e,i),n=2):2===n&&"..."===i&&e?a.push(4,e,0):2===n&&i&&!e?a.push(5,0,!0,i):n>=5&&((i||!e&&5===n)&&(a.push(n,0,i,r),n=6),e&&(a.push(n,e,0,r),n=6)),i=""},c=0;c<e.length;c++){c&&(1===n&&s(),s(c));for(var u=0;u<e[c].length;u++)t=e[c][u],1===n?"<"===t?(s(),a=[a],n=3):i+=t:4===n?"--"===i&&">"===t?(n=1,i=""):i=t+i[0]:o?t===o?o="":i+=t:'"'===t||"'"===t?o=t:">"===t?(s(),n=1):n&&("="===t?(n=5,r=i,i=""):"/"===t&&(n<5||">"===e[c][u+1])?(s(),3===n&&(a=a[0]),n=a,(a=a[0]).push(2,0,n),n=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(s(),n=2):i+=t),3===n&&"!--"===i&&(n=4,a=a[0])}return s(),a}(e)),t),arguments,[])).length>1?t:t[0]}.bind(dr);function $r(){return $r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$r.apply(this,arguments)}var Qr,Vr,Kr,Jr,zr=["parts","highlightedTagName","nonHighlightedTagName","separator","className","classNames"],Xr=(Vr=(Qr={createElement:dr,Fragment:yr}).createElement,Jr=function(e){var t=e.createElement;return function(e){var r=e.classNames,n=e.children,i=e.highlightedTagName,o=e.isHighlighted,a=e.nonHighlightedTagName;return t(o?i:a,{className:o?r.highlighted:r.nonHighlighted},n)}}({createElement:Vr,Fragment:Kr=Qr.Fragment}),function(e){var t=e.parts,r=e.highlightedTagName,n=void 0===r?"mark":r,i=e.nonHighlightedTagName,o=void 0===i?"span":i,a=e.separator,s=void 0===a?", ":a,c=e.className,u=e.classNames,l=void 0===u?{}:u,f=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,zr);return Vr("span",$r({},f,{className:er(l.root,c)}),t.map((function(e,r){var i=r===t.length-1;return Vr(Kr,{key:r},e.map((function(e,t){return Vr(Jr,{key:t,classNames:l,highlightedTagName:n,nonHighlightedTagName:o,isHighlighted:e.isHighlighted},e.value)})),!i&&Vr("span",{className:l.separator},s))})))}),Gr=["classNames"];function Zr(){return Zr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zr.apply(this,arguments)}function Yr(e){var t=e.classNames,r=void 0===t?{}:t,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,Gr);return dr(Xr,Zr({classNames:{root:er("ais-Highlight",r.root),highlighted:er("ais-Highlight-highlighted",r.highlighted),nonHighlighted:er("ais-Highlight-nonHighlighted",r.nonHighlighted),separator:er("ais-Highlight-separator",r.separator)}},n))}function en(e){return Array.isArray(e)?e:[e]}var tn=["hit","attribute","cssClasses"];function rn(){return rn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rn.apply(this,arguments)}function nn(e){var t=e.hit,r=e.attribute,n=e.cssClasses,o=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,tn),a=en(i(t._highlightResult,r)||[]).map((function(e){return D(f(e.value||""))}));return dr(Yr,rn({},o,{parts:a,classNames:n}))}var on=["classNames"];function an(){return an=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},an.apply(this,arguments)}function sn(e){var t=e.classNames,r=void 0===t?{}:t,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,on);return dr(Xr,an({classNames:{root:er("ais-ReverseHighlight",r.root),highlighted:er("ais-ReverseHighlight-highlighted",r.highlighted),nonHighlighted:er("ais-ReverseHighlight-nonHighlighted",r.nonHighlighted),separator:er("ais-ReverseHighlight-separator",r.separator)}},n))}function cn(e){return cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cn(e)}var un=["hit","attribute","cssClasses"],ln=["isHighlighted"];function fn(){return fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fn.apply(this,arguments)}function hn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(r),!0).forEach((function(t){dn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==cn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==cn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===cn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mn(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yn(e){var t=e.hit,r=e.attribute,n=e.cssClasses,o=mn(e,un),a=en(i(t._highlightResult,r)||[]).map((function(e){return D(f(e.value||"")).map((function(e){var t=e.isHighlighted;return pn(pn({},mn(e,ln)),{},{isHighlighted:!t})}))}));return dr(sn,fn({},o,{parts:a,classNames:n}))}var gn=["classNames"];function vn(){return vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vn.apply(this,arguments)}function bn(e){var t=e.classNames,r=void 0===t?{}:t,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,gn);return dr(Xr,vn({classNames:{root:er("ais-Snippet",r.root),highlighted:er("ais-Snippet-highlighted",r.highlighted),nonHighlighted:er("ais-Snippet-nonHighlighted",r.nonHighlighted),separator:er("ais-Snippet-separator",r.separator)}},n))}var On=["hit","attribute","cssClasses"];function wn(){return wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wn.apply(this,arguments)}function Sn(e){var t=e.hit,r=e.attribute,n=e.cssClasses,o=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,On),a=en(i(t._snippetResult,r)||[]).map((function(e){return D(f(e.value||""))}));return dr(bn,wn({},o,{parts:a,classNames:n}))}var jn=["classNames"];function Pn(){return Pn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pn.apply(this,arguments)}function Rn(e){var t=e.classNames,r=void 0===t?{}:t,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,jn);return dr(Xr,Pn({classNames:{root:er("ais-ReverseSnippet",r.root),highlighted:er("ais-ReverseSnippet-highlighted",r.highlighted),nonHighlighted:er("ais-ReverseSnippet-nonHighlighted",r.nonHighlighted),separator:er("ais-ReverseSnippet-separator",r.separator)}},n))}function _n(e){return _n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_n(e)}var xn=["hit","attribute","cssClasses"],En=["isHighlighted"];function In(){return In=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},In.apply(this,arguments)}function Tn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tn(Object(r),!0).forEach((function(t){Nn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Nn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==_n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==_n(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===_n(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fn(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Dn(e){var t=e.hit,r=e.attribute,n=e.cssClasses,o=Fn(e,xn),a=en(i(t._snippetResult,r)||[]).map((function(e){return D(f(e.value||"")).map((function(e){var t=e.isHighlighted;return kn(kn({},Fn(e,En)),{},{isHighlighted:!t})}))}));return dr(Rn,In({},o,{parts:a,classNames:n}))}function An(e){return An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},An(e)}function Cn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ln(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(r),!0).forEach((function(t){Mn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Mn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==An(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==An(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===An(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hn(e){var t=e.templates,r=e.templateKey,n=e.compileOptions,i=e.helpers,o=e.data,a=e.bindEvent,s=e.sendEvent,c=t[r];if("string"!=typeof c&&"function"!=typeof c)throw new Error("Template must be 'string' or 'function', was '".concat(An(c),"' (key: ").concat(r,")"));if("function"==typeof c){var u=a||{};return u.html=Wr,u.sendEvent=s,u.components={Highlight:nn,ReverseHighlight:yn,Snippet:Sn,ReverseSnippet:Dn},c(o,u)}var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return Object.keys(e).reduce((function(n,i){return Ln(Ln({},n),{},Mn({},i,(function(){var n=this;return function(o){return e[i].call(r,o,(function(e){return Ur.compile(e,t).render(n)}))}})))}),{})}(i,n,o);return Ur.compile(c,n).render(Ln(Ln({},o),{},{helpers:l})).replace(/[ \n\r\t\f\xA0]+/g,(function(e){return e.replace(/(^|\xA0+)[^\xA0]+/g,"$1 ")})).trim()}function Un(){return Un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Un.apply(this,arguments)}function qn(e){return qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qn(e)}function Bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Wn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Zn(n.key),n)}}function Qn(e,t,r){return t&&$n(e.prototype,t),r&&$n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kn(e,t)}function Kn(e,t){return Kn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kn(e,t)}function Jn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Xn(e);if(t){var i=Xn(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===qn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return zn(e)}(this,r)}}function zn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xn(e){return Xn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Xn(e)}function Gn(e,t,r){return(t=Zn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zn(e){var t=function(e,t){if("object"!==qn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==qn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===qn(t)?t:String(t)}var Yn=function(e){Vn(r,e);var t=Jn(r);function r(){var e;Wn(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Gn(zn(e=t.call.apply(t,[this].concat(i))),"ref",{current:null}),Gn(zn(e),"nodes",[]),e}return Qn(r,[{key:"componentDidMount",value:function(){var e,t=new DocumentFragment,r=document.createElement("div");r.innerHTML=this.props.content,this.nodes=function(e){if(Array.isArray(e))return Bn(e)}(e=r.children)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Bn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Bn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),this.nodes.forEach((function(e){return t.appendChild(e)})),this.ref.current.replaceWith(t)}},{key:"componentWillUnmount",value:function(){this.nodes.forEach((function(e){return e.outerHTML=""}))}},{key:"render",value:function(){return dr("div",{ref:this.ref})}}]),r}(gr),ei=function(e){Vn(r,e);var t=Jn(r);function r(){return Wn(this,r),t.apply(this,arguments)}return Qn(r,[{key:"shouldComponentUpdate",value:function(e){return!X(this.props.data,e.data)||this.props.templateKey!==e.templateKey||!X(this.props.rootProps,e.rootProps)}},{key:"render",value:function(){var e="fragment"===this.props.rootTagName?yr:this.props.rootTagName,t=this.props.useCustomCompileOptions[this.props.templateKey]?this.props.templatesConfig.compileOptions:{},r=Hn({templates:this.props.templates,templateKey:this.props.templateKey,compileOptions:t,helpers:this.props.templatesConfig.helpers,data:this.props.data,bindEvent:this.props.bindEvent,sendEvent:this.props.sendEvent});return null===r?null:"object"===qn(r)?dr(e,this.props.rootProps,r):e===yr?dr(Yn,{content:r,key:r}):dr(e,Un({},this.props.rootProps,{dangerouslySetInnerHTML:{__html:r}}))}}]),r}(gr);Gn(ei,"defaultProps",{data:{},rootTagName:"div",useCustomCompileOptions:{},templates:{},templatesConfig:{}});const ti=ei;function ri(e){return ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ri(e)}function ni(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ii(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(r),!0).forEach((function(t){oi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ni(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oi(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ri(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ri(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ri(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ai(){return ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ai.apply(this,arguments)}const si=function(e){var t=e.results,r=e.hits,n=e.insights,i=e.bindEvent,o=e.sendEvent,a=e.hasShowPrevious,s=e.showPrevious,c=e.showMore,u=e.isFirstPage,l=e.isLastPage,f=e.cssClasses,h=e.templateProps,p=Mr({insights:n,sendEvent:o});return 0===t.hits.length?dr(ti,ai({},h,{templateKey:"empty",rootProps:{className:er(f.root,f.emptyRoot),onClick:p},data:t})):dr("div",{className:f.root},a&&dr(ti,ai({},h,{templateKey:"showPreviousText",rootTagName:"button",rootProps:{className:er(f.loadPrevious,u&&f.disabledLoadPrevious),disabled:u,onClick:s}})),dr("ol",{className:f.list},r.map((function(e,t){return dr(ti,ai({},h,{templateKey:"item",rootTagName:"li",rootProps:{className:f.item,onClick:function(t){p(t),o("click:internal",e,"Hit Clicked")},onAuxClick:function(t){p(t),o("click:internal",e,"Hit Clicked")}},key:e.objectID,data:ii(ii({},e),{},{get __hitIndex(){return t}}),bindEvent:i,sendEvent:o}))}))),dr(ti,ai({},h,{templateKey:"showMoreText",rootTagName:"button",rootProps:{className:er(f.loadMore,l&&f.disabledLoadMore),disabled:l,onClick:c}})))};function ci(e,t){if(void 0===e||"function"!=typeof e)throw new Error("The render function is not valid (received type ".concat((r=e,Object.prototype.toString.call(r).slice(8,-1)),").\n\n").concat(t));var r}function ui(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function li(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ui(Object(r),!0).forEach((function(t){fi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ui(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fi(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==pi(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==pi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===pi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pi(e){return pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pi(e)}function di(e){var t=e.getIndex,r=e.widgetType,n=(e.methodName,e.args),i=e.instantSearchInstance;if(1===n.length&&"object"===pi(n[0]))return[n[0]];var o=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return hi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n[0].split(":"),2),a=o[0],s=o[1],c=n[1],u=n[2],l=n[3]||{};if(!c)return[];if(("click"===a||"conversion"===a)&&!u)return[];var f=Array.isArray(c)?c:[c];if(0===f.length)return[];var h=f[0].__queryID,p=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,r=[],n=0;n<Math.ceil(e.length/t);n++)r.push(e.slice(n*t,(n+1)*t));return r}(f),d=p.map((function(e){return e.map((function(e){return e.objectID}))})),m=p.map((function(e){return e.map((function(e){return e.__position}))}));return"view"===a?"idle"!==i.status?[]:p.map((function(e,n){return{insightsMethod:"viewedObjectIDs",widgetType:r,eventType:a,payload:li({eventName:u||"Hits Viewed",index:t(),objectIDs:d[n]},l),hits:e,eventModifier:s}})):"click"===a?p.map((function(e,n){return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:r,eventType:a,payload:li({eventName:u||"Hit Clicked",index:t(),queryID:h,objectIDs:d[n],positions:m[n]},l),hits:e,eventModifier:s}})):"conversion"===a?p.map((function(e,n){return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:r,eventType:a,payload:li({eventName:u||"Hit Converted",index:t(),queryID:h,objectIDs:d[n]},l),hits:e,eventModifier:s}})):[]}function mi(e){var t=e.instantSearchInstance,r=e.getIndex,n=e.widgetType,i={},o=void 0;return function(){for(var e=arguments.length,a=new Array(e),s=0;s<e;s++)a[s]=arguments[s];di({widgetType:n,getIndex:r,methodName:"sendEvent",args:a,instantSearchInstance:t}).forEach((function(e){"click"===e.eventType&&"internal"===e.eventModifier&&i[e.eventType]||(i[e.eventType]=!0,t.sendEventToInsights(e))})),clearTimeout(o),o=setTimeout((function(){i={}}),0)}}function yi(e){var t=e.getIndex,r=e.widgetType,n=e.instantSearchInstance;return function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];var a=di({widgetType:r,getIndex:t,methodName:"bindEvent",args:i,instantSearchInstance:n});return a.length?"data-insights-event=".concat(q(a)):""}}function gi(e){return gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gi(e)}function vi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vi(Object(r),!0).forEach((function(t){Oi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oi(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==gi(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==gi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===gi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wi(e,t,r){return e.map((function(e,n){return bi(bi({},e),{},{__position:r*t+n+1})}))}function Si(e){return Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Si(e)}function ji(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ji(Object(r),!0).forEach((function(t){Ri(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ji(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ri(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Si(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Si(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Si(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _i(e,t){return t?e.map((function(e){return Pi(Pi({},e),{},{__queryID:t})})):e}function xi(e,t){t(e),e.getWidgets().forEach((function(e){qe(e)&&xi(e,t)}))}function Ei(e){return Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ei(e)}var Ii=["page"],Ti=["clickAnalytics","userToken"];function ki(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ni(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ki(Object(r),!0).forEach((function(t){Fi(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ki(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fi(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ei(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ei(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ei(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Di(e){return function(e){if(Array.isArray(e))return Ai(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ai(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ai(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ai(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ci(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Li=Ue({name:"infinite-hits",connector:!0});function Mi(e){var t=e||{};return t.page,Ci(t,Ii)}function Hi(e){var t=e||{};return t.clickAnalytics,t.userToken,Ci(t,Ti)}const Ui=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne;return ci(e,Li()),function(r){var n,i,o,a,s,c,u=r||{},l=u.escapeHTML,f=void 0===l||l,h=u.transformItems,p=void 0===h?function(e){return e}:h,d=u.cache,m=void 0===d?(n=null,i=null,{read:function(e){var t=e.state;return X(i,Mi(t))?n:null},write:function(e){var t=e.state,r=e.hits;i=Mi(t),n=r}}):d,y=function(e,t){var r=e.page,n=void 0===r?0:r,i=Object.keys(t).map(Number);return 0===i.length?n:Math.min.apply(Math,[n].concat(Di(i)))},g=function(e,t){var r=e.page,n=void 0===r?0:r,i=Object.keys(t).map(Number);return 0===i.length?n:Math.max.apply(Math,[n].concat(Di(i)))};return{$$type:"ais.infiniteHits",init:function(t){e(Ni(Ni({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){var r=t.instantSearchInstance,n=this.getWidgetRenderState(t);e(Ni(Ni({},n),{},{instantSearchInstance:r}),!1),s("view:internal",n.currentPageHits)},getRenderState:function(e,t){return Ni(Ni({},e),{},{infiniteHits:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t,n=e.results,i=e.helper,u=e.parent,l=e.state,h=e.instantSearchInstance,d=[],v=u.getPreviousState()||l,b=m.read({state:Hi(v)})||{};if(n){var O,w,S=v.page,P=void 0===S?0:S;f&&n.hits.length>0&&(n.hits=j(n.hits));var R=_i(wi(n.hits,n.page,n.hitsPerPage),n.queryID),_=p(R,{results:n}),x=!1;xi(h.mainIndex,(function(e){!x&&e.getWidgets().some((function(e){return"ais.dynamicWidgets"===e.$$type}))&&(x=!0)}));var E=!(null!==(O=v.disjunctiveFacets)&&void 0!==O&&O.length||(v.facets||[]).filter((function(e){return"*"!==e})).length||null!==(w=v.hierarchicalFacets)&&void 0!==w&&w.length);void 0!==b[P]||n.__isArtificial||"idle"!==h.status||x&&E||(b[P]=_,m.write({state:Hi(v),hits:b})),d=_,t=0===y(v,b)}else o=function(e){return function(){e.overrideStateWithoutTriggeringChangeEvent(Ni(Ni({},e.state),{},{page:y(e.state,m.read({state:Hi(e.state)})||{})-1})).searchWithoutTriggeringOnStateChange()}}(i),a=function(e){return function(){e.setPage(g(e.state,m.read({state:Hi(e.state)})||{})+1).search()}}(i),s=mi({instantSearchInstance:h,getIndex:function(){return i.getIndex()},widgetType:this.$$type}),c=yi({getIndex:function(){return i.getIndex()},widgetType:this.$$type,instantSearchInstance:h}),t=void 0===v.page||0===y(v,b);var I=function(e){return Object.keys(e).map(Number).sort((function(e,t){return e-t})).reduce((function(t,r){return t.concat(e[r])}),[])}(b),T=!n||n.nbPages<=g(v,b)+1;return{hits:I,currentPageHits:d,sendEvent:s,bindEvent:c,results:n,showPrevious:o,showMore:a,isFirstPage:t,isLastPage:T,widgetParams:r}},dispose:function(e){var r=e.state;t();var n=r.setQueryParameter("page",void 0);return f?n.setQueryParameters(Object.keys(b).reduce((function(e,t){return Ni(Ni({},e),{},Fi({},t,void 0))}),{})):n},getWidgetUiState:function(e,t){var r=t.searchParameters.page||0;return r?Ni(Ni({},e),{},{page:r+1}):e},getWidgetSearchParameters:function(e,t){var r=t.uiState,n=e;f&&(n=e.setQueryParameters(b));var i=r.page?r.page-1:0;return n.setQueryParameter("page",i)}}}};function qi(e){return qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qi(e)}function Bi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bi(Object(r),!0).forEach((function(t){$i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bi(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $i(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==qi(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==qi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===qi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qi(e){return function(t,r){return e((function(e,r){var n=e.results,i=e.hits,o=e.instantSearchInstance;if(n&&i&&o){var a=function(e,t,r){return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];var s=o[0];if(!e){var c=Ue({name:"instantsearch"});throw new Error(c("The `insightsClient` option has not been provided to `instantsearch`."))}if(!Array.isArray(s.objectIDs))throw new TypeError("Expected `objectIDs` to be an array.");var u=function(e){var t=e.method,r=e.results,n=e.hits,i=e.objectIDs,o=r.index,a=function(e,t){return t.map((function(t){var r=ie(e,(function(e){return e.objectID===t}));if(void 0===r)throw new Error('Could not find objectID "'.concat(t,'" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.'));return r}))}(n,i),s=function(e){var t=Be(e.map((function(e){return e.__queryID})));if(t.length>1)throw new Error("Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.");var r=t[0];if("string"!=typeof r)throw new Error("Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\n\nSee: https://alg.li/lNiZZ7");return r}(a);switch(t){case"clickedObjectIDsAfterSearch":var c=function(e){return e.map((function(e){return e.__position}))}(a);return{index:o,queryID:s,objectIDs:i,positions:c};case"convertedObjectIDsAfterSearch":return{index:o,queryID:s,objectIDs:i};default:throw new Error('Unsupported method passed to insights: "'.concat(t,'".'))}}({method:n,results:t,hits:r,objectIDs:s.objectIDs});e(n,Wi(Wi({},u),s))}}(o.insightsClient,n,i);return t(Wi(Wi({},e),{},{insights:a}),r)}return t(e,r)}),r)}}function Vi(e){return Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vi(e)}function Ki(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ji(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Vi(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Vi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Vi(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zi(e){return function(e){if(Array.isArray(e))return Xi(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Xi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xi(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gi(e){var t=e.defaultTemplates,r=e.templates,n=e.templatesConfig,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Be([].concat(zi(Object.keys(e||{})),zi(Object.keys(t)))).reduce((function(r,n){var i=e?e[n]:void 0,o=t[n],a=void 0!==o&&o!==i;return r.templates[n]=a?o:i,r.useCustomCompileOptions[n]=a,r}),{templates:{},useCustomCompileOptions:{}})}(t,r);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ki(Object(r),!0).forEach((function(t){Ji(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ki(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({templatesConfig:n},i)}function Zi(e){var t,r="string"==typeof e,n=r?document.querySelector(e):e;if(!((t=n)instanceof HTMLElement||Boolean(t)&&t.nodeType>0)){var i="Container must be `string` or `HTMLElement`.";throw r&&(i+=" Unable to find ".concat(e)),new Error(i)}return n}function Yi(e,t){return null==e?e:Object.keys(e).reduce((function(r,n){if(t.indexOf(n)>=0)return r;var i=n;return r[i]=e[i],r}),{})}const eo={empty:function(){return"No results"},showPreviousText:function(){return"Show previous results"},showMoreText:function(){return"Show more results"},item:function(e){return JSON.stringify(Yi(e,["__hitIndex"]),null,2)}};function to(e){return to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},to(e)}function ro(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function no(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ro(Object(r),!0).forEach((function(t){io(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ro(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function io(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==to(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==to(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===to(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var oo=Ue({name:"infinite-hits"}),ao=n("InfiniteHits");const so=function(e){var t=e||{},r=t.container,n=t.escapeHTML,i=t.transformItems,o=t.templates,a=void 0===o?{}:o,s=t.cssClasses,c=void 0===s?{}:s,u=t.showPrevious,l=t.cache;if(!r)throw new Error(oo("The `container` option is required."));var f=Zi(r),h={root:er(ao(),c.root),emptyRoot:er(ao({modifierName:"empty"}),c.emptyRoot),item:er(ao({descendantName:"item"}),c.item),list:er(ao({descendantName:"list"}),c.list),loadPrevious:er(ao({descendantName:"loadPrevious"}),c.loadPrevious),disabledLoadPrevious:er(ao({descendantName:"loadPrevious",modifierName:"disabled"}),c.disabledLoadPrevious),loadMore:er(ao({descendantName:"loadMore"}),c.loadMore),disabledLoadMore:er(ao({descendantName:"loadMore",modifierName:"disabled"}),c.disabledLoadMore)},p=function(e){var t=e.containerNode,r=e.cssClasses,n=e.renderState,i=e.templates,o=e.showPrevious;return function(e,a){var s=e.hits,c=e.results,u=e.showMore,l=e.showPrevious,f=e.isFirstPage,h=e.isLastPage,p=e.instantSearchInstance,d=e.insights,m=e.bindEvent,y=e.sendEvent;a?n.templateProps=Gi({defaultTemplates:eo,templatesConfig:p.templatesConfig,templates:i}):Lr(dr(si,{cssClasses:r,hits:s,results:c,hasShowPrevious:o,showPrevious:l,showMore:u,templateProps:n.templateProps,isFirstPage:f,isLastPage:h,insights:d,sendEvent:y,bindEvent:m}),t)}}({containerNode:f,cssClasses:h,templates:a,showPrevious:u,renderState:{}});return no(no({},Qi(Ui)(p,(function(){return Lr(null,f)}))({escapeHTML:n,transformItems:i,showPrevious:u,cache:l})),{},{$$widgetType:"ais.infiniteHits"})};function co(e){return co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},co(e)}function uo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(r),!0).forEach((function(t){fo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==co(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==co(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===co(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ho(){return ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ho.apply(this,arguments)}function po(e){var t=e.results,r=e.hits,n=e.insights,i=e.bindEvent,o=e.sendEvent,a=e.cssClasses,s=e.templateProps,c=Mr({insights:n,sendEvent:o});return 0===t.hits.length?dr(ti,ho({},s,{templateKey:"empty",rootProps:{className:er(a.root,a.emptyRoot),onClick:c},data:t})):dr("div",{className:a.root},dr("ol",{className:a.list},r.map((function(e,t){return dr(ti,ho({},s,{templateKey:"item",rootTagName:"li",rootProps:{className:a.item,onClick:function(t){c(t),o("click:internal",e,"Hit Clicked")},onAuxClick:function(t){c(t),o("click:internal",e,"Hit Clicked")}},key:e.objectID,data:lo(lo({},e),{},{get __hitIndex(){return t}}),bindEvent:i,sendEvent:o}))}))))}function mo(e){return mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mo(e)}function yo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function go(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yo(Object(r),!0).forEach((function(t){vo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==mo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==mo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===mo(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var bo=Ue({name:"hits",connector:!0});const Oo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne;return ci(e,bo()),function(r){var n,i,o=r||{},a=o.escapeHTML,s=void 0===a||a,c=o.transformItems,u=void 0===c?function(e){return e}:c;return{$$type:"ais.hits",init:function(t){e(go(go({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){var r=this.getWidgetRenderState(t);e(go(go({},r),{},{instantSearchInstance:t.instantSearchInstance}),!1),r.sendEvent("view:internal",r.hits)},getRenderState:function(e,t){return go(go({},e),{},{hits:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,o=e.helper,a=e.instantSearchInstance;if(n||(n=mi({instantSearchInstance:a,getIndex:function(){return o.getIndex()},widgetType:this.$$type})),i||(i=yi({getIndex:function(){return o.getIndex()},widgetType:this.$$type,instantSearchInstance:a})),!t)return{hits:[],results:void 0,sendEvent:n,bindEvent:i,widgetParams:r};s&&t.hits.length>0&&(t.hits=j(t.hits));var c=_i(wi(t.hits,t.page,t.hitsPerPage),t.queryID);return{hits:u(c,{results:t}),results:t,sendEvent:n,bindEvent:i,widgetParams:r}},dispose:function(e){var r=e.state;return t(),s?r.setQueryParameters(Object.keys(b).reduce((function(e,t){return go(go({},e),{},vo({},t,void 0))}),{})):r},getWidgetSearchParameters:function(e){return s?e.setQueryParameters(b):e}}}},wo={empty:function(){return"No results"},item:function(e){return JSON.stringify(Yi(e,["__hitIndex"]),null,2)}};function So(e){return So="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},So(e)}function jo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Po(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jo(Object(r),!0).forEach((function(t){Ro(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ro(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==So(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==So(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===So(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _o=Ue({name:"hits"}),xo=n("Hits");const Eo=function(e){var t=e||{},r=t.container,n=t.escapeHTML,i=t.transformItems,o=t.templates,a=void 0===o?{}:o,s=t.cssClasses,c=void 0===s?{}:s;if(!r)throw new Error(_o("The `container` option is required."));var u=Zi(r),l={root:er(xo(),c.root),emptyRoot:er(xo({modifierName:"empty"}),c.emptyRoot),list:er(xo({descendantName:"list"}),c.list),item:er(xo({descendantName:"item"}),c.item)},f=function(e){var t=e.renderState,r=e.cssClasses,n=e.containerNode,i=e.templates;return function(e,o){var a=e.hits,s=e.results,c=e.instantSearchInstance,u=e.insights,l=e.bindEvent,f=e.sendEvent;o?t.templateProps=Gi({defaultTemplates:wo,templatesConfig:c.templatesConfig,templates:i}):Lr(dr(po,{cssClasses:r,hits:a,results:s,templateProps:t.templateProps,insights:u,sendEvent:f,bindEvent:l}),n)}}({containerNode:u,cssClasses:l,renderState:{},templates:a});return Po(Po({},Qi(Oo)(f,(function(){return Lr(null,u)}))({escapeHTML:n,transformItems:i})),{},{$$widgetType:"ais.hits"})};function Io(e){return Io="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Io(e)}function To(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ao(n.key),n)}}function ko(e,t){return ko=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ko(e,t)}function No(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fo(e){return Fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Fo(e)}function Do(e,t,r){return(t=Ao(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ao(e){var t=function(e,t){if("object"!==Io(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Io(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Io(t)?t:String(t)}var Co={query:"",showSubmit:!0,showReset:!0,showLoadingIndicator:!0,autofocus:!1,searchAsYouType:!0,ignoreCompositionEvents:!1,isSearchStalled:!1,disabled:!1,ariaLabel:"Search",onChange:ne,onSubmit:ne,onReset:ne,refine:ne},Lo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ko(e,t)}(a,e);var t,r,n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Fo(n);if(i){var r=Fo(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Io(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return No(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Do(No(e=o.call.apply(o,[this].concat(r))),"state",{query:e.props.query,focused:!1}),Do(No(e),"input",{current:null}),Do(No(e),"onInput",(function(t){var r=e.props,n=r.searchAsYouType,i=r.refine,o=r.onChange,a=t.target.value;e.props.ignoreCompositionEvents&&t.isComposing||(n&&i(a),e.setState({query:a}),o(t))})),Do(No(e),"onSubmit",(function(t){var r=e.props,n=r.searchAsYouType,i=r.refine,o=r.onSubmit;return t.preventDefault(),t.stopPropagation(),e.input.current&&e.input.current.blur(),n||i(e.state.query),o(t),!1})),Do(No(e),"onReset",(function(t){var r=e.props,n=r.refine,i=r.onReset;e.input.current&&e.input.current.focus(),n(""),e.setState({query:""}),i(t)})),Do(No(e),"onBlur",(function(){e.setState({focused:!1})})),Do(No(e),"onFocus",(function(){e.setState({focused:!0})})),e}return t=a,(r=[{key:"resetInput",value:function(){this.setState({query:""})}},{key:"componentWillReceiveProps",value:function(e){this.state.focused||e.query===this.state.query||this.setState({query:e.query})}},{key:"render",value:function(){var e=this.props,t=e.cssClasses,r=e.placeholder,n=e.autofocus,i=e.showSubmit,o=e.showReset,a=e.showLoadingIndicator,s=e.templates,c=e.isSearchStalled,u=e.ariaLabel;return dr("div",{className:t.root},dr("form",{action:"",role:"search",className:t.form,noValidate:!0,onSubmit:this.onSubmit,onReset:this.onReset},dr("input",{ref:this.input,value:this.state.query,disabled:this.props.disabled,className:t.input,type:"search",placeholder:r,autoFocus:n,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",maxLength:512,onInput:this.onInput,oncompositionend:this.onInput,onBlur:this.onBlur,onFocus:this.onFocus,"aria-label":u}),dr(ti,{templateKey:"submit",rootTagName:"button",rootProps:{className:t.submit,type:"submit",title:"Submit the search query",hidden:!i},templates:s,data:{cssClasses:t}}),dr(ti,{templateKey:"reset",rootTagName:"button",rootProps:{className:t.reset,type:"reset",title:"Clear the search query",hidden:!(o&&this.state.query.trim()&&!c)},templates:s,data:{cssClasses:t}}),a&&dr(ti,{templateKey:"loadingIndicator",rootTagName:"span",rootProps:{className:t.loadingIndicator,hidden:!c},templates:s,data:{cssClasses:t}})))}}])&&To(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(gr);Do(Lo,"defaultProps",Co);const Mo=Lo;function Ho(e){return Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ho(e)}function Uo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function qo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Uo(Object(r),!0).forEach((function(t){Bo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ho(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ho(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ho(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Wo=Ue({name:"search-box",connector:!0}),$o=function(e,t){return t(e)};var Qo=dr("path",{d:"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"}),Vo=dr("path",{d:"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"}),Ko=dr("g",{fill:"none","fill-rule":"evenodd"},dr("g",{transform:"translate(1 1)","stroke-width":"2"},dr("circle",{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}),dr("path",{d:"M36 18c0-9.94-8.06-18-18-18"},dr("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})))),Jo={reset:function(e){return dr("svg",{className:e.cssClasses.resetIcon,viewBox:"0 0 20 20",width:"10",height:"10","aria-hidden":"true"},Qo)},submit:function(e){return dr("svg",{className:e.cssClasses.submitIcon,width:"10",height:"10",viewBox:"0 0 40 40","aria-hidden":"true"},Vo)},loadingIndicator:function(e){return dr("svg",{"aria-label":"Results are loading",className:e.cssClasses.loadingIcon,width:"16",height:"16",viewBox:"0 0 38 38",stroke:"#444","aria-hidden":"true"},Ko)}};const zo=Jo;function Xo(e){return Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xo(e)}function Go(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Zo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Go(Object(r),!0).forEach((function(t){Yo(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Go(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Yo(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Xo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Xo(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Xo(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ea=Ue({name:"search-box"}),ta=n("SearchBox");const ra=function(e){var t=e||{},r=t.container,n=t.placeholder,i=void 0===n?"":n,o=t.cssClasses,a=void 0===o?{}:o,s=t.autofocus,c=void 0!==s&&s,u=t.searchAsYouType,l=void 0===u||u,f=t.ignoreCompositionEvents,h=void 0!==f&&f,p=t.showReset,d=void 0===p||p,m=t.showSubmit,y=void 0===m||m,g=t.showLoadingIndicator,v=void 0===g||g,b=t.queryHook,O=t.templates,w=void 0===O?{}:O;if(!r)throw new Error(ea("The `container` option is required."));var S=Zi(r),j={root:er(ta(),a.root),form:er(ta({descendantName:"form"}),a.form),input:er(ta({descendantName:"input"}),a.input),submit:er(ta({descendantName:"submit"}),a.submit),submitIcon:er(ta({descendantName:"submitIcon"}),a.submitIcon),reset:er(ta({descendantName:"reset"}),a.reset),resetIcon:er(ta({descendantName:"resetIcon"}),a.resetIcon),loadingIndicator:er(ta({descendantName:"loadingIndicator"}),a.loadingIndicator),loadingIcon:er(ta({descendantName:"loadingIcon"}),a.loadingIcon)},P=Zo(Zo({},zo),w),R=function(e){var t=e.containerNode,r=e.cssClasses,n=e.placeholder,i=e.templates,o=e.autofocus,a=e.searchAsYouType,s=e.ignoreCompositionEvents,c=e.showReset,u=e.showSubmit,l=e.showLoadingIndicator;return function(e){var f=e.refine,h=e.query,p=e.isSearchStalled;Lr(dr(Mo,{query:h,placeholder:n,autofocus:o,refine:f,searchAsYouType:a,ignoreCompositionEvents:s,templates:i,showSubmit:u,showReset:c,showLoadingIndicator:l,isSearchStalled:p,cssClasses:r}),t)}}({containerNode:S,cssClasses:j,placeholder:i,templates:P,autofocus:c,searchAsYouType:l,ignoreCompositionEvents:h,showReset:d,showSubmit:y,showLoadingIndicator:v});return Zo(Zo({},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne;return ci(e,Wo()),function(r){var n,i,o=(r||{}).queryHook,a=void 0===o?$o:o;return{$$type:"ais.searchBox",init:function(t){var r=t.instantSearchInstance;e(qo(qo({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance;e(qo(qo({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},dispose:function(e){var r=e.state;return t(),r.setQueryParameter("query",void 0)},getRenderState:function(e,t){return qo(qo({},e),{},{searchBox:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.helper,o=e.instantSearchInstance,s=e.state;return n||(n=function(e){a(e,(function(e){return t.setQuery(e).search()}))},i=function(){t.setQuery("").search()}),{query:s.query||"",refine:n,clear:i,widgetParams:r,isSearchStalled:"stalled"===o.status}},getWidgetUiState:function(e,t){var r=t.searchParameters.query||"";return""===r||e&&e.query===r?e:qo(qo({},e),{},{query:r})},getWidgetSearchParameters:function(e,t){var r=t.uiState;return e.setQueryParameter("query",r.query||"")}}}}(R,(function(){return Lr(null,S)}))({queryHook:b})),{},{$$widgetType:"ais.searchBox"})};function na(e){return 1===e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}function ia(e){var t=e.templates,r=e.templateKey,n=e.ariaLabel,i=e.pageNumber,o=e.className,a=e.isDisabled,s=void 0!==a&&a,c=e.isSelected,u=void 0!==c&&c,l=e.cssClasses,f=e.createURL,h=e.createClickHandler;return dr("li",{className:er(l.item,s&&l.disabledItem,o,u&&l.selectedItem)},dr(ti,s?{rootTagName:"span",rootProps:{className:l.link,"aria-label":n},templateKey:r,templates:t,data:{page:i+1}}:{rootTagName:"a",rootProps:{className:l.link,"aria-label":n,href:f(i),onClick:h(i)},templateKey:r,templates:t,data:{page:i+1}}))}const oa=function(e){function t(t){return function(r){na(r)||(r.preventDefault(),e.setCurrentPage(t))}}return dr("div",{className:er(e.cssClasses.root,e.nbPages<=1&&e.cssClasses.noRefinementRoot)},dr("ul",{className:e.cssClasses.list},e.showFirst&&dr(ia,{ariaLabel:"First Page",className:e.cssClasses.firstPageItem,isDisabled:e.isFirstPage,templates:e.templates,templateKey:"first",pageNumber:0,createURL:e.createURL,cssClasses:e.cssClasses,createClickHandler:t}),e.showPrevious&&dr(ia,{ariaLabel:"Previous Page",className:e.cssClasses.previousPageItem,isDisabled:e.isFirstPage,templates:e.templates,templateKey:"previous",pageNumber:e.currentPage-1,createURL:e.createURL,cssClasses:e.cssClasses,createClickHandler:t}),e.pages.map((function(r){return dr(ia,{key:r,ariaLabel:"Page ".concat(r+1),className:e.cssClasses.pageItem,isSelected:r===e.currentPage,templates:e.templates,templateKey:"page",pageNumber:r,createURL:e.createURL,cssClasses:e.cssClasses,createClickHandler:t})})),e.showNext&&dr(ia,{ariaLabel:"Next Page",className:e.cssClasses.nextPageItem,isDisabled:e.isLastPage,templates:e.templates,templateKey:"next",pageNumber:e.currentPage+1,createURL:e.createURL,cssClasses:e.cssClasses,createClickHandler:t}),e.showLast&&dr(ia,{ariaLabel:"Last Page, Page ".concat(e.nbPages),className:e.cssClasses.lastPageItem,isDisabled:e.isLastPage,templates:e.templates,templateKey:"last",pageNumber:e.nbPages-1,createURL:e.createURL,cssClasses:e.cssClasses,createClickHandler:t})))};function aa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sa(e){var t,r=e.start,n=void 0===r?0:r,i=e.end,o=e.step,a=void 0===o?1:o,s=0===a?1:a,c=Math.round((i-n)/s);return(t=Array(c),function(e){if(Array.isArray(e))return aa(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return aa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?aa(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e,t){return n+t*s}))}function ca(e){return ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ca(e)}function ua(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fa(n.key),n)}}function la(e,t,r){return(t=fa(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fa(e){var t=function(e,t){if("object"!==ca(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ca(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ca(t)?t:String(t)}const ha=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),la(this,"currentPage",void 0),la(this,"total",void 0),la(this,"padding",void 0),this.currentPage=t.currentPage,this.total=t.total,this.padding=t.padding}var t,r;return t=e,(r=[{key:"pages",value:function(){var e=this.total,t=this.currentPage,r=this.padding;if(0===e)return[0];var n=this.nbPagesDisplayed(r,e);if(n===e)return sa({end:e});var i=this.calculatePaddingLeft(t,r,e,n);return sa({start:t-i,end:t+(n-i)})}},{key:"nbPagesDisplayed",value:function(e,t){return Math.min(2*e+1,t)}},{key:"calculatePaddingLeft",value:function(e,t,r,n){return e<=t?e:e>=r-t?n-(r-e):t}},{key:"isLastPage",value:function(){return this.currentPage===this.total-1||0===this.total}},{key:"isFirstPage",value:function(){return 0===this.currentPage}}])&&ua(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function pa(e){return pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pa(e)}function da(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?da(Object(r),!0).forEach((function(t){ya(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):da(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ya(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==pa(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==pa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===pa(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ga=Ue({name:"pagination",connector:!0});function va(e){return va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},va(e)}function ba(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ba(Object(r),!0).forEach((function(t){wa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ba(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function wa(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==va(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==va(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===va(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Sa=n("Pagination"),ja=Ue({name:"pagination"}),Pa={previous:function(){return"‹"},next:function(){return"›"},page:function(e){var t=e.page;return"".concat(t)},first:function(){return"«"},last:function(){return"»"}};const Ra=function(e){var t=e||{},r=t.container,n=t.templates,i=void 0===n?{}:n,o=t.cssClasses,a=void 0===o?{}:o,s=t.totalPages,c=t.padding,u=t.showFirst,l=void 0===u||u,f=t.showLast,h=void 0===f||f,p=t.showPrevious,d=void 0===p||p,m=t.showNext,y=void 0===m||m,g=t.scrollTo,v=void 0===g?"body":g;if(!r)throw new Error(ja("The `container` option is required."));var b=Zi(r),O=!0===v?"body":v,w=!1!==O&&Zi(O),S={root:er(Sa(),a.root),noRefinementRoot:er(Sa({modifierName:"noRefinement"}),a.noRefinementRoot),list:er(Sa({descendantName:"list"}),a.list),item:er(Sa({descendantName:"item"}),a.item),firstPageItem:er(Sa({descendantName:"item",modifierName:"firstPage"}),a.firstPageItem),lastPageItem:er(Sa({descendantName:"item",modifierName:"lastPage"}),a.lastPageItem),previousPageItem:er(Sa({descendantName:"item",modifierName:"previousPage"}),a.previousPageItem),nextPageItem:er(Sa({descendantName:"item",modifierName:"nextPage"}),a.nextPageItem),pageItem:er(Sa({descendantName:"item",modifierName:"page"}),a.pageItem),selectedItem:er(Sa({descendantName:"item",modifierName:"selected"}),a.selectedItem),disabledItem:er(Sa({descendantName:"item",modifierName:"disabled"}),a.disabledItem),link:er(Sa({descendantName:"link"}),a.link)},j=Oa(Oa({},Pa),i),P=function(e){var t=e.containerNode,r=e.cssClasses,n=e.templates,i=e.showFirst,o=e.showLast,a=e.showPrevious,s=e.showNext,c=e.scrollToNode;return function(e,u){var l=e.createURL,f=e.currentRefinement,h=e.nbPages,p=e.pages,d=e.isFirstPage,m=e.isLastPage,y=e.refine;u||Lr(dr(oa,{createURL:l,cssClasses:r,currentPage:f,templates:n,nbPages:h,pages:p,isFirstPage:d,isLastPage:m,setCurrentPage:function(e){y(e),!1!==c&&c.scrollIntoView()},showFirst:i,showLast:o,showPrevious:a,showNext:s}),t)}}({containerNode:b,cssClasses:S,templates:j,showFirst:l,showLast:h,showPrevious:d,showNext:y,scrollToNode:w});return Oa(Oa({},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne;return ci(e,ga()),function(r){var n=r||{},i=n.totalPages,o=n.padding,a=new ha({currentPage:0,total:0,padding:void 0===o?3:o}),s={};return{$$type:"ais.pagination",init:function(t){var r=t.instantSearchInstance;e(ma(ma({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance;e(ma(ma({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},dispose:function(e){var r=e.state;return t(),r.setQueryParameter("page",void 0)},getWidgetUiState:function(e,t){var r=t.searchParameters.page||0;return r?ma(ma({},e),{},{page:r+1}):e},getWidgetSearchParameters:function(e,t){var r=t.uiState,n=r.page?r.page-1:0;return e.setQueryParameter("page",n)},getWidgetRenderState:function(e){var t=e.results,n=e.helper,o=e.state,c=e.createURL;s.refine||(s.refine=function(e){n.setPage(e),n.search()}),s.createURL||(s.createURL=function(e){return c((function(t){return ma(ma({},t),{},{page:e+1})}))});var u=o.page||0,l=function(e){var t=e.nbPages;return void 0!==i?Math.min(i,t):t}(t||{nbPages:0});return a.currentPage=u,a.total=l,{createURL:s.createURL,refine:s.refine,canRefine:l>1,currentRefinement:u,nbHits:(null==t?void 0:t.nbHits)||0,nbPages:l,pages:t?a.pages():[],isFirstPage:a.isFirstPage(),isLastPage:a.isLastPage(),widgetParams:r}},getRenderState:function(e,t){return ma(ma({},e),{},{pagination:this.getWidgetRenderState(t)})}}}}(P,(function(){return Lr(null,b)}))({totalPages:s,padding:c})),{},{$$widgetType:"ais.pagination"})};function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_a.apply(this,arguments)}const xa=function(e){var t=e.className,r=e.handleClick,n=e.facetValueToRefine,i=e.isRefined,o=e.templateProps,a=e.templateKey,s=e.templateData,c=e.subItems;return dr("li",{className:t,onClick:function(e){r({facetValueToRefine:n,isRefined:i,originalEvent:e})}},dr(ti,_a({},o,{templateKey:a,data:s})),c)};var Ea=["root"];function Ia(e){return Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ia(e)}function Ta(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ka(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ta(Object(r),!0).forEach((function(t){La(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ta(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Na(){return Na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Na.apply(this,arguments)}function Fa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ma(n.key),n)}}function Da(e,t){return Da=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Da(e,t)}function Aa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ca(e){return Ca=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ca(e)}function La(e,t,r){return(t=Ma(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ma(e){var t=function(e,t){if("object"!==Ia(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ia(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ia(t)?t:String(t)}function Ha(e){return void 0!==e.data}var Ua=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Da(e,t)}(a,e);var t,r,n,i,o=(n=a,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ca(n);if(i){var r=Ca(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===Ia(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Aa(e)}(this,e)});function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return La(Aa(e=o.call.apply(o,[this].concat(r))),"searchBox",{current:null}),La(Aa(e),"_generateFacetItem",(function(t){var r;if(Ha(t)&&Array.isArray(t.data)&&t.data.length>0){var n=e.props.cssClasses,i=(n.root,function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(n,Ea));r=dr(a,Na({},e.props,{cssClasses:i,depth:e.props.depth+1,facetValues:t.data,showMore:!1,className:e.props.cssClasses.childList}))}var o=e.props.createURL(t.value),s=ka(ka({},t),{},{url:o,attribute:e.props.attribute,cssClasses:e.props.cssClasses,isFromSearch:e.props.isFromSearch}),c=t.value;void 0!==t.isRefined&&(c+="/".concat(t.isRefined)),void 0!==t.count&&(c+="/".concat(t.count));var u=er(e.props.cssClasses.item,t.isRefined&&e.props.cssClasses.selectedItem,!t.count&&e.props.cssClasses.disabledItem,Boolean(Ha(t)&&Array.isArray(t.data)&&t.data.length>0)&&e.props.cssClasses.parentItem);return dr(xa,{templateKey:"item",key:c,facetValueToRefine:t.value,handleClick:e.handleItemClick,isRefined:t.isRefined,className:u,subItems:r,templateData:s,templateProps:e.props.templateProps})})),La(Aa(e),"handleItemClick",(function(t){var r=t.facetValueToRefine,n=t.isRefined,i=t.originalEvent;if(!na(i)){var o=i.target;if(!(null===o||null===o.parentNode||n&&o.parentNode.querySelector('input[type="radio"]:checked')))if("INPUT"!==o.tagName){for(;o!==i.currentTarget;){if("LABEL"===o.tagName&&(o.querySelector('input[type="checkbox"]')||o.querySelector('input[type="radio"]')))return;"A"===o.tagName&&o.href&&i.preventDefault(),o=o.parentNode}i.stopPropagation(),e.refine(r)}else e.refine(r)}})),e}return t=a,(r=[{key:"shouldComponentUpdate",value:function(e){return!X(this.props.facetValues,e.facetValues)}},{key:"refine",value:function(e){this.props.toggleRefinement(e)}},{key:"componentWillReceiveProps",value:function(e){this.searchBox.current&&!e.isFromSearch&&this.searchBox.current.resetInput()}},{key:"refineFirstValue",value:function(){var e=this.props.facetValues&&this.props.facetValues[0];if(e){var t=e.value;this.props.toggleRefinement(t)}}},{key:"render",value:function(){var e=this,t=er(this.props.cssClasses.showMore,!(!0===this.props.showMore&&this.props.canToggleShowMore)&&this.props.cssClasses.disabledShowMore),r=!0===this.props.showMore&&dr(ti,Na({},this.props.templateProps,{templateKey:"showMoreText",rootTagName:"button",rootProps:{className:t,disabled:!this.props.canToggleShowMore,onClick:this.props.toggleShowMore},data:{isShowingMore:this.props.isShowingMore}})),n=!0!==this.props.searchIsAlwaysActive&&!(this.props.isFromSearch||!this.props.hasExhaustiveItems),i=this.props.searchFacetValues&&dr("div",{className:this.props.cssClasses.searchBox},dr(Mo,{ref:this.searchBox,placeholder:this.props.searchPlaceholder,disabled:n,cssClasses:this.props.cssClasses.searchable,templates:this.props.searchBoxTemplateProps.templates,onChange:function(t){return e.props.searchFacetValues(t.target.value)},onReset:function(){return e.props.searchFacetValues("")},onSubmit:function(){return e.refineFirstValue()},searchAsYouType:!1,ariaLabel:"Search for filters"})),o=this.props.facetValues&&this.props.facetValues.length>0&&dr("ul",{className:this.props.cssClasses.list},this.props.facetValues.map(this._generateFacetItem,this)),a=this.props.searchFacetValues&&this.props.isFromSearch&&(!this.props.facetValues||0===this.props.facetValues.length)&&dr(ti,Na({},this.props.templateProps,{templateKey:"searchableNoResults",rootProps:{className:this.props.cssClasses.noResults}}));return dr("div",{className:er(this.props.cssClasses.root,(!this.props.facetValues||0===this.props.facetValues.length)&&this.props.cssClasses.noRefinementRoot,this.props.className)},this.props.children,i,o,a,r)}}])&&Fa(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(gr);La(Ua,"defaultProps",{cssClasses:{},depth:0});const qa=Ua;function Ba(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Wa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ba(Object(r),!0).forEach((function(t){$a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ba(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function $a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Qa(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Qa(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Qa(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qa(e){return Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qa(e)}function Va(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ka(e){var t=e.instantSearchInstance,r=e.helper,n=e.attribute,i=e.widgetType;return function(){for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];var s=o[1],c=o[2],u=void 0===c?"Filter Applied":c,l=o[3],f=void 0===l?{}:l,h=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Va(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Va(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o[0].split(":"),2),p=h[0],d=h[1],m="string"==typeof n?n:n(s);1===o.length&&"object"===Qa(o[0])?t.sendEventToInsights(o[0]):"click"===p&&o.length>=2&&o.length<=4&&(function(e,t,r){return e.state.isHierarchicalFacet(t)?e.state.isHierarchicalFacetRefined(t,r):e.state.isConjunctiveFacet(t)?e.state.isFacetRefined(t,r):e.state.isDisjunctiveFacetRefined(t,r)}(r,m,s)||t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:i,eventType:p,eventModifier:d,payload:Wa({eventName:u,index:r.getIndex(),filters:["".concat(m,":").concat(s)]},f),attribute:m}))}}function Ja(e){return Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ja(e)}var za=["name","escapedValue"],Xa=["escapedValue","value"];function Ga(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Za(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ga(Object(r),!0).forEach((function(t){Ya(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ga(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ya(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Ja(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Ja(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Ja(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function es(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ts=Ue({name:"refinement-list",connector:!0}),rs=["isRefined","count:desc","name:asc"];const ns=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne;return ci(e,ts()),function(r){var n=r||{},i=n.attribute,o=n.operator,a=void 0===o?"or":o,s=n.limit,c=void 0===s?10:s,u=n.showMore,l=void 0!==u&&u,f=n.showMoreLimit,h=void 0===f?20:f,p=n.sortBy,d=void 0===p?rs:p,m=n.escapeFacetValues,y=void 0===m||m,v=n.transformItems,S=void 0===v?function(e){return e}:v;if(!i)throw new Error(ts("The `attribute` option is required."));if(!/^(and|or)$/.test(a))throw new Error(ts('The `operator` must one of: `"and"`, `"or"` (got "'.concat(a,'").')));if(!0===l&&h<=c)throw new Error(ts("`showMoreLimit` should be greater than `limit`."));var j,P,R,_=function(e){var t=e.name,r=e.escapedValue;return Za(Za({},es(e,za)),{},{value:r,label:t,highlighted:t})},x=[],E=!0,I=!1,T=function(){};function k(){T()}function N(){return I?h:c}var F=function(){return function(){}};return{$$type:"ais.refinementList",init:function(t){e(Za(Za({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){e(Za(Za({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1)},getRenderState:function(e,t){return Za(Za({},e),{},{refinementList:Za(Za({},e.refinementList),{},Ya({},i,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(t){var n=this,o=t.results,a=t.state,s=t.createURL,u=t.instantSearchInstance,f=t.helper,h=[],p=[];if(R&&P&&F||(R=Ka({instantSearchInstance:u,helper:f,attribute:i,widgetType:this.$$type}),P=function(e){R("click:internal",e),f.toggleFacetRefinement(i,e).search()},F=function(t,r){return function(n){return function(o){var a=n.instantSearchInstance,s=n.results;if(""===o&&x)e(Za(Za({},r.getWidgetRenderState(Za(Za({},n),{},{results:j}))),{},{instantSearchInstance:a}),!1);else{var c={highlightPreTag:y?b.highlightPreTag:O.highlightPreTag,highlightPostTag:y?b.highlightPostTag:O.highlightPostTag};t.searchForFacetValues(i,o,Math.min(N(),100),c).then((function(t){var i=y?t.facetHits.map((function(e){return g(g({},e),{},{highlighted:w(e.highlighted)})})):t.facetHits,o=S(i.map((function(e){var t=e.escapedValue,r=e.value;return Za(Za({},es(e,Xa)),{},{value:t,label:r})})),{results:s});e(Za(Za({},r.getWidgetRenderState(Za(Za({},n),{},{results:j}))),{},{items:o,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:a}),!1)}))}}}}(f,this)),o){var m=o.getFacetValues(i,{sortBy:d,facetOrdering:d===rs});p=m&&Array.isArray(m)?m:[],h=S(p.slice(0,N()).map(_),{results:o});var v=a.maxValuesPerFacet,D=N();E=v>D?p.length<=D:p.length<D,j=o,x=h,t.results&&(T=function(e,t){return function(){I=!I,t.render(e)}}(t,this))}var A=F&&F(t),C=I&&x.length>c||l&&!E;return{createURL:function(e){return s((function(t){return n.getWidgetUiState(t,{searchParameters:a.resetPage().toggleFacetRefinement(i,e),helper:f})}))},items:h,refine:P,searchForItems:A,isFromSearch:!1,canRefine:h.length>0,widgetParams:r,isShowingMore:I,canToggleShowMore:C,toggleShowMore:k,sendEvent:R,hasExhaustiveItems:E}},dispose:function(e){var r=e.state;t();var n=r.setQueryParameter("maxValuesPerFacet",void 0);return"and"===a?n.removeFacet(i):n.removeDisjunctiveFacet(i)},getWidgetUiState:function(e,t){var r=t.searchParameters,n="or"===a?r.getDisjunctiveRefinements(i):r.getConjunctiveRefinements(i);return function(e,t){return e.refinementList?(e.refinementList[t]&&0!==e.refinementList[t].length||delete e.refinementList[t],0===Object.keys(e.refinementList).length&&delete e.refinementList,e):e}(Za(Za({},e),{},{refinementList:Za(Za({},e.refinementList),{},Ya({},i,n))}),i)},getWidgetSearchParameters:function(e,t){var r=t.uiState,n="or"===a;if(e.isHierarchicalFacet(i))return e;if(n&&e.isConjunctiveFacet(i)||!n&&e.isDisjunctiveFacet(i))return e;var o=r.refinementList&&r.refinementList[i],s=n?e.addDisjunctiveFacet(i).removeDisjunctiveFacetRefinement(i):e.addFacet(i).removeFacetRefinement(i),u=s.maxValuesPerFacet||0,f=Math.max(u,l?h:c),p=s.setQueryParameter("maxValuesPerFacet",f);if(!o){var d=n?"disjunctiveFacetsRefinements":"facetsRefinements";return p.setQueryParameters(Ya({},d,Za(Za({},p[d]),{},Ya({},i,[]))))}return o.reduce((function(e,t){return n?e.addDisjunctiveFacetRefinement(i,t):e.addFacetRefinement(i,t)}),p)}}}};var is={item:function(e){var t=e.cssClasses,r=e.count,n=e.value,i=e.highlighted,o=e.isRefined,a=e.isFromSearch;return dr("label",{className:er(t.label)},dr("input",{type:"checkbox",className:er(t.checkbox),value:n,defaultChecked:o}),dr("span",{className:er(t.labelText),dangerouslySetInnerHTML:a?{__html:i}:void 0},!a&&i),dr("span",{className:er(t.count)},lt(r)))},showMoreText:function(e){return e.isShowingMore?"Show less":"Show more"},searchableNoResults:function(){return"No results"}};const os=is;function as(e){return as="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},as(e)}function ss(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ss(Object(r),!0).forEach((function(t){us(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ss(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function us(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==as(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==as(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===as(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ls=Ue({name:"refinement-list"}),fs=n("RefinementList"),hs=n("SearchBox");const ps=function(e){var t=e||{},r=t.container,n=t.attribute,i=t.operator,o=t.sortBy,a=t.limit,s=t.showMore,c=t.showMoreLimit,u=t.searchable,l=void 0!==u&&u,f=t.searchablePlaceholder,h=void 0===f?"Search...":f,p=t.searchableEscapeFacetValues,d=void 0===p||p,m=t.searchableIsAlwaysActive,y=void 0===m||m,g=t.cssClasses,v=void 0===g?{}:g,b=t.templates,O=void 0===b?{}:b,w=t.transformItems;if(!r)throw new Error(ls("The `container` option is required."));var S=!!l&&Boolean(d),j=Zi(r),P={root:er(fs(),v.root),noRefinementRoot:er(fs({modifierName:"noRefinement"}),v.noRefinementRoot),list:er(fs({descendantName:"list"}),v.list),item:er(fs({descendantName:"item"}),v.item),selectedItem:er(fs({descendantName:"item",modifierName:"selected"}),v.selectedItem),searchBox:er(fs({descendantName:"searchBox"}),v.searchBox),label:er(fs({descendantName:"label"}),v.label),checkbox:er(fs({descendantName:"checkbox"}),v.checkbox),labelText:er(fs({descendantName:"labelText"}),v.labelText),count:er(fs({descendantName:"count"}),v.count),noResults:er(fs({descendantName:"noResults"}),v.noResults),showMore:er(fs({descendantName:"showMore"}),v.showMore),disabledShowMore:er(fs({descendantName:"showMore",modifierName:"disabled"}),v.disabledShowMore),searchable:{root:er(hs(),v.searchableRoot),form:er(hs({descendantName:"form"}),v.searchableForm),input:er(hs({descendantName:"input"}),v.searchableInput),submit:er(hs({descendantName:"submit"}),v.searchableSubmit),submitIcon:er(hs({descendantName:"submitIcon"}),v.searchableSubmitIcon),reset:er(hs({descendantName:"reset"}),v.searchableReset),resetIcon:er(hs({descendantName:"resetIcon"}),v.searchableResetIcon),loadingIndicator:er(hs({descendantName:"loadingIndicator"}),v.searchableLoadingIndicator),loadingIcon:er(hs({descendantName:"loadingIcon"}),v.searchableLoadingIcon)}},R=function(e){var t=e.containerNode,r=e.cssClasses,n=e.templates,i=e.searchBoxTemplates,o=e.renderState,a=e.showMore,s=e.searchable,c=e.searchablePlaceholder,u=e.searchableIsAlwaysActive;return function(e,l){var f=e.refine,h=e.items,p=e.createURL,d=e.searchForItems,m=e.isFromSearch,y=e.instantSearchInstance,g=e.toggleShowMore,v=e.isShowingMore,b=e.hasExhaustiveItems,O=e.canToggleShowMore;if(l)return o.templateProps=Gi({defaultTemplates:os,templatesConfig:y.templatesConfig,templates:n}),void(o.searchBoxTemplateProps=Gi({defaultTemplates:zo,templatesConfig:y.templatesConfig,templates:i}));Lr(dr(qa,{createURL:p,cssClasses:r,facetValues:h,templateProps:o.templateProps,searchBoxTemplateProps:o.searchBoxTemplateProps,toggleRefinement:f,searchFacetValues:s?d:void 0,searchPlaceholder:c,searchIsAlwaysActive:u,isFromSearch:m,showMore:a&&!m&&h.length>0,toggleShowMore:g,isShowingMore:v,hasExhaustiveItems:b,canToggleShowMore:O}),t)}}({containerNode:j,cssClasses:P,templates:O,searchBoxTemplates:{submit:O.searchableSubmit,reset:O.searchableReset,loadingIndicator:O.searchableLoadingIndicator},renderState:{},searchable:l,searchablePlaceholder:h,searchableIsAlwaysActive:y,showMore:s});return cs(cs({},ns(R,(function(){return Lr(null,j)}))({attribute:n,operator:i,limit:a,showMore:s,showMoreLimit:c,sortBy:o,escapeFacetValues:S,transformItems:w})),{},{$$widgetType:"ais.refinementList"})};var ds=["name","escapedValue","path"];function ms(e){return ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ms(e)}function ys(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return gs(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?gs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gs(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vs(Object(r),!0).forEach((function(t){Os(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Os(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ms(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==ms(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ms(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ws=Ue({name:"menu",connector:!0}),Ss=["isRefined","name:asc"];const js=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne;return ci(e,ws()),function(r){var n,i,o,a=r||{},s=a.attribute,c=a.limit,u=void 0===c?10:c,l=a.showMore,f=void 0!==l&&l,h=a.showMoreLimit,p=void 0===h?20:h,d=a.sortBy,m=void 0===d?Ss:d,y=a.transformItems,g=void 0===y?function(e){return e}:y;if(!s)throw new Error(ws("The `attribute` option is required."));if(!0===f&&p<=u)throw new Error(ws("The `showMoreLimit` option must be greater than `limit`."));var v=!1,b=function(){};function O(){b()}function w(){return v?p:u}return{$$type:"ais.menu",init:function(t){var r=t.instantSearchInstance;e(bs(bs({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance;e(bs(bs({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},dispose:function(e){var r=e.state;return t(),r.removeHierarchicalFacet(s).setQueryParameter("maxValuesPerFacet",void 0)},getRenderState:function(e,t){return bs(bs({},e),{},{menu:bs(bs({},e.menu),{},Os({},s,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=this,a=e.results,c=e.createURL,u=e.instantSearchInstance,l=e.helper,h=[],p=!1;if(n||(n=Ka({instantSearchInstance:u,helper:l,attribute:s,widgetType:this.$$type})),i||(i=function(e){return c((function(r){return t.getWidgetUiState(r,{searchParameters:l.state.resetPage().toggleFacetRefinement(s,e),helper:l})}))}),o||(o=function(e){var t=ys(l.getHierarchicalFacetBreadcrumb(s),1)[0];n("click:internal",e||t),l.toggleFacetRefinement(s,e||t).search()}),e.results&&(b=function(e,t){return function(){v=!v,t.render(e)}}(e,this)),a){var d=a.getFacetValues(s,{sortBy:m,facetOrdering:m===Ss}),y=d&&!Array.isArray(d)&&d.data?d.data:[];p=f&&(v||y.length>w()),h=g(y.slice(0,w()).map((function(e){var t=e.name,r=e.escapedValue;return e.path,bs(bs({},function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,ds)),{},{label:t,value:r})})),{results:a})}return{items:h,createURL:i,refine:o,sendEvent:n,canRefine:h.length>0,widgetParams:r,isShowingMore:v,toggleShowMore:O,canToggleShowMore:p}},getWidgetUiState:function(e,t){var r=ys(t.searchParameters.getHierarchicalFacetBreadcrumb(s),1)[0];return function(e,t){return e.menu?(void 0===e.menu[t]&&delete e.menu[t],0===Object.keys(e.menu).length&&delete e.menu,e):e}(bs(bs({},e),{},{menu:bs(bs({},e.menu),{},Os({},s,r))}),s)},getWidgetSearchParameters:function(e,t){var r=t.uiState,n=r.menu&&r.menu[s];if(e.isConjunctiveFacet(s)||e.isDisjunctiveFacet(s))return e;var i=e.removeHierarchicalFacet(s).addHierarchicalFacet({name:s,attributes:[s]}),o=i.maxValuesPerFacet||0,a=Math.max(o,f?p:u),c=i.setQueryParameter("maxValuesPerFacet",a);return n?c.addHierarchicalFacetRefinement(s,n):c.setQueryParameters({hierarchicalFacetsRefinements:bs(bs({},c.hierarchicalFacetsRefinements),{},Os({},s,[]))})}}}};var Ps={item:function(e){var t=e.cssClasses,r=e.url,n=e.label,i=e.count;return dr("a",{className:er(t.link),href:r},dr("span",{className:er(t.label)},n),dr("span",{className:er(t.count)},lt(i)))},showMoreText:function(e){return e.isShowingMore?"Show less":"Show more"}};const Rs=Ps;function _s(e){return _s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_s(e)}function xs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Es(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xs(Object(r),!0).forEach((function(t){Is(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Is(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==_s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==_s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===_s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ts=Ue({name:"menu"}),ks=n("Menu");const Ns=function(e){var t=e||{},r=t.container,n=t.attribute,i=t.sortBy,o=t.limit,a=t.showMore,s=t.showMoreLimit,c=t.cssClasses,u=void 0===c?{}:c,l=t.templates,f=void 0===l?{}:l,h=t.transformItems;if(!r)throw new Error(Ts("The `container` option is required."));var p=Zi(r),d={root:er(ks(),u.root),noRefinementRoot:er(ks({modifierName:"noRefinement"}),u.noRefinementRoot),list:er(ks({descendantName:"list"}),u.list),item:er(ks({descendantName:"item"}),u.item),selectedItem:er(ks({descendantName:"item",modifierName:"selected"}),u.selectedItem),link:er(ks({descendantName:"link"}),u.link),label:er(ks({descendantName:"label"}),u.label),count:er(ks({descendantName:"count"}),u.count),showMore:er(ks({descendantName:"showMore"}),u.showMore),disabledShowMore:er(ks({descendantName:"showMore",modifierName:"disabled"}),u.disabledShowMore)},m=function(e){var t=e.containerNode,r=e.cssClasses,n=e.renderState,i=e.templates,o=e.showMore;return function(e,a){var s=e.refine,c=e.items,u=e.createURL,l=e.instantSearchInstance,f=e.isShowingMore,h=e.toggleShowMore,p=e.canToggleShowMore;if(a)n.templateProps=Gi({defaultTemplates:Rs,templatesConfig:l.templatesConfig,templates:i});else{var d=c.map((function(e){return Es(Es({},e),{},{url:u(e.value)})}));Lr(dr(qa,{createURL:u,cssClasses:r,facetValues:d,showMore:o,templateProps:n.templateProps,toggleRefinement:s,toggleShowMore:h,isShowingMore:f,canToggleShowMore:p}),t)}}}({containerNode:p,cssClasses:d,renderState:{},templates:f,showMore:a});return Es(Es({},js(m,(function(){return Lr(null,p)}))({attribute:n,limit:o,showMore:a,showMoreLimit:s,sortBy:i,transformItems:h})),{},{$$widgetType:"ais.menu"})};function Fs(e){return Fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(e)}var Ds=["name","escapedValue","data","path"];function As(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Cs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?As(Object(r),!0).forEach((function(t){Ls(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):As(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ls(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Fs(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Fs(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Fs(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ms(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Hs=Ue({name:"hierarchical-menu",connector:!0}),Us=["name:asc"];const qs=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne;return ci(e,Hs()),function(r){var n=r||{},i=n.attributes,o=n.separator,a=void 0===o?" > ":o,s=n.rootPath,c=void 0===s?null:s,u=n.showParentLevel,l=void 0===u||u,f=n.limit,h=void 0===f?10:f,p=n.showMore,d=void 0!==p&&p,m=n.showMoreLimit,y=void 0===m?20:m,g=n.sortBy,v=void 0===g?Us:g,b=n.transformItems,O=void 0===b?function(e){return e}:b;if(!i||!Array.isArray(i)||0===i.length)throw new Error(Hs("The `attributes` option expects an array of strings."));if(!0===d&&y<=h)throw new Error(Hs("The `showMoreLimit` option must be greater than `limit`."));var w,S,j=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ms(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ms(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(i,1)[0],P=function(){};function R(){P()}var _=!1;function x(){return _?y:h}function E(e){return e.slice(0,x()).map((function(e){var t=e.name,r=e.escapedValue,n=e.data,i=(e.path,Cs(Cs({},function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,Ds)),{},{value:r,label:t,data:null}));return Array.isArray(n)&&(i.data=E(n)),i}))}return{$$type:"ais.hierarchicalMenu",init:function(t){var r=t.instantSearchInstance;e(Cs(Cs({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance;P=function(e,t){return function(){_=!_,t.render(e)}}(t,this),e(Cs(Cs({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},dispose:function(e){var r=e.state;return t(),r.removeHierarchicalFacet(j).setQueryParameter("maxValuesPerFacet",void 0)},getRenderState:function(e,t){return Cs(Cs({},e),{},{hierarchicalMenu:Cs(Cs({},e.hierarchicalMenu),{},Ls({},j,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=this,n=e.results,o=e.state,s=e.createURL,c=e.instantSearchInstance,u=e.helper,l=[],f=!1;if(w||(w=Ka({instantSearchInstance:c,helper:u,attribute:function(e){var t=e.split(a).length-1;return i[t]},widgetType:this.$$type})),S||(S=function(e){w("click:internal",e),u.toggleFacetRefinement(j,e).search()}),n){var h=n.getFacetValues(j,{sortBy:v,facetOrdering:v===Us}),p=h&&!Array.isArray(h)&&h.data?h.data:[],m=(o.maxValuesPerFacet||0)>x()?p.length<=x():p.length<x();f=d&&(_||!m),l=O(E(p),{results:n})}return{items:l,refine:S,canRefine:l.length>0,createURL:function(e){return s((function(r){return t.getWidgetUiState(r,{searchParameters:o.resetPage().toggleFacetRefinement(j,e),helper:u})}))},sendEvent:w,widgetParams:r,isShowingMore:_,toggleShowMore:R,canToggleShowMore:f}},getWidgetUiState:function(e,t){var r,n,i=t.searchParameters.getHierarchicalFacetBreadcrumb(j);return r=Cs(Cs({},e),{},{hierarchicalMenu:Cs(Cs({},e.hierarchicalMenu),{},Ls({},j,i))}),n=j,r.hierarchicalMenu?(r.hierarchicalMenu[n]&&0!==r.hierarchicalMenu[n].length||delete r.hierarchicalMenu[n],0===Object.keys(r.hierarchicalMenu).length&&delete r.hierarchicalMenu,r):r},getWidgetSearchParameters:function(e,t){var r=t.uiState,n=r.hierarchicalMenu&&r.hierarchicalMenu[j];if(e.isConjunctiveFacet(j)||e.isDisjunctiveFacet(j))return e;e.isHierarchicalFacet(j)&&e.getHierarchicalFacetByName(j);var o=e.removeHierarchicalFacet(j).addHierarchicalFacet({name:j,attributes:i,separator:a,rootPath:c,showParentLevel:l}),s=o.maxValuesPerFacet||0,u=Math.max(s,d?y:h),f=o.setQueryParameter("maxValuesPerFacet",u);return n?f.addHierarchicalFacetRefinement(j,n.join(a)):f.setQueryParameters({hierarchicalFacetsRefinements:Cs(Cs({},f.hierarchicalFacetsRefinements),{},Ls({},j,[]))})}}}};var Bs={item:function(e){var t=e.url,r=e.label,n=e.count,i=e.cssClasses,o=e.isRefined;return dr("a",{className:er(er(i.link),er(o?i.selectedItemLink:void 0)),href:t},dr("span",{className:er(i.label)},r),dr("span",{className:er(i.count)},lt(n)))},showMoreText:function(e){return e.isShowingMore?"Show less":"Show more"}};const Ws=Bs;function $s(e){return $s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$s(e)}function Qs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qs(Object(r),!0).forEach((function(t){Ks(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ks(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==$s(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==$s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===$s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Js=Ue({name:"hierarchical-menu"}),zs=n("HierarchicalMenu");const Xs=function(e){var t=e||{},r=t.container,n=t.attributes,i=t.separator,o=t.rootPath,a=t.showParentLevel,s=t.limit,c=t.showMore,u=void 0!==c&&c,l=t.showMoreLimit,f=t.sortBy,h=t.transformItems,p=t.templates,d=void 0===p?{}:p,m=t.cssClasses,y=void 0===m?{}:m;if(!r)throw new Error(Js("The `container` option is required."));var g=Zi(r),v=function(e){var t=e.cssClasses,r=e.containerNode,n=e.showMore,i=e.templates,o=e.renderState;return function(e,a){var s=e.createURL,c=e.items,u=e.refine,l=e.instantSearchInstance,f=e.isShowingMore,h=e.toggleShowMore,p=e.canToggleShowMore;a?o.templateProps=Gi({defaultTemplates:Ws,templatesConfig:l.templatesConfig,templates:i}):Lr(dr(qa,{createURL:s,cssClasses:t,facetValues:c,templateProps:o.templateProps,toggleRefinement:u,showMore:n,toggleShowMore:h,isShowingMore:f,canToggleShowMore:p}),r)}}({cssClasses:{root:er(zs(),y.root),noRefinementRoot:er(zs({modifierName:"noRefinement"}),y.noRefinementRoot),list:er(zs({descendantName:"list"}),y.list),childList:er(zs({descendantName:"list",modifierName:"child"}),y.childList),item:er(zs({descendantName:"item"}),y.item),selectedItem:er(zs({descendantName:"item",modifierName:"selected"}),y.selectedItem),parentItem:er(zs({descendantName:"item",modifierName:"parent"}),y.parentItem),link:er(zs({descendantName:"link"}),y.link),selectedItemLink:er(zs({descendantName:"link",modifierName:"selected"}),y.selectedItemLink),label:er(zs({descendantName:"label"}),y.label),count:er(zs({descendantName:"count"}),y.count),showMore:er(zs({descendantName:"showMore"}),y.showMore),disabledShowMore:er(zs({descendantName:"showMore",modifierName:"disabled"}),y.disabledShowMore)},containerNode:g,templates:d,showMore:u,renderState:{}});return Vs(Vs({},qs(v,(function(){return Lr(null,g)}))({attributes:n,separator:i,rootPath:o,showParentLevel:a,limit:s,showMore:u,showMoreLimit:l,sortBy:f,transformItems:h})),{},{$$widgetType:"ais.hierarchicalMenu"})};var Gs=function(e){var t=e.attribute,r=e.value;return[t,e.type,r,e.operator].map((function(e){return e})).filter(Boolean).join(":")};const Zs=function(e){var t=e.items,r=e.cssClasses,n=e.canRefine;return dr("div",{className:er(r.root,!n&&r.noRefinementRoot)},dr("ul",{className:r.list},t.map((function(e,t){return dr("li",{key:"".concat(e.indexName,"-").concat(e.attribute,"-").concat(t),className:r.item},dr("span",{className:r.label},(n=e.label).toString().charAt(0).toUpperCase()+n.toString().slice(1),": "),e.refinements.map((function(t){return dr("span",{key:Gs(t),className:r.category},dr("span",{className:r.categoryLabel},"query"===t.attribute?dr("q",null,t.label):t.label),dr("button",{className:r.delete,type:"button",onClick:(n=e.refine.bind(null,t),function(e){na(e)||(e.preventDefault(),n())})},"✕"));var n})));var n}))))};function Ys(e,t,r,n){var i,o,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s={type:t,attribute:r,name:n,escapedValue:(i=n,"number"==typeof i&&i<0||"string"==typeof i?String(i).replace(/^-/,"\\-"):i)},c=ie(a,(function(e){return e.name===r}));if("hierarchical"===t){for(var u=e.getHierarchicalFacetByName(r),l=n.split(u.separator),f=function(e){var t;c=c&&c.data&&ie(Object.keys(c.data).map((t=c.data,function(e){return t[e]})),(function(t){return t.name===l[e]}))},h=0;void 0!==c&&h<l.length;++h)f(h);o=c&&c.count}else o=c&&c.data&&c.data[s.name];return void 0!==o&&(s.count=o),c&&void 0!==c.exhaustive&&(s.exhaustive=c.exhaustive),s}function ec(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[],i=t.facetsRefinements,o=void 0===i?{}:i,a=t.facetsExcludes,s=void 0===a?{}:a,c=t.disjunctiveFacetsRefinements,u=void 0===c?{}:c,l=t.hierarchicalFacetsRefinements,f=void 0===l?{}:l,h=t.numericRefinements,p=void 0===h?{}:h,d=t.tagRefinements,m=void 0===d?[]:d;return Object.keys(o).forEach((function(r){o[r].forEach((function(i){n.push(Ys(t,"facet",r,i,e.facets))}))})),Object.keys(s).forEach((function(e){s[e].forEach((function(t){n.push({type:"exclude",attribute:e,name:t,exclude:!0})}))})),Object.keys(u).forEach((function(r){u[r].forEach((function(i){var o;n.push(Ys(t,"disjunctive",r,"string"==typeof(o=i)?o.replace(/^\\-/,"-"):o,e.disjunctiveFacets))}))})),Object.keys(f).forEach((function(r){f[r].forEach((function(i){n.push(Ys(t,"hierarchical",r,i,e.hierarchicalFacets))}))})),Object.keys(p).forEach((function(e){var t=p[e];Object.keys(t).forEach((function(r){var i=r,o=t[i];(Array.isArray(o)?o:[o]).forEach((function(t){n.push({type:"numeric",attribute:e,name:"".concat(t),numericValue:t,operator:i})}))}))})),m.forEach((function(e){n.push({type:"tag",attribute:"_tags",name:e})})),r&&t.query&&t.query.trim()&&n.push({attribute:"query",type:"query",name:t.query,query:t.query}),n}function tc(e){return tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tc(e)}function rc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ic(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nc(Object(r),!0).forEach((function(t){oc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function oc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==tc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==tc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===tc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ac=Ue({name:"current-refinements",connector:!0});function sc(e){var t=e.results,r=e.helper,n=e.indexId,i=e.includedAttributes,o=e.excludedAttributes,a=-1!==(i||[]).indexOf("query")||-1===(o||[]).indexOf("query"),s=i?function(e){return-1!==i.indexOf(e.attribute)}:function(e){return-1===o.indexOf(e.attribute)},c=ec(t,r.state,a).map(lc).filter(s);return c.reduce((function(e,t){return[].concat(function(e){if(Array.isArray(e))return rc(e)}(i=e.filter((function(e){return e.attribute!==t.attribute})))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,t){if(e){if("string"==typeof e)return rc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?rc(e,t):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{indexName:r.state.index,indexId:n,attribute:t.attribute,label:t.attribute,refinements:c.filter((function(e){return e.attribute===t.attribute})).sort((function(e,t){return"numeric"===e.type?e.value-t.value:0})),refine:function(e){return uc(r,e)}}]);var i}),[])}function cc(e,t){switch(e=e.resetPage(),t.type){case"facet":return e.removeFacetRefinement(t.attribute,String(t.value));case"disjunctive":return e.removeDisjunctiveFacetRefinement(t.attribute,String(t.value));case"hierarchical":return e.removeHierarchicalFacetRefinement(t.attribute);case"exclude":return e.removeExcludeRefinement(t.attribute,String(t.value));case"numeric":return e.removeNumericRefinement(t.attribute,t.operator,String(t.value));case"tag":return e.removeTagRefinement(String(t.value));case"query":return e.setQueryParameter("query","");default:return e}}function uc(e,t){e.setState(cc(e.state,t)).search()}function lc(e){var t=function(e){return"numeric"===e.type?Number(e.name):"escapedValue"in e?e.escapedValue:e.name}(e),r=e.operator?"".concat(function(e){switch(e){case">=":return"≥";case"<=":return"≤";default:return e}}(e.operator)," ").concat(e.name):e.name,n={attribute:e.attribute,type:e.type,value:t,label:r};return void 0!==e.operator&&(n.operator=e.operator),void 0!==e.count&&(n.count=e.count),void 0!==e.exhaustive&&(n.exhaustive=e.exhaustive),n}function fc(e){return fc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fc(e)}function hc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hc(Object(r),!0).forEach((function(t){dc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function dc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==fc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==fc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===fc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mc=Ue({name:"current-refinements"}),yc=n("CurrentRefinements"),gc=function(e,t){var r=e.items,n=e.widgetParams,i=e.canRefine;if(!t){var o=n,a=o.container,s=o.cssClasses;Lr(dr(Zs,{cssClasses:s,items:r,canRefine:i}),a)}};const vc=function(e){var t=e||{},r=t.container,n=t.includedAttributes,i=t.excludedAttributes,o=t.cssClasses,a=void 0===o?{}:o,s=t.transformItems;if(!r)throw new Error(mc("The `container` option is required."));var c=Zi(r),u={root:er(yc(),a.root),noRefinementRoot:er(yc({modifierName:"noRefinement"}),a.noRefinementRoot),list:er(yc({descendantName:"list"}),a.list),item:er(yc({descendantName:"item"}),a.item),label:er(yc({descendantName:"label"}),a.label),category:er(yc({descendantName:"category"}),a.category),categoryLabel:er(yc({descendantName:"categoryLabel"}),a.categoryLabel),delete:er(yc({descendantName:"delete"}),a.delete)};return pc(pc({},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne;return ci(e,ac()),function(r){if((r||{}).includedAttributes&&(r||{}).excludedAttributes)throw new Error(ac("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var n=r||{},i=n.includedAttributes,o=n.excludedAttributes,a=void 0===o?["query"]:o,s=n.transformItems,c=void 0===s?function(e){return e}:s;return{$$type:"ais.currentRefinements",init:function(t){var r=t.instantSearchInstance;e(ic(ic({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance;e(ic(ic({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},dispose:function(){t()},getRenderState:function(e,t){return ic(ic({},e),{},{currentRefinements:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,n=e.scopedResults,o=e.createURL,s=e.helper,u=t?n.reduce((function(e,r){return e.concat(c(sc({results:r.results,helper:r.helper,indexId:r.indexId,includedAttributes:i,excludedAttributes:a}),{results:t}))}),[]):c(sc({results:{},helper:s,indexId:s.state.index,includedAttributes:i,excludedAttributes:a}),{results:t});return{items:u,canRefine:u.length>0,refine:function(e){return uc(s,e)},createURL:function(e){return o(cc(s.state,e))},widgetParams:r}}}}}(gc,(function(){return Lr(null,c)}))({container:c,cssClasses:u,includedAttributes:n,excludedAttributes:i,transformItems:s})),{},{$$widgetType:"ais.currentRefinements"})};function bc(){return bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bc.apply(this,arguments)}const Oc=function(e){var t=e.hasRefinements,r=e.refine,n=e.cssClasses,i=e.templateProps;return dr("div",{className:n.root},dr(ti,bc({},i,{templateKey:"resetLabel",rootTagName:"button",rootProps:{className:er(n.button,!t&&n.disabledButton),onClick:r,disabled:!t},data:{hasRefinements:t}})))};function wc(e){var t=e.helper,r=e.attributesToClear,n=void 0===r?[]:r,i=t.state.setPage(0);return i=n.reduce((function(e,t){return i.isNumericRefined(t)?e.removeNumericRefinement(t):i.isHierarchicalFacet(t)?e.removeHierarchicalFacetRefinement(t):i.isDisjunctiveFacet(t)?e.removeDisjunctiveFacetRefinement(t):i.isConjunctiveFacet(t)?e.removeFacetRefinement(t):e}),i),-1!==n.indexOf("query")&&(i=i.setQuery("")),i}function Sc(e){return Sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sc(e)}function jc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pc(Object(r),!0).forEach((function(t){_c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Sc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Sc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Sc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xc=Ue({name:"clear-refinements",connector:!0});const Ec=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne;return ci(e,xc()),function(r){var n=r||{},i=n.includedAttributes,o=void 0===i?[]:i,a=n.excludedAttributes,s=void 0===a?["query"]:a,c=n.transformItems,u=void 0===c?function(e){return e}:c;if(r&&r.includedAttributes&&r.excludedAttributes)throw new Error(xc("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var l={refine:ne,createURL:function(){return""},attributesToClear:[]},f=function(){return l.refine()},h=function(){return l.createURL()};return{$$type:"ais.clearRefinements",init:function(t){var r=t.instantSearchInstance;e(Rc(Rc({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance;e(Rc(Rc({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},dispose:function(){t()},getRenderState:function(e,t){return Rc(Rc({},e),{},{clearRefinements:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.createURL,n=e.scopedResults,i=e.results;l.attributesToClear=n.reduce((function(e,t){return e.concat(function(e){var t=e.scopedResult,r=e.includedAttributes,n=e.excludedAttributes,i=e.transformItems,o=e.results,a=-1!==r.indexOf("query")||-1===n.indexOf("query");return{helper:t.helper,items:i(Be(ec(t.results,t.helper.state,a).map((function(e){return e.attribute})).filter((function(e){return 0===r.length||-1!==r.indexOf(e)})).filter((function(e){return"query"===e&&a||-1===n.indexOf(e)}))),{results:o})}}({scopedResult:t,includedAttributes:o,excludedAttributes:s,transformItems:u,results:i}))}),[]),l.refine=function(){l.attributesToClear.forEach((function(e){var t=e.helper,r=e.items;t.setState(wc({helper:t,attributesToClear:r})).search()}))},l.createURL=function(){return t(Je.apply(void 0,(e=l.attributesToClear.map((function(e){return wc({helper:e.helper,attributesToClear:e.items})})),function(e){if(Array.isArray(e))return jc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return jc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jc(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())));var e};var a=l.attributesToClear.some((function(e){return e.items.length>0}));return{canRefine:a,hasRefinements:a,refine:f,createURL:h,widgetParams:r}}}}},Ic={resetLabel:function(){return"Clear refinements"}};function Tc(e){return Tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tc(e)}function kc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kc(Object(r),!0).forEach((function(t){Fc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Tc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Tc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Tc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Dc=Ue({name:"clear-refinements"}),Ac=n("ClearRefinements");const Cc=function(e){var t=e||{},r=t.container,n=t.templates,i=void 0===n?{}:n,o=t.includedAttributes,a=t.excludedAttributes,s=t.transformItems,c=t.cssClasses,u=void 0===c?{}:c;if(!r)throw new Error(Dc("The `container` option is required."));var l=Zi(r),f={root:er(Ac(),u.root),button:er(Ac({descendantName:"button"}),u.button),disabledButton:er(Ac({descendantName:"button",modifierName:"disabled"}),u.disabledButton)},h=function(e){var t=e.containerNode,r=e.cssClasses,n=e.renderState,i=e.templates;return function(e,o){var a=e.refine,s=e.canRefine,c=e.instantSearchInstance;o?n.templateProps=Gi({defaultTemplates:Ic,templatesConfig:c.templatesConfig,templates:i}):Lr(dr(Oc,{refine:a,cssClasses:r,hasRefinements:s,templateProps:n.templateProps}),t)}}({containerNode:l,cssClasses:f,renderState:{},templates:i});return Nc(Nc({},Ec(h,(function(){return Lr(null,l)}))({includedAttributes:o,excludedAttributes:a,transformItems:s})),{},{$$widgetType:"ais.clearRefinements"})};function Lc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Mc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mc(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Hc=/^(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)$/;function Uc(e){return Uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uc(e)}function qc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qc(Object(r),!0).forEach((function(t){Wc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Wc(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==Uc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==Uc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===Uc(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $c=Ue({name:"geo-search",connector:!0});function Qc(e){return e.insideBoundingBox||""}function Vc(e,t){return e.setQueryParameter("insideBoundingBox",t)}var Kc="ais.geoSearch";const Jc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ne;return ci(e,$c()),function(r){var n,i=r||{},o=i.enableRefineOnMapMove,a=void 0===o||o,s=i.transformItems,c=void 0===s?function(e){return e}:s,u={isRefineOnMapMove:a,hasMapMoveSinceLastRefine:!1,lastRefinePosition:"",lastRefineBoundingBox:"",internalToggleRefineOnMapMove:ne,internalSetMapMoveSinceLastRefine:ne},l=function(e){return e.aroundLatLng?function(e){var t=e.match(Hc);if(!t)throw new Error('Invalid value for "aroundLatLng" parameter: "'.concat(e,'"'));return{lat:parseFloat(t[1]),lng:parseFloat(t[2])}}(e.aroundLatLng):void 0},f=function(e){return e.insideBoundingBox&&(t=e.insideBoundingBox,Array.isArray(t)?function(e){var t=Lc(e,1)[0],r=Lc(void 0===t?[void 0,void 0,void 0,void 0]:t,4),n=r[0],i=r[1],o=r[2],a=r[3];if(!(n&&i&&o&&a))throw new Error('Invalid value for "insideBoundingBox" parameter: ['.concat(e,"]"));return{northEast:{lat:n,lng:i},southWest:{lat:o,lng:a}}}(t):function(e){var t=Lc(e.split(",").map(parseFloat),4),r=t[0],n=t[1],i=t[2],o=t[3];if(!(r&&n&&i&&o))throw new Error('Invalid value for "insideBoundingBox" parameter: "'.concat(e,'"'));return{northEast:{lat:r,lng:n},southWest:{lat:i,lng:o}}}(t));var t},h=function(e){return function(t){var r=t.northEast,n=t.southWest,i=[r.lat,r.lng,n.lat,n.lng].join();e.setState(Vc(e.state,i).resetPage()).search(),u.hasMapMoveSinceLastRefine=!1,u.lastRefineBoundingBox=i}},p=function(e){return function(){e.setQueryParameter("insideBoundingBox",void 0).search()}},d=function(e){return function(){return Boolean(e.insideBoundingBox)}},m=function(){return u.internalToggleRefineOnMapMove()},y=function(e,t){return function(){u.isRefineOnMapMove=!u.isRefineOnMapMove,t(e)}},g=function(){return u.isRefineOnMapMove},v=function(){return u.internalSetMapMoveSinceLastRefine()},b=function(e,t){return function(){var r=!0!==u.hasMapMoveSinceLastRefine;u.hasMapMoveSinceLastRefine=!0,r&&t(e)}},O=function(){return u.hasMapMoveSinceLastRefine};return{$$type:Kc,init:function(t){var r=t.instantSearchInstance;u.internalToggleRefineOnMapMove=y(t,ne),u.internalSetMapMoveSinceLastRefine=b(t,ne),e(Bc(Bc({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.helper,i=t.instantSearchInstance,o=r.state,a=Boolean(o.aroundLatLng)&&Boolean(u.lastRefinePosition)&&o.aroundLatLng!==u.lastRefinePosition,s=!o.insideBoundingBox&&Boolean(u.lastRefineBoundingBox)&&o.insideBoundingBox!==u.lastRefineBoundingBox;(a||s)&&(u.hasMapMoveSinceLastRefine=!1),u.lastRefinePosition=o.aroundLatLng||"",u.lastRefineBoundingBox=Qc(o),u.internalToggleRefineOnMapMove=y(t,this.render.bind(this)),u.internalSetMapMoveSinceLastRefine=b(t,this.render.bind(this));var c=this.getWidgetRenderState(t);n("view:internal",c.items),e(Bc(Bc({},c),{},{instantSearchInstance:i}),!1)},getWidgetRenderState:function(e){var t=e.helper,i=e.results,o=e.instantSearchInstance,a=t.state,s=i?c(i.hits.filter((function(e){return e._geoloc})),{results:i}):[];return n||(n=mi({instantSearchInstance:o,getIndex:function(){return t.getIndex()},widgetType:Kc})),{items:s,position:l(a),currentRefinement:f(a),refine:h(t),sendEvent:n,clearMapRefinement:p(t),isRefinedWithMap:d(a),toggleRefineOnMapMove:m,isRefineOnMapMove:g,setMapMoveSinceLastRefine:v,hasMapMoveSinceLastRefine:O,widgetParams:r}},getRenderState:function(e,t){return Bc(Bc({},e),{},{geoSearch:this.getWidgetRenderState(t)})},dispose:function(e){var r=e.state;return t(),r.setQueryParameter("insideBoundingBox",void 0)},getWidgetUiState:function(e,t){var r=Qc(t.searchParameters);return!r||e&&e.geoSearch&&e.geoSearch.boundingBox===r?e:Bc(Bc({},e),{},{geoSearch:{boundingBox:r}})},getWidgetSearchParameters:function(e,t){var r=t.uiState;return r&&r.geoSearch?Vc(e,r.geoSearch.boundingBox):e.setQueryParameter("insideBoundingBox",void 0)}}}};function zc(e){return zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zc(e)}function Xc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tu(n.key),n)}}function Gc(e,t){return Gc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Gc(e,t)}function Zc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yc(e){return Yc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yc(e)}function eu(e,t,r){return(t=tu(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tu(e){var t=function(e,t){if("object"!==zc(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==zc(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===zc(t)?t:String(t)}const ru=function(e){var t=function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gc(e,t)}(s,t);var r,n,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Yc(i);if(o){var r=Yc(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===zc(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Zc(e)}(this,e)});function s(t){var r,n=t.__id,i=t.position,o=t.map,c=t.template,u=t.className,l=t.anchor,f=void 0===l?{x:0,y:0}:l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),eu(Zc(r=a.call(this)),"__id",void 0),eu(Zc(r),"anchor",void 0),eu(Zc(r),"offset",void 0),eu(Zc(r),"listeners",void 0),eu(Zc(r),"latLng",void 0),eu(Zc(r),"element",void 0),r.__id=n,r.anchor=f,r.listeners={},r.latLng=new e.maps.LatLng(i),r.element=document.createElement("div"),r.element.className=u,r.element.style.position="absolute","object"===zc(c)?Lr(c,r.element):r.element.innerHTML=c,r.setMap(o),r}return r=s,(n=[{key:"onAdd",value:function(){this.getPanes().overlayMouseTarget.appendChild(this.element);var e=this.element.getBoundingClientRect();this.offset={x:this.anchor.x+e.width/2,y:this.anchor.y+e.height},this.element.style.width="".concat(e.width,"px")}},{key:"draw",value:function(){var e=this.getProjection().fromLatLngToDivPixel(this.latLng);this.element.style.left="".concat(Math.round(e.x-this.offset.x),"px"),this.element.style.top="".concat(Math.round(e.y-this.offset.y),"px"),this.element.style.zIndex=String(parseInt(this.element.style.top,10))}},{key:"onRemove",value:function(){var e=this;this.element&&(this.element.parentNode.removeChild(this.element),Object.keys(this.listeners).forEach((function(t){e.element.removeEventListener(t,e.listeners[t])})),delete this.element,delete this.listeners)}},{key:"addListener",value:function(e,t){this.listeners[e]=t;var r=this.element;return r.addEventListener(e,t),{remove:function(){return r.removeEventListener(e,t)}}}},{key:"getPosition",value:function(){return this.latLng}}])&&Xc(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),s}(e.maps.OverlayView);return t};var nu=dr("p",null,"Your custom HTML Marker");const iu={HTMLMarker:function(){return nu},reset:function(){return"Clear the map refinement"},toggle:function(){return"Search as I move the map"},redo:function(){return"Redo search here"}},ou=function(e){var t=e.className,r=e.disabled,n=void 0!==r&&r;return dr("button",{className:t,onClick:e.onClick,disabled:n},e.children)},au=function(e){var t=e.classNameLabel,r=e.classNameInput,n=e.checked,i=e.onToggle,o=e.children;return dr("label",{className:t},dr("input",{className:r,type:"checkbox",checked:n,onChange:i}),o)};function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},su.apply(this,arguments)}const cu=function(e){var t=e.cssClasses,r=e.enableRefine,n=e.enableRefineControl,i=e.enableClearMapRefinement,o=e.isRefineOnMapMove,a=e.isRefinedWithMap,s=e.hasMapMoveSinceLastRefine,c=e.onRefineToggle,u=e.onRefineClick,l=e.onClearClick,f=e.templateProps;return dr(yr,null,r&&dr("div",null,n&&dr("div",{className:t.control},o||!s?dr(au,{classNameLabel:er(t.label,o&&t.selectedLabel),classNameInput:t.input,checked:o,onToggle:c},dr(ti,su({},f,{templateKey:"toggle",rootTagName:"span"}))):dr(ou,{className:t.redo,disabled:!s,onClick:u},dr(ti,su({},f,{templateKey:"redo",rootTagName:"span"})))),!n&&!o&&dr("div",{className:t.control},dr(ou,{className:er(t.redo,!s&&t.disabledRedo),disabled:!s,onClick:u},dr(ti,su({},f,{templateKey:"redo",rootTagName:"span"})))),i&&a&&dr(ou,{className:t.reset,onClick:l},dr(ti,su({},f,{templateKey:"reset",rootTagName:"span"})))))};function uu(e){return uu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(e)}function lu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fu(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==uu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==uu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===uu(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,s=[],c=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return pu(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pu(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pu(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var du=function(e){var t=e.refine,r=e.mapInstance;return t({northEast:r.getBounds().getNorthEast().toJSON(),southWest:r.getBounds().getSouthWest().toJSON()})},mu=function(e,t){e.isUserInteraction=!1,t(),e.isUserInteraction=!0};const yu=function(e,t){var r=e.items,n=e.position,i=e.currentRefinement,o=e.refine,a=e.clearMapRefinement,s=e.toggleRefineOnMapMove,c=e.isRefineOnMapMove,u=e.setMapMoveSinceLastRefine,l=e.hasMapMoveSinceLastRefine,f=e.isRefinedWithMap,h=e.widgetParams,p=e.instantSearchInstance,d=h.container,m=h.googleReference,y=h.cssClasses,g=h.templates,v=h.initialZoom,b=h.initialPosition,O=h.enableRefine,w=h.enableClearMapRefinement,S=h.enableRefineControl,j=h.mapOptions,P=h.createMarker,R=h.markerOptions,_=h.renderState;if(t){_.isUserInteraction=!0,_.isPendingRefine=!1,_.markers=[];var x=document.createElement("div");x.className=y.root,d.appendChild(x);var E=document.createElement("div");E.className=y.map,x.appendChild(E);var I=document.createElement("div");return I.className=y.tree,x.appendChild(I),_.mapInstance=new m.maps.Map(E,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lu(Object(r),!0).forEach((function(t){fu(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({mapTypeControl:!1,fullscreenControl:!1,streetViewControl:!1,clickableIcons:!1,zoomControlOptions:{position:m.maps.ControlPosition.LEFT_TOP}},j)),m.maps.event.addListenerOnce(_.mapInstance,"idle",(function(){var e=function(){_.isUserInteraction&&O&&(u(),c()&&(_.isPendingRefine=!0))};_.mapInstance.addListener("center_changed",e),_.mapInstance.addListener("zoom_changed",e),_.mapInstance.addListener("dragstart",e),_.mapInstance.addListener("idle",(function(){_.isUserInteraction&&_.isPendingRefine&&(_.isPendingRefine=!1,du({mapInstance:_.mapInstance,refine:o}))}))})),void(_.templateProps=Gi({templatesConfig:p.templatesConfig,templates:g}))}var T,k,N=r.map((function(e){return e.objectID})),F=(T=_.markers,k=N,T.reduce((function(e,t){var r=hu(e,2),n=r[0],i=r[1];return k.includes(t.__id)?[n.concat(t),i]:[n,i.concat(t)]}),[[],[]])),D=hu(F,2),A=D[0],C=D[1],L=A.map((function(e){return e.__id})),M=r.filter((function(e){return!L.includes(e.objectID)}));C.forEach((function(e){return e.setMap(null)})),_.markers=A.concat(M.map((function(e){var t=P({map:_.mapInstance,item:e});return Object.keys(R.events).forEach((function(r){t.addListener(r,(function(n){R.events[r]({map:_.mapInstance,event:n,item:e,marker:t})}))})),t})));var H=!l(),U=i?0:null,q=!i&&Boolean(_.markers.length)?function(e,t){var r=t.reduce((function(e,t){return e.extend(t.getPosition())}),new e.maps.LatLngBounds);return{northEast:r.getNorthEast().toJSON(),southWest:r.getSouthWest().toJSON()}}(m,_.markers):i;q&&H?mu(_,(function(){_.mapInstance.fitBounds(new m.maps.LatLngBounds(q.southWest,q.northEast),U)})):H&&mu(_,(function(){_.mapInstance.setCenter(n||b),_.mapInstance.setZoom(v)})),Lr(dr(cu,{cssClasses:y,enableRefine:O,enableRefineControl:S,enableClearMapRefinement:w,isRefineOnMapMove:c(),isRefinedWithMap:f(),hasMapMoveSinceLastRefine:l(),onRefineToggle:s,onRefineClick:function(){return du({mapInstance:_.mapInstance,refine:o})},onClearClick:a,templateProps:_.templateProps}),d.querySelector(".".concat(y.tree)))};function gu(e){return gu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(e)}var vu=["initialZoom","initialPosition","templates","cssClasses","builtInMarker","customHTMLMarker","enableRefine","enableClearMapRefinement","enableRefineControl","container","googleReference"],bu=["item"],Ou=["item"];function wu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Su(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wu(Object(r),!0).forEach((function(t){ju(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wu(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ju(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==gu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==gu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===gu(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pu(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ru=Ue({name:"geo-search"}),_u=n("GeoSearch");const xu=function(e){var t=e||{},r=t.initialZoom,n=void 0===r?1:r,i=t.initialPosition,o=void 0===i?{lat:0,lng:0}:i,a=t.templates,s=void 0===a?{}:a,c=t.cssClasses,u=void 0===c?{}:c,l=t.builtInMarker,f=void 0===l?{}:l,h=t.customHTMLMarker,p=t.enableRefine,d=void 0===p||p,m=t.enableClearMapRefinement,y=void 0===m||m,g=t.enableRefineControl,v=void 0===g||g,b=t.container,O=t.googleReference,w=Pu(t,vu);if(!b)throw new Error(Ru("The `container` option is required."));if(!O)throw new Error(Ru("The `googleReference` option is required."));var S=Zi(b),j={root:er(_u(),u.root),tree:_u({descendantName:"tree"}),map:er(_u({descendantName:"map"}),u.map),control:er(_u({descendantName:"control"}),u.control),label:er(_u({descendantName:"label"}),u.label),selectedLabel:er(_u({descendantName:"label",modifierName:"selected"}),u.selectedLabel),input:er(_u({descendantName:"input"}),u.input),redo:er(_u({descendantName:"redo"}),u.redo),disabledRedo:er(_u({descendantName:"redo",modifierName:"disabled"}),u.disabledRedo),reset:er(_u({descendantName:"reset"}),u.reset)},P=Su(Su({},iu),s),R=Su(Su({},{createOptions:function(){return{}},events:{}}),f),_=(Boolean(h)||Boolean(s.HTMLMarker))&&Su(Su({},{createOptions:function(){return{}},events:{}}),h),x=ru(O),E=_?function(e){var t=e.item,r=Pu(e,Ou);return new x(Su(Su(Su({},_.createOptions(t)),r),{},{__id:t.objectID,position:t._geoloc,className:er(_u({descendantName:"marker"})),template:Hn({templateKey:"HTMLMarker",templates:P,data:t})}))}:function(e){var t=e.item,r=Pu(e,bu);return new O.maps.Marker(Su(Su(Su({},R.createOptions(t)),r),{},{__id:t.objectID,position:t._geoloc}))},I=_||R;return Su(Su({},Jc(yu,(function(){return Lr(null,S)}))(Su(Su({},w),{},{renderState:{},container:S,googleReference:O,initialZoom:n,initialPosition:o,templates:P,cssClasses:j,createMarker:E,markerOptions:I,enableRefine:d,enableClearMapRefinement:y,enableRefineControl:v}))),{},{$$widgetType:"ais.geoSearch"})},Eu={applicationID:"XXX",searchOnlyAPIKey:"XXX",googleMapsAPIKey:"XXX",categoryListing:{indexName:"XXX",hitsPerPage:20,filters:"objectType:book",hitsQuery:"#algolia-listing",searchBoxQuery:"",paginationQuery:"",infiniteHits:!0,hitTemplates:{book:e=>`\n                    <div class="book">\n                        <strong><a href="${e.mainVirtualCategoryLink}">${e.title}</a></strong>\n                        <p>${e.description}</p>\n                    </div>\n                `}},siteSearchListing:{indexName:"XXX",hitsPerPage:5,filters:"",refinements:[{type:"list",container:"#site-search__refinements1",attribute:"publishers.name",operator:"and",sortBy:["name:asc"]},{type:"menu",container:"#site-search__refinements2",attribute:"productTypesData.productType",sortBy:["name:asc"]}],hitsQuery:"#site-search__hits",searchBoxQuery:"#site-navigation__additional-actions__search-input",paginationQuery:"#site-search__pagination",currentRefinementsQuery:"#site-search__current-refinements",clearRefinementsQuery:"#site-search__clear-refinements",infiniteHits:!1,requiredLettersToSearch:1,hitTemplates:{book:e=>`\n                    <div class="book">\n                        <strong><a href="${e.mainVirtualCategoryLink}">${e.title}</a></strong>\n                        <p>${e.description}</p>\n                    </div>\n                `,author:e=>`\n                    <div class="author">\n                        <strong><a href="/autor">${e.authors[0].name}</a></strong>\n                        <p>${e.authors[0].bio}</p>\n                    </div>\n                `,translator:e=>`\n                    <div class="translator">\n                        <strong>${e.authors[0].name}</strong>\n                        <p>${e.authors[0].bio}</p>\n                    </div>\n                `}},eventListing:{indexName:"XXX",hitsPerPage:20,filters:"objectType:event",hitsQuery:"#events-hits",searchBoxQuery:"",paginationQuery:"",infiniteHits:!0,hitTemplates:{},geoSearchQuery:"#events-geo"},authorListing:{indexName:"XXX",hitsPerPage:20,filters:"objectType:author",hitsQuery:"#author-hits",searchBoxQuery:"",paginationQuery:"",infiniteHits:!0,hitTemplates:{}},magazineListing:{indexName:"XXX",hitsPerPage:20,filters:"objectType:magazine",hitsQuery:"",searchBoxQuery:"",paginationQuery:"",infiniteHits:!0,hitTemplates:{}},hitTemplates:{empty:e=>`\n                <div class="empty">\n                    No results have been found for "${e}"!\n                </div>\n            `},identifierCacheInSessionStorage:"siteSearchListing",searchBoxPlaceholder:"Suche"};let Iu=[],Tu=e=>e,ku={},Nu={addEventListener(){},removeEventListener(){}};(function(){try{return"undefined"!=typeof localStorage}catch{return!1}})()&&(ku=localStorage);let Fu={addEventListener(e,t,r){window.addEventListener("storage",t),window.addEventListener("pageshow",r)},removeEventListener(e,t,r){window.removeEventListener("storage",t),window.removeEventListener("pageshow",r)}};"undefined"!=typeof window&&(Nu=Fu);const Du=function(e,t,r={}){let n=r.encode||Tu,i=r.decode||Tu,o=((e,t)=>{let r=[],n={get:()=>(n.lc||n.listen((()=>{}))(),n.value),l:0,lc:0,listen:(e,t)=>(n.lc=r.push(e,t||n.l)/2,()=>{let t=r.indexOf(e);~t&&(r.splice(t,2),--n.lc||n.off())}),notify(e){let t=!Iu.length;for(let t=0;t<r.length;t+=2)Iu.push(r[t],r[t+1],n.value,e);if(t){for(let e=0;e<Iu.length;e+=4){let t;for(let r=e+1;!t&&(r+=4)<Iu.length;)Iu[r]<Iu[e+1]&&(t=Iu.push(Iu[e],Iu[e+1],Iu[e+2],Iu[e+3]));t||Iu[e](Iu[e+2],Iu[e+3])}Iu.length=0}},off(){},set(e){n.value!==e&&(n.value=e,n.notify())},subscribe(e,t){let r=n.listen(e,t);return e(n.value),r},value:e};return n})(t),a=o.set;function s(t){t.key===e?null===t.newValue?a(void 0):a(i(t.newValue)):ku[e]||a(void 0)}function c(){o.set(ku[e]?i(ku[e]):t)}var u,l;return o.set=t=>{void 0===t?delete ku[e]:ku[e]=n(t),a(t)},l=()=>{if(c(),!1!==r.listen)return Nu.addEventListener(e,s,c),()=>{Nu.removeEventListener(e,s,c)}},((e,t,r,n)=>{e.events=e.events||{},e.events[r+10]||(e.events[r+10]=n((t=>{e.events[r].reduceRight(((e,t)=>(t(e),e)),{shared:{},...t})}))),e.events[r]=e.events[r]||[],e.events[r].push(t)})(u=o,(e=>{let t=l();t&&u.events[6].push(t)}),5,(e=>{let t=u.listen;u.listen=(...r)=>(u.lc||u.active||(u.active=!0,e()),t(...r));let r=u.off;return u.events[6]=[],u.off=()=>{r(),setTimeout((()=>{if(u.active&&!u.lc){u.active=!1;for(let e of u.events[6])e();u.events[6]=[]}}),1e3)},()=>{u.listen=t,u.off=r}})),o}("sitesearch","");function Au(){return Du.get()}function Cu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}"function"==typeof SuppressedError&&SuppressedError;var Lu=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!=i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!=i--;){var a=o[i];if(!e(t[a],r[a]))return!1}return!0}return t!=t&&r!=r},Mu=Cu(Lu);const Hu="__googleMapsScriptId";var Uu;!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(Uu||(Uu={}));class qu{constructor({apiKey:e,authReferrerPolicy:t,channel:r,client:n,id:i=Hu,language:o,libraries:a=[],mapIds:s,nonce:c,region:u,retries:l=3,url:f="https://maps.googleapis.com/maps/api/js",version:h}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=t,this.channel=r,this.client=n,this.id=i||Hu,this.language=o,this.libraries=a,this.mapIds=s,this.nonce=c,this.region=u,this.retries=l,this.url=f,this.version=h,qu.instance){if(!Mu(this.options,qu.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(qu.instance.options)}`);return qu.instance}qu.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Uu.FAILURE:this.done?Uu.SUCCESS:this.loading?Uu.LOADING:Uu.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise(((e,t)=>{this.loadCallback((r=>{r?t(r.error):e(window.google)}))}))}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,t;if(document.getElementById(this.id))return void this.callback();const r={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(r).forEach((e=>!r[e]&&delete r[e])),(null===(t=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.maps)||void 0===t?void 0:t.importLibrary)||(e=>{let t,r,n,i="The Google Maps JavaScript API",o="google",a="importLibrary",s="__ib__",c=document,u=window;u=u[o]||(u[o]={});const l=u.maps||(u.maps={}),f=new Set,h=new URLSearchParams,p=()=>t||(t=new Promise(((a,u)=>function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}(this,void 0,void 0,(function*(){var p;for(n in yield r=c.createElement("script"),r.id=this.id,h.set("libraries",[...f]+""),e)h.set(n.replace(/[A-Z]/g,(e=>"_"+e[0].toLowerCase())),e[n]);h.set("callback",o+".maps."+s),r.src=this.url+"?"+h,l[s]=a,r.onerror=()=>t=u(Error(i+" could not load.")),r.nonce=this.nonce||(null===(p=c.querySelector("script[nonce]"))||void 0===p?void 0:p.nonce)||"",c.head.append(r)})))));l[a]?console.warn(i+" only loads once. Ignoring:",e):l[a]=(e,...t)=>f.add(e)&&p().then((()=>l[a](e,...t)))})(r);const n=this.libraries.map((e=>this.importLibrary(e)));n.length||n.push(this.importLibrary("core")),Promise.all(n).then((()=>this.callback()),(e=>{const t=new ErrorEvent("error",{error:e});this.loadErrorCallback(t)}))}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const e=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${e} ms.`),setTimeout((()=>{this.deleteScript(),this.setScript()}),e)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach((e=>{e(this.onerrorEvent)})),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version)return console.warn("Google Maps already loaded outside @googlemaps/js-api-loader.This may result in undesirable behavior as options and script parameters may not match."),void this.callback();this.loading||(this.loading=!0,this.setScript())}}}const Bu={setup(e=""){if(""===e||!document.querySelector(Eu[e].hitsQuery))return!1;const r=t()(Eu.applicationID,Eu.searchOnlyAPIKey);let n="",i="";e!==Eu.identifierCacheInSessionStorage?n={routing:{stateMapping:Ae(),router:Ee()}}:(i=Au(),i=i&&i.length>0?JSON.parse(Au()):"");const o=Bt({indexName:Eu[e].indexName,searchClient:r,routing:n,initialUiState:i,onStateChange({uiState:t,setUiState:r}){var n;e===Eu.identifierCacheInSessionStorage&&(n=JSON.stringify(t),Du.set(n)),r(t)},searchFunction:t=>{if(Eu[e].searchBoxQuery&&Eu[e].requiredLettersToSearch&&t.state.query.length<Eu[e].requiredLettersToSearch)return!1;t.search()}});return Bu.addWidgets.init(o,e),o},hitHtmlRenderer:{templates:e=>({empty:({query:e},{html:t})=>t`${Eu.hitTemplates.empty(e)}`,item:(t,{html:r,components:n})=>(t.__position,Eu[e].hitTemplates[t.objectType]?r`${Eu[e].hitTemplates[t.objectType](t)}`:(console.log(`Missing renderer for ${t.objectType}! Add in theme directory in /scripts/utils/algolia-config.js.`),""))})},addWidgets:{init(e,t){if(Bu.addWidgets.common(e,t),Eu[t].infiniteHits?Bu.addWidgets.infiniteHits(e,t):Bu.addWidgets.hits(e,t),Eu[t].searchBoxQuery&&Bu.addWidgets.searchBox(e,t),Eu[t].paginationQuery&&Bu.addWidgets.pagination(e,t),Eu[t].refinements&&Eu[t].refinements.length>0){const r=Eu[t].refinements;for(const t of r)"list"===t.type?Bu.addWidgets.refinementList(e,t):"menu"===t.type?Bu.addWidgets.menu(e,t):"hierarchicalMenu"===t.type&&Bu.addWidgets.hierarchicalMenu(e,t)}Eu[t].currentRefinementsQuery&&Bu.addWidgets.currentRefinements(e,t),Eu[t].clearRefinementsQuery&&Bu.addWidgets.clearRefinements(e,t),Eu[t].geoSearchQuery&&Bu.addWidgets.geoSearch(e,t)},common:(e,t)=>e.addWidgets([Yt({filters:Eu[t].filters,hitsPerPage:Eu[t].hitsPerPage})]),infiniteHits:(e,t)=>e.addWidgets([so({cache:ee(),container:Eu[t].hitsQuery,templates:Bu.hitHtmlRenderer.templates(t),showPrevious:!0})]),hits:(e,t)=>e.addWidgets([Eo({container:Eu[t].hitsQuery,templates:Bu.hitHtmlRenderer.templates(t)})]),searchBox:(e,t)=>e.addWidgets([ra({container:Eu[t].searchBoxQuery,placeholder:Eu.searchBoxPlaceholder})]),pagination:(e,t)=>e.addWidgets([Ra({container:Eu[t].paginationQuery})]),refinementList:(e,t)=>e.addWidgets([ps({container:t.container,attribute:t.attribute,operator:t.operator,sortBy:t.sortBy})]),menu:(e,t)=>e.addWidgets([Ns({container:t.container,attribute:t.attribute,sortBy:t.sortBy})]),hierarchicalMenu:(e,t)=>e.addWidgets([Xs({container:t.container,attributes:t.attributes,sortBy:t.sortBy})]),currentRefinements:(e,t)=>e.addWidgets([vc({container:Eu[t].currentRefinementsQuery})]),clearRefinements:(e,t)=>e.addWidgets([Cc({container:Eu[t].clearRefinementsQuery})]),async geoSearch(e,t){const r=new qu({apiKey:Eu.googleMapsAPIKey,version:"weekly"});return await r.importLibrary("maps"),e.addWidgets([xu({container:Eu[t].geoSearchQuery,googleReference:window.google,mapOptions:{streetViewControl:!0},enableRefineOnMapMove:!1})])}}};Bu.setup("categoryListing").start()})()})();